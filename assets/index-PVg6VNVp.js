(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function t_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n_={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC=Symbol.for("react.transitional.element"),SC=Symbol.for("react.fragment");function i_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:wC,type:t,key:i,ref:e!==void 0?e:null,props:n}}$u.Fragment=SC;$u.jsx=i_;$u.jsxs=i_;n_.exports=$u;var c=n_.exports,s_={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.transitional.element"),TC=Symbol.for("react.portal"),EC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),AC=Symbol.for("react.consumer"),RC=Symbol.for("react.context"),IC=Symbol.for("react.forward_ref"),jC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),a_=Symbol.for("react.lazy"),kC=Symbol.for("react.activity"),Ly=Symbol.iterator;function DC(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var r_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o_=Object.assign,l_={};function mr(t,e,n){this.props=t,this.context=e,this.refs=l_,this.updater=n||r_}mr.prototype.isReactComponent={};mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c_(){}c_.prototype=mr.prototype;function Qm(t,e,n){this.props=t,this.context=e,this.refs=l_,this.updater=n||r_}var Zm=Qm.prototype=new c_;Zm.constructor=Qm;o_(Zm,mr.prototype);Zm.isPureReactComponent=!0;var Uy=Array.isArray;function of(){}var Me={H:null,A:null,T:null,S:null},u_=Object.prototype.hasOwnProperty;function Jm(t,e,n){var i=n.ref;return{$$typeof:Xm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function MC(t,e){return Jm(t.type,e,t.props)}function ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xm}function LC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Py=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LC(""+t.key):e.toString(36)}function UC(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(of,of):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fa(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Xm:case TC:r=!0;break;case a_:return r=t._init,fa(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+zd(t,0):i,Uy(s)?(n="",r!=null&&(n=r.replace(Py,"$&/")+"/"),fa(s,e,n,"",function(u){return u})):s!=null&&(ep(s)&&(s=MC(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Py,"$&/")+"/")+r)),e.push(s)),1;r=0;var o=i===""?".":i+":";if(Uy(t))for(var l=0;l<t.length;l++)i=t[l],a=o+zd(i,l),r+=fa(i,e,n,a,s);else if(l=DC(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,a=o+zd(i,l++),r+=fa(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return fa(UC(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function zl(t,e,n){if(t==null)return t;var i=[],s=0;return fa(t,i,"","",function(a){return e.call(n,a,s++)}),i}function PC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zC={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=kC;ne.Children=zC;ne.Component=mr;ne.Fragment=EC;ne.Profiler=CC;ne.PureComponent=Qm;ne.StrictMode=NC;ne.Suspense=jC;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Me.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=o_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!u_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];i.children=r}return Jm(t.type,s,i)};ne.createContext=function(t){return t={$$typeof:RC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:AC,_context:t},t};ne.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)u_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Jm(t,a,s)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:IC,render:t}};ne.isValidElement=ep;ne.lazy=function(t){return{$$typeof:a_,_payload:{_status:-1,_result:t},_init:PC}};ne.memo=function(t,e){return{$$typeof:OC,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Me.T,n={};Me.T=n;try{var i=t(),s=Me.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(of,zy)}catch(a){zy(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Me.T=e}};ne.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()};ne.use=function(t){return Me.H.use(t)};ne.useActionState=function(t,e,n){return Me.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return Me.H.useCallback(t,e)};ne.useContext=function(t){return Me.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return Me.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return Me.H.useEffect(t,e)};ne.useEffectEvent=function(t){return Me.H.useEffectEvent(t)};ne.useId=function(){return Me.H.useId()};ne.useImperativeHandle=function(t,e,n){return Me.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Me.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Me.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Me.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return Me.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return Me.H.useReducer(t,e,n)};ne.useRef=function(t){return Me.H.useRef(t)};ne.useState=function(t){return Me.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Me.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Me.H.useTransition()};ne.version="19.2.3";s_.exports=ne;var E=s_.exports;const VC=t_(E);var d_={exports:{}},qu={},h_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var U=M.length;M.push(B);e:for(;0<U;){var ae=U-1>>>1,T=M[ae];if(0<s(T,B))M[ae]=B,M[U]=T,U=ae;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var B=M[0],U=M.pop();if(U!==B){M[0]=U;e:for(var ae=0,T=M.length,S=T>>>1;ae<S;){var P=2*(ae+1)-1,F=M[P],q=P+1,Y=M[q];if(0>s(F,U))q<T&&0>s(Y,F)?(M[ae]=Y,M[q]=U,ae=q):(M[ae]=F,M[P]=U,ae=P);else if(q<T&&0>s(Y,U))M[ae]=Y,M[q]=U,ae=q;else break e}}return B}function s(M,B){var U=M.sortIndex-B.sortIndex;return U!==0?U:M.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();t.unstable_now=function(){return r.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,b=!1,_=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(M){for(var B=n(u);B!==null;){if(B.callback===null)i(u);else if(B.startTime<=M)i(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function N(M){if(b=!1,w(M),!x)if(n(l)!==null)x=!0,j||(j=!0,le());else{var B=n(u);B!==null&&_t(N,B.startTime-M)}}var j=!1,A=-1,C=5,L=-1;function I(){return _?!0:!(t.unstable_now()-L<C)}function X(){if(_=!1,j){var M=t.unstable_now();L=M;var B=!0;try{e:{x=!1,b&&(b=!1,p(A),A=-1),m=!0;var U=h;try{t:{for(w(M),f=n(l);f!==null&&!(f.expirationTime>M&&I());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var T=ae(f.expirationTime<=M);if(M=t.unstable_now(),typeof T=="function"){f.callback=T,w(M),B=!0;break t}f===n(l)&&i(l),w(M)}else i(l);f=n(l)}if(f!==null)B=!0;else{var S=n(u);S!==null&&_t(N,S.startTime-M),B=!1}}break e}finally{f=null,h=U,m=!1}B=void 0}}finally{B?le():j=!1}}}var le;if(typeof y=="function")le=function(){y(X)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Ke=tt.port2;tt.port1.onmessage=X,le=function(){Ke.postMessage(null)}}else le=function(){g(X,0)};function _t(M,B){A=g(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var U=h;h=B;try{return M()}finally{h=U}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return B()}finally{h=U}},t.unstable_scheduleCallback=function(M,B,U){var ae=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ae+U:ae):U=ae,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=U+T,M={id:d++,callback:B,priorityLevel:M,startTime:U,expirationTime:T,sortIndex:-1},U>ae?(M.sortIndex=U,e(u,M),n(l)===null&&M===n(u)&&(b?(p(A),A=-1):b=!0,_t(N,U-ae))):(M.sortIndex=T,e(l,M),x||m||(x=!0,j||(j=!0,le()))),M},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(M){var B=h;return function(){var U=h;h=B;try{return M.apply(this,arguments)}finally{h=U}}}})(f_);h_.exports=f_;var BC=h_.exports,m_={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=E;function p_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ai(){}var At={d:{f:Ai,r:function(){throw Error(p_(522))},D:Ai,C:Ai,L:Ai,m:Ai,X:Ai,S:Ai,M:Ai},p:0,findDOMNode:null},FC=Symbol.for("react.portal");function GC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FC,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var so=HC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Yu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(p_(299));return GC(t,e,null,n)};kt.flushSync=function(t){var e=so.T,n=At.p;try{if(so.T=null,At.p=2,t)return t()}finally{so.T=e,At.p=n,At.d.f()}};kt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,At.d.C(t,e))};kt.prefetchDNS=function(t){typeof t=="string"&&At.d.D(t)};kt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Yu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?At.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&At.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};kt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Yu(e.as,e.crossOrigin);At.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&At.d.M(t)};kt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Yu(n,e.crossOrigin);At.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};kt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Yu(e.as,e.crossOrigin);At.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else At.d.m(t)};kt.requestFormReset=function(t){At.d.r(t)};kt.unstable_batchedUpdates=function(t,e){return t(e)};kt.useFormState=function(t,e,n){return so.H.useFormState(t,e,n)};kt.useFormStatus=function(){return so.H.useHostTransitionStatus()};kt.version="19.2.3";function g_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g_)}catch(t){console.error(t)}}g_(),m_.exports=kt;var $C=m_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=BC,y_=E,qC=$C;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vy(t){if(ol(t)!==t)throw Error(R(188))}function YC(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Vy(s),t;if(a===i)return Vy(s),e;a=a.sibling}throw Error(R(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function __(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=__(t),e!==null)return e;t=t.sibling}return null}var Le=Object.assign,WC=Symbol.for("react.element"),Vl=Symbol.for("react.transitional.element"),Wr=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),S_=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),np=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),df=Symbol.for("react.activity"),KC=Symbol.for("react.memo_cache_sentinel"),By=Symbol.iterator;function Dr(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var XC=Symbol.for("react.client.reference");function hf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===XC?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case lf:return"Profiler";case w_:return"StrictMode";case cf:return"Suspense";case uf:return"SuspenseList";case df:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Wr:return"Portal";case ii:return t.displayName||"Context";case S_:return(t._context.displayName||"Context")+".Consumer";case tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case np:return e=t.displayName||null,e!==null?e:hf(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return hf(t(e))}catch{}}return null}var Kr=Array.isArray,Z=y_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=qC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ls={pending:!1,data:null,method:null,action:null},ff=[],xa=-1;function Wn(t){return{current:t}}function ft(t){0>xa||(t.current=ff[xa],ff[xa]=null,xa--)}function Ie(t,e){xa++,ff[xa]=t.current,t.current=e}var Fn=Wn(null),Oo=Wn(null),Ki=Wn(null),zc=Wn(null);function Vc(t,e){switch(Ie(Ki,e),Ie(Oo,t),Ie(Fn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Y0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Y0(e),t=F1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(Fn),Ie(Fn,t)}function Qa(){ft(Fn),ft(Oo),ft(Ki)}function mf(t){t.memoizedState!==null&&Ie(zc,t);var e=Fn.current,n=F1(e,t.type);e!==n&&(Ie(Oo,t),Ie(Fn,n))}function Bc(t){Oo.current===t&&(ft(Fn),ft(Oo)),zc.current===t&&(ft(zc),Fo._currentValue=Ls)}var Vd,Hy;function Es(t){if(Vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vd=e&&e[1]||"",Hy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vd+t+Hy}var Bd=!1;function Hd(t,e){if(!t||Bd)return"";Bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),u=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===u.length)for(i=l.length-1,s=u.length-1;1<=i&&0<=s&&l[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==u[s]){var d=`
`+l[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{Bd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Es(n):""}function QC(t,e){switch(t.tag){case 26:case 27:case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return t.child!==e&&e!==null?Es("Suspense Fallback"):Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return Hd(t.type,!1);case 11:return Hd(t.type.render,!1);case 1:return Hd(t.type,!0);case 31:return Es("Activity");default:return""}}function Fy(t){try{var e="",n=null;do e+=QC(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var pf=Object.prototype.hasOwnProperty,ip=at.unstable_scheduleCallback,Fd=at.unstable_cancelCallback,ZC=at.unstable_shouldYield,JC=at.unstable_requestPaint,Qt=at.unstable_now,eA=at.unstable_getCurrentPriorityLevel,T_=at.unstable_ImmediatePriority,E_=at.unstable_UserBlockingPriority,Hc=at.unstable_NormalPriority,tA=at.unstable_LowPriority,N_=at.unstable_IdlePriority,nA=at.log,iA=at.unstable_setDisableYieldValue,ll=null,Zt=null;function Fi(t){if(typeof nA=="function"&&iA(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ll,t)}catch{}}var Jt=Math.clz32?Math.clz32:rA,sA=Math.log,aA=Math.LN2;function rA(t){return t>>>=0,t===0?32:31-(sA(t)/aA|0)|0}var Bl=256,Hl=262144,Fl=4194304;function Ns(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?s=Ns(i):(r&=o,r!==0?s=Ns(r):n||(n=o&~t,n!==0&&(s=Ns(n))))):(o=i&~a,o!==0?s=Ns(o):r!==0?s=Ns(r):n||(n=i&~t,n!==0&&(s=Ns(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function cl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function oA(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(){var t=Fl;return Fl<<=1,!(Fl&62914560)&&(Fl=4194304),t}function Gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lA(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Jt(n),f=1<<d;o[d]=0,l[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&A_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function A_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Jt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function R_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function I_(t,e){var n=e&-e;return n=n&42?1:sp(n),n&(t.suspendedLanes|e)?0:n}function sp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ap(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function j_(){var t=ve.p;return t!==0?t:(t=window.event,t===void 0?32:eS(t.type))}function Gy(t,e){var n=ve.p;try{return ve.p=t,e()}finally{ve.p=n}}var ys=Math.random().toString(36).slice(2),yt="__reactFiber$"+ys,Ft="__reactProps$"+ys,pr="__reactContainer$"+ys,gf="__reactEvents$"+ys,cA="__reactListeners$"+ys,uA="__reactHandles$"+ys,$y="__reactResources$"+ys,dl="__reactMarker$"+ys;function rp(t){delete t[yt],delete t[Ft],delete t[gf],delete t[cA],delete t[uA]}function va(t){var e=t[yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z0(t);t!==null;){if(n=t[yt])return n;t=Z0(t)}return e}t=n,n=t.parentNode}return null}function gr(t){if(t=t[yt]||t[pr]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function La(t){var e=t[$y];return e||(e=t[$y]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ut(t){t[dl]=!0}var O_=new Set,k_={};function na(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(k_[t]=e,t=0;t<e.length;t++)O_.add(e[t])}var dA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qy={},Yy={};function hA(t){return pf.call(Yy,t)?!0:pf.call(qy,t)?!1:dA.test(t)?Yy[t]=!0:(qy[t]=!0,!1)}function fc(t,e,n){if(hA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fA(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yf(t){if(!t._valueTracker){var e=D_(t)?"checked":"value";t._valueTracker=fA(t,e,""+t[e])}}function M_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=D_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mA=/[\n"\\]/g;function dn(t){return t.replace(mA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xf(t,e,n,i,s,a,r,o){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ln(e)):t.value!==""+ln(e)&&(t.value=""+ln(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?vf(t,r,ln(e)):n!=null?vf(t,r,ln(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ln(o):t.removeAttribute("name")}function L_(t,e,n,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){yf(t);return}n=n!=null?""+ln(n):"",e=e!=null?""+ln(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),yf(t)}function vf(t,e,n){e==="number"&&Fc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ua(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function U_(t,e,n){if(e!=null&&(e=""+ln(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ln(n):""}function P_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Kr(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ln(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),yf(t)}function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||pA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function z_(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Wy(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Wy(t,a,e[a])}function op(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mc(t){return yA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var bf=null;function lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,Pa=null;function Ky(t){var e=gr(t);if(e&&(t=e.stateNode)){var n=t[Ft]||null;e:switch(t=e.stateNode,e.type){case"input":if(xf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Ft]||null;if(!s)throw Error(R(90));xf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&M_(i)}break e;case"textarea":U_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ua(t,!!n.multiple,e,!1)}}}var $d=!1;function V_(t,e,n){if($d)return t(e,n);$d=!0;try{var i=t(e);return i}finally{if($d=!1,(ba!==null||Pa!==null)&&(rd(),ba&&(e=ba,t=Pa,Pa=ba=null,Ky(e),t)))for(e=0;e<t.length;e++)Ky(t[e])}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ft]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(mi)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{_f=!1}var Gi=null,cp=null,pc=null;function B_(){if(pc)return pc;var t,e=cp,n=e.length,i,s="value"in Gi?Gi.value:Gi.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return pc=s.slice(t,1<i?1-i:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function Xy(){return!1}function $t(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$l:Xy,this.isPropagationStopped=Xy,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=$t(ia),hl=Le({},ia,{view:0,detail:0}),xA=$t(hl),qd,Yd,Lr,Xu=Le({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(qd=t.screenX-Lr.screenX,Yd=t.screenY-Lr.screenY):Yd=qd=0,Lr=t),qd)},movementY:function(t){return"movementY"in t?t.movementY:Yd}}),Qy=$t(Xu),vA=Le({},Xu,{dataTransfer:0}),bA=$t(vA),_A=Le({},hl,{relatedTarget:0}),Wd=$t(_A),wA=Le({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),SA=$t(wA),TA=Le({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EA=$t(TA),NA=Le({},ia,{data:0}),Zy=$t(NA),CA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RA[t])?!!e[t]:!1}function up(){return IA}var jA=Le({},hl,{key:function(t){if(t.key){var e=CA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OA=$t(jA),kA=Le({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=$t(kA),DA=Le({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),MA=$t(DA),LA=Le({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=$t(LA),PA=Le({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zA=$t(PA),VA=Le({},ia,{newState:0,oldState:0}),BA=$t(VA),HA=[9,13,27,32],dp=mi&&"CompositionEvent"in window,ao=null;mi&&"documentMode"in document&&(ao=document.documentMode);var FA=mi&&"TextEvent"in window&&!ao,H_=mi&&(!dp||ao&&8<ao&&11>=ao),e0=" ",t0=!1;function F_(t,e){switch(t){case"keyup":return HA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function GA(t,e){switch(t){case"compositionend":return G_(e);case"keypress":return e.which!==32?null:(t0=!0,e0);case"textInput":return t=e.data,t===e0&&t0?null:t;default:return null}}function $A(t,e){if(_a)return t==="compositionend"||!dp&&F_(t,e)?(t=B_(),pc=cp=Gi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H_&&e.locale!=="ko"?null:e.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qA[t.type]:e==="textarea"}function $_(t,e,n,i){ba?Pa?Pa.push(i):Pa=[i]:ba=i,e=ou(e,"onChange"),0<e.length&&(n=new Ku("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ro=null,Do=null;function YA(t){V1(t,0)}function Qu(t){var e=Xr(t);if(M_(e))return t}function i0(t,e){if(t==="change")return e}var q_=!1;if(mi){var Kd;if(mi){var Xd="oninput"in document;if(!Xd){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Xd=typeof s0.oninput=="function"}Kd=Xd}else Kd=!1;q_=Kd&&(!document.documentMode||9<document.documentMode)}function a0(){ro&&(ro.detachEvent("onpropertychange",Y_),Do=ro=null)}function Y_(t){if(t.propertyName==="value"&&Qu(Do)){var e=[];$_(e,Do,t,lp(t)),V_(YA,e)}}function WA(t,e,n){t==="focusin"?(a0(),ro=e,Do=n,ro.attachEvent("onpropertychange",Y_)):t==="focusout"&&a0()}function KA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Do)}function XA(t,e){if(t==="click")return Qu(e)}function QA(t,e){if(t==="input"||t==="change")return Qu(e)}function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:ZA;function Mo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!pf.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function r0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o0(t,e){var n=r0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r0(n)}}function W_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var JA=mi&&"documentMode"in document&&11>=document.documentMode,wa=null,wf=null,oo=null,Sf=!1;function l0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sf||wa==null||wa!==Fc(i)||(i=wa,"selectionStart"in i&&hp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oo&&Mo(oo,i)||(oo=i,i=ou(wf,"onSelect"),0<i.length&&(e=new Ku("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=wa)))}function Ss(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Qd={},X_={};mi&&(X_=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function sa(t){if(Qd[t])return Qd[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X_)return Qd[t]=e[n];return t}var Q_=sa("animationend"),Z_=sa("animationiteration"),J_=sa("animationstart"),e2=sa("transitionrun"),t2=sa("transitionstart"),n2=sa("transitioncancel"),ew=sa("transitionend"),tw=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Un(t,e){tw.set(t,e),na(e,[t])}var Gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},on=[],Ta=0,fp=0;function Zu(){for(var t=Ta,e=fp=Ta=0;e<t;){var n=on[e];on[e++]=null;var i=on[e];on[e++]=null;var s=on[e];on[e++]=null;var a=on[e];if(on[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&nw(n,s,a)}}function Ju(t,e,n,i){on[Ta++]=t,on[Ta++]=e,on[Ta++]=n,on[Ta++]=i,fp|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function mp(t,e,n,i){return Ju(t,e,n,i),$c(t)}function aa(t,e){return Ju(t,null,null,e),$c(t)}function nw(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-Jt(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function $c(t){if(50<yo)throw yo=0,$f=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ea={};function i2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,i){return new i2(t,e,n,i)}function pp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function iw(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yc(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")pp(t)&&(r=1);else if(typeof t=="string")r=lR(t,n,Fn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case df:return t=Kt(31,n,e,s),t.elementType=df,t.lanes=a,t;case ya:return Us(n.children,s,a,e);case w_:r=8,s|=24;break;case lf:return t=Kt(12,n,e,s|2),t.elementType=lf,t.lanes=a,t;case cf:return t=Kt(13,n,e,s),t.elementType=cf,t.lanes=a,t;case uf:return t=Kt(19,n,e,s),t.elementType=uf,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ii:r=10;break e;case S_:r=9;break e;case tp:r=11;break e;case np:r=14;break e;case Oi:r=16,i=null;break e}r=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=Kt(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Us(t,e,n,i){return t=Kt(7,t,i,e),t.lanes=n,t}function Zd(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function sw(t){var e=Kt(18,null,null,0);return e.stateNode=t,e}function Jd(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var c0=new WeakMap;function hn(t,e){if(typeof t=="object"&&t!==null){var n=c0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Fy(e)},c0.set(t,e),e)}return{value:t,source:e,stack:Fy(e)}}var Na=[],Ca=0,qc=null,Lo=0,cn=[],un=0,ls=null,zn=1,Vn="";function ti(t,e){Na[Ca++]=Lo,Na[Ca++]=qc,qc=t,Lo=e}function aw(t,e,n){cn[un++]=zn,cn[un++]=Vn,cn[un++]=ls,ls=t;var i=zn;t=Vn;var s=32-Jt(i)-1;i&=~(1<<s),n+=1;var a=32-Jt(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,zn=1<<32-Jt(e)+s|n<<s|i,Vn=a+t}else zn=1<<a|n<<s|i,Vn=t}function gp(t){t.return!==null&&(ti(t,1),aw(t,1,0))}function yp(t){for(;t===qc;)qc=Na[--Ca],Na[Ca]=null,Lo=Na[--Ca],Na[Ca]=null;for(;t===ls;)ls=cn[--un],cn[un]=null,Vn=cn[--un],cn[un]=null,zn=cn[--un],cn[un]=null}function rw(t,e){cn[un++]=zn,cn[un++]=Vn,cn[un++]=ls,zn=e.id,Vn=e.overflow,ls=t}var xt=null,De=null,fe=!1,Xi=null,fn=!1,Ef=Error(R(519));function cs(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(hn(e,t)),Ef}function u0(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[yt]=t,e[Ft]=i,n){case"dialog":ce("cancel",e),ce("close",e);break;case"iframe":case"object":case"embed":ce("load",e);break;case"video":case"audio":for(n=0;n<Bo.length;n++)ce(Bo[n],e);break;case"source":ce("error",e);break;case"img":case"image":case"link":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"input":ce("invalid",e),L_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ce("invalid",e);break;case"textarea":ce("invalid",e),P_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||H1(e.textContent,n)?(i.popover!=null&&(ce("beforetoggle",e),ce("toggle",e)),i.onScroll!=null&&ce("scroll",e),i.onScrollEnd!=null&&ce("scrollend",e),i.onClick!=null&&(e.onclick=si),e=!0):e=!1,e||cs(t,!0)}function d0(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:xt=xt.return}}function ua(t){if(t!==xt)return!1;if(!fe)return d0(t),fe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Xf(t.type,t.memoizedProps)),n=!n),n&&De&&cs(t),d0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));De=Q0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));De=Q0(t)}else e===27?(e=De,xs(t.type)?(t=em,em=null,De=t):De=e):De=xt?yn(t.stateNode.nextSibling):null;return!0}function Fs(){De=xt=null,fe=!1}function eh(){var t=Xi;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),Xi=null),t}function Uo(t){Xi===null?Xi=[t]:Xi.push(t)}var Nf=Wn(null),ra=null,ai=null;function Di(t,e,n){Ie(Nf,e._currentValue),e._currentValue=n}function ui(t){t._currentValue=Nf.current,ft(Nf)}function Cf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Af(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=s;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Cf(a.return,n,t),i||(r=null);break e}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(R(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Cf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function yr(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(R(387));if(r=r.memoizedProps,r!==null){var o=s.type;tn(s.pendingProps.value,r.value)||(t!==null?t.push(o):t=[o])}}else if(s===zc.current){if(r=s.alternate,r===null)throw Error(R(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Fo):t=[Fo])}s=s.return}t!==null&&Af(e,t,n,i),e.flags|=262144}function Yc(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){ra=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vt(t){return ow(ra,t)}function ql(t,e){return ra===null&&Gs(t),ow(t,e)}function ow(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(R(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var s2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},a2=at.unstable_scheduleCallback,r2=at.unstable_NormalPriority,Je={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xp(){return{controller:new s2,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&a2(r2,function(){t.controller.abort()})}var lo=null,Rf=0,er=0,za=null;function o2(t,e){if(lo===null){var n=lo=[];Rf=0,er=Fp(),za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Rf++,e.then(h0,h0),e}function h0(){if(--Rf===0&&lo!==null){za!==null&&(za.status="fulfilled");var t=lo;lo=null,er=0,za=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function l2(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var f0=Z.S;Z.S=function(t,e){_1=Qt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&o2(t,e),f0!==null&&f0(t,e)};var Ps=Wn(null);function vp(){var t=Ps.current;return t!==null?t:Ce.pooledCache}function xc(t,e){e===null?Ie(Ps,Ps.current):Ie(Ps,e.pool)}function lw(){var t=vp();return t===null?null:{parent:Je._currentValue,pool:t}}var xr=Error(R(460)),bp=Error(R(474)),ed=Error(R(542)),Wc={then:function(){}};function m0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cw(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(si,si),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,g0(t),t;default:if(typeof e.status=="string")e.then(si,si);else{if(t=Ce,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,g0(t),t}throw zs=e,xr}}function Cs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zs=n,xr):n}}var zs=null;function p0(){if(zs===null)throw Error(R(459));var t=zs;return zs=null,t}function g0(t){if(t===xr||t===ed)throw Error(R(483))}var Va=null,Po=0;function Yl(t){var e=Po;return Po+=1,Va===null&&(Va=[]),cw(Va,t,e)}function Ur(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Wl(t,e){throw e.$$typeof===WC?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function uw(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(g,p){return g=ci(g,p),g.index=0,g.sibling=null,g}function a(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=67108866,p):y):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function r(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function o(g,p,y,w){return p===null||p.tag!==6?(p=Zd(y,g.mode,w),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,w){var N=y.type;return N===ya?d(g,p,y.props.children,w,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oi&&Cs(N)===p.type)?(p=s(p,y.props),Ur(p,y),p.return=g,p):(p=yc(y.type,y.key,y.props,null,g.mode,w),Ur(p,y),p.return=g,p)}function u(g,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Jd(y,g.mode,w),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,w,N){return p===null||p.tag!==7?(p=Us(y,g.mode,w,N),p.return=g,p):(p=s(p,y),p.return=g,p)}function f(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Zd(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vl:return y=yc(p.type,p.key,p.props,null,g.mode,y),Ur(y,p),y.return=g,y;case Wr:return p=Jd(p,g.mode,y),p.return=g,p;case Oi:return p=Cs(p),f(g,p,y)}if(Kr(p)||Dr(p))return p=Us(p,g.mode,y,null),p.return=g,p;if(typeof p.then=="function")return f(g,Yl(p),y);if(p.$$typeof===ii)return f(g,ql(g,p),y);Wl(g,p)}return null}function h(g,p,y,w){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return N!==null?null:o(g,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:return y.key===N?l(g,p,y,w):null;case Wr:return y.key===N?u(g,p,y,w):null;case Oi:return y=Cs(y),h(g,p,y,w)}if(Kr(y)||Dr(y))return N!==null?null:d(g,p,y,w,null);if(typeof y.then=="function")return h(g,p,Yl(y),w);if(y.$$typeof===ii)return h(g,p,ql(g,y),w);Wl(g,y)}return null}function m(g,p,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return g=g.get(y)||null,o(p,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vl:return g=g.get(w.key===null?y:w.key)||null,l(p,g,w,N);case Wr:return g=g.get(w.key===null?y:w.key)||null,u(p,g,w,N);case Oi:return w=Cs(w),m(g,p,y,w,N)}if(Kr(w)||Dr(w))return g=g.get(y)||null,d(p,g,w,N,null);if(typeof w.then=="function")return m(g,p,y,Yl(w),N);if(w.$$typeof===ii)return m(g,p,y,ql(p,w),N);Wl(p,w)}return null}function x(g,p,y,w){for(var N=null,j=null,A=p,C=p=0,L=null;A!==null&&C<y.length;C++){A.index>C?(L=A,A=null):L=A.sibling;var I=h(g,A,y[C],w);if(I===null){A===null&&(A=L);break}t&&A&&I.alternate===null&&e(g,A),p=a(I,p,C),j===null?N=I:j.sibling=I,j=I,A=L}if(C===y.length)return n(g,A),fe&&ti(g,C),N;if(A===null){for(;C<y.length;C++)A=f(g,y[C],w),A!==null&&(p=a(A,p,C),j===null?N=A:j.sibling=A,j=A);return fe&&ti(g,C),N}for(A=i(A);C<y.length;C++)L=m(A,g,C,y[C],w),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?C:L.key),p=a(L,p,C),j===null?N=L:j.sibling=L,j=L);return t&&A.forEach(function(X){return e(g,X)}),fe&&ti(g,C),N}function b(g,p,y,w){if(y==null)throw Error(R(151));for(var N=null,j=null,A=p,C=p=0,L=null,I=y.next();A!==null&&!I.done;C++,I=y.next()){A.index>C?(L=A,A=null):L=A.sibling;var X=h(g,A,I.value,w);if(X===null){A===null&&(A=L);break}t&&A&&X.alternate===null&&e(g,A),p=a(X,p,C),j===null?N=X:j.sibling=X,j=X,A=L}if(I.done)return n(g,A),fe&&ti(g,C),N;if(A===null){for(;!I.done;C++,I=y.next())I=f(g,I.value,w),I!==null&&(p=a(I,p,C),j===null?N=I:j.sibling=I,j=I);return fe&&ti(g,C),N}for(A=i(A);!I.done;C++,I=y.next())I=m(A,g,C,I.value,w),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?C:I.key),p=a(I,p,C),j===null?N=I:j.sibling=I,j=I);return t&&A.forEach(function(le){return e(g,le)}),fe&&ti(g,C),N}function _(g,p,y,w){if(typeof y=="object"&&y!==null&&y.type===ya&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:e:{for(var N=y.key;p!==null;){if(p.key===N){if(N=y.type,N===ya){if(p.tag===7){n(g,p.sibling),w=s(p,y.props.children),w.return=g,g=w;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oi&&Cs(N)===p.type){n(g,p.sibling),w=s(p,y.props),Ur(w,y),w.return=g,g=w;break e}n(g,p);break}else e(g,p);p=p.sibling}y.type===ya?(w=Us(y.props.children,g.mode,w,y.key),w.return=g,g=w):(w=yc(y.type,y.key,y.props,null,g.mode,w),Ur(w,y),w.return=g,g=w)}return r(g);case Wr:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),w=s(p,y.children||[]),w.return=g,g=w;break e}else{n(g,p);break}else e(g,p);p=p.sibling}w=Jd(y,g.mode,w),w.return=g,g=w}return r(g);case Oi:return y=Cs(y),_(g,p,y,w)}if(Kr(y))return x(g,p,y,w);if(Dr(y)){if(N=Dr(y),typeof N!="function")throw Error(R(150));return y=N.call(y),b(g,p,y,w)}if(typeof y.then=="function")return _(g,p,Yl(y),w);if(y.$$typeof===ii)return _(g,p,ql(g,y),w);Wl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),w=s(p,y),w.return=g,g=w):(n(g,p),w=Zd(y,g.mode,w),w.return=g,g=w),r(g)):n(g,p)}return function(g,p,y,w){try{Po=0;var N=_(g,p,y,w);return Va=null,N}catch(A){if(A===xr||A===ed)throw A;var j=Kt(29,A,null,g.mode);return j.lanes=w,j.return=g,j}finally{}}}var $s=uw(!0),dw=uw(!1),ki=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=$c(t),nw(t,null,n),e}return Ju(t,i,e,n),$c(t)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,R_(t,n)}}function th(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var jf=!1;function uo(){if(jf){var t=za;if(t!==null)throw t}}function ho(t,e,n,i){jf=!1;var s=t.updateQueue;ki=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,r===null?a=u:r.next=u,r=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==r&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=s.baseState;r=0,d=u=l=null,o=a;do{var h=o.lane&-536870913,m=h!==o.lane;if(m?(he&h)===h:(i&h)===h){h!==0&&h===er&&(jf=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,b=o;h=e;var _=n;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(_,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(_,f,h):x,h==null)break e;f=Le({},f,h);break e;case 2:ki=!0}}h=o.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=s.callbacks,m===null?s.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,r|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,a===null&&(s.shared.lanes=0),ds|=r,t.lanes=r,t.memoizedState=f}}function hw(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function fw(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)hw(n[t],e)}var tr=Wn(null),Kc=Wn(0);function y0(t,e){t=xi,Ie(Kc,t),Ie(tr,e),xi=t|e.baseLanes}function Of(){Ie(Kc,xi),Ie(tr,tr.current)}function wp(){xi=Kc.current,ft(tr),ft(Kc)}var nn=Wn(null),gn=null;function Mi(t){var e=t.alternate;Ie(qe,qe.current&1),Ie(nn,t),gn===null&&(e===null||tr.current!==null||e.memoizedState!==null)&&(gn=t)}function kf(t){Ie(qe,qe.current),Ie(nn,t),gn===null&&(gn=t)}function mw(t){t.tag===22?(Ie(qe,qe.current),Ie(nn,t),gn===null&&(gn=t)):Li()}function Li(){Ie(qe,qe.current),Ie(nn,nn.current)}function Wt(t){ft(nn),gn===t&&(gn=null),ft(qe)}var qe=Wn(0);function Xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zf(n)||Jf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=0,se=null,Te=null,Qe=null,Qc=!1,Ba=!1,qs=!1,Zc=0,zo=0,Ha=null,c2=0;function ze(){throw Error(R(321))}function Sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Tp(t,e,n,i,s,a){return pi=a,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z.H=t===null||t.memoizedState===null?$w:Mp,qs=!1,a=n(i,s),qs=!1,Ba&&(a=gw(e,n,i,s)),pw(t),a}function pw(t){Z.H=Vo;var e=Te!==null&&Te.next!==null;if(pi=0,Qe=Te=se=null,Qc=!1,zo=0,Ha=null,e)throw Error(R(300));t===null||et||(t=t.dependencies,t!==null&&Yc(t)&&(et=!0))}function gw(t,e,n,i){se=t;var s=0;do{if(Ba&&(Ha=null),zo=0,Ba=!1,25<=s)throw Error(R(301));if(s+=1,Qe=Te=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Z.H=qw,a=e(n,i)}while(Ba);return a}function u2(){var t=Z.H,e=t.useState()[0];return e=typeof e.then=="function"?ml(e):e,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(se.flags|=1024),e}function Ep(){var t=Zc!==0;return Zc=0,t}function Np(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Cp(t){if(Qc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qc=!1}pi=0,Qe=Te=se=null,Ba=!1,zo=Zc=0,Ha=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?se.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ye(){if(Te===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Qe===null?se.memoizedState:Qe.next;if(e!==null)Qe=e,Te=t;else{if(t===null)throw se.alternate===null?Error(R(467)):Error(R(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?se.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var e=zo;return zo+=1,Ha===null&&(Ha=[]),t=cw(Ha,t,e),e=se,(Qe===null?e.memoizedState:Qe.next)===null&&(e=e.alternate,Z.H=e===null||e.memoizedState===null?$w:Mp),t}function nd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ii)return vt(t)}throw Error(R(438,String(t)))}function Ap(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=td(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=KC;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function vc(t){var e=Ye();return Rp(e,Te,t)}function Rp(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var o=r=null,l=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(he&f)===f:(pi&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===er&&(d=!0);else if((pi&h)===h){u=u.next,h===er&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,se.lanes|=h,ds|=h;f=u.action,qs&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,r=a):l=l.next=h,se.lanes|=f,ds|=f;u=u.next}while(u!==null&&u!==e);if(l===null?r=a:l.next=o,!tn(a,t.memoizedState)&&(et=!0,d&&(n=za,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function nh(t){var e=Ye(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);tn(a,e.memoizedState)||(et=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function yw(t,e,n){var i=se,s=Ye(),a=fe;if(a){if(n===void 0)throw Error(R(407));n=n()}else n=e();var r=!tn((Te||s).memoizedState,n);if(r&&(s.memoizedState=n,et=!0),s=s.queue,Ip(bw.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,nr(9,{destroy:void 0},vw.bind(null,i,s,n,e),null),Ce===null)throw Error(R(349));a||pi&127||xw(i,e,n)}return n}function xw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=td(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vw(t,e,n,i){e.value=n,e.getSnapshot=i,_w(e)&&ww(t)}function bw(t,e,n){return n(function(){_w(e)&&ww(t)})}function _w(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function ww(t){var e=aa(t,2);e!==null&&Vt(e,t,2)}function Df(t){var e=Ct();if(typeof t=="function"){var n=t;if(t=n(),qs){Fi(!0);try{n()}finally{Fi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function Sw(t,e,n,i){return t.baseState=n,Rp(t,Te,typeof i=="function"?i:gi)}function d2(t,e,n,i,s){if(sd(t))throw Error(R(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};Z.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Tw(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Tw(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=Z.T,r={};Z.T=r;try{var o=n(s,i),l=Z.S;l!==null&&l(r,o),x0(t,e,o)}catch(u){Mf(t,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),Z.T=a}}else try{a=n(s,i),x0(t,e,a)}catch(u){Mf(t,e,u)}}function x0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){v0(t,e,i)},function(i){return Mf(t,e,i)}):v0(t,e,n)}function v0(t,e,n){e.status="fulfilled",e.value=n,Ew(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Tw(t,n)))}function Mf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Ew(e),e=e.next;while(e!==i)}t.action=null}function Ew(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Nw(t,e){return e}function b0(t,e){if(fe){var n=Ce.formState;if(n!==null){e:{var i=se;if(fe){if(De){t:{for(var s=De,a=fn;s.nodeType!==8;){if(!a){s=null;break t}if(s=yn(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){De=yn(s.nextSibling),i=s.data==="F!";break e}}cs(i)}i=!1}i&&(e=n[0])}}return n=Ct(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nw,lastRenderedState:e},n.queue=i,n=Hw.bind(null,se,i),i.dispatch=n,i=Df(!1),a=Dp.bind(null,se,!1,i.queue),i=Ct(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=d2.bind(null,se,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function _0(t){var e=Ye();return Cw(e,Te,t)}function Cw(t,e,n){if(e=Rp(t,e,Nw)[0],t=vc(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ml(e)}catch(r){throw r===xr?ed:r}else i=e;e=Ye();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(se.flags|=2048,nr(9,{destroy:void 0},h2.bind(null,s,n),null)),[i,a,t]}function h2(t,e){t.action=e}function w0(t){var e=Ye(),n=Te;if(n!==null)return Cw(e,n,t);Ye(),e=e.memoizedState,n=Ye();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function nr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=se.updateQueue,e===null&&(e=td(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Aw(){return Ye().memoizedState}function bc(t,e,n,i){var s=Ct();se.flags|=t,s.memoizedState=nr(1|e,{destroy:void 0},n,i===void 0?null:i)}function id(t,e,n,i){var s=Ye();i=i===void 0?null:i;var a=s.memoizedState.inst;Te!==null&&i!==null&&Sp(i,Te.memoizedState.deps)?s.memoizedState=nr(e,a,n,i):(se.flags|=t,s.memoizedState=nr(1|e,a,n,i))}function S0(t,e){bc(8390656,8,t,e)}function Ip(t,e){id(2048,8,t,e)}function f2(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=td(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Rw(t){var e=Ye().memoizedState;return f2({ref:e,nextImpl:t}),function(){if(ye&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function Iw(t,e){return id(4,2,t,e)}function jw(t,e){return id(4,4,t,e)}function Ow(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kw(t,e,n){n=n!=null?n.concat([t]):null,id(4,4,Ow.bind(null,e,t),n)}function jp(){}function Dw(t,e){var n=Ye();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Sp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Mw(t,e){var n=Ye();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Sp(e,i[1]))return i[0];if(i=t(),qs){Fi(!0);try{t()}finally{Fi(!1)}}return n.memoizedState=[i,e],i}function Op(t,e,n){return n===void 0||pi&1073741824&&!(he&261930)?t.memoizedState=e:(t.memoizedState=n,t=S1(),se.lanes|=t,ds|=t,n)}function Lw(t,e,n,i){return tn(n,e)?n:tr.current!==null?(t=Op(t,n,i),tn(t,e)||(et=!0),t):!(pi&42)||pi&1073741824&&!(he&261930)?(et=!0,t.memoizedState=n):(t=S1(),se.lanes|=t,ds|=t,e)}function Uw(t,e,n,i,s){var a=ve.p;ve.p=a!==0&&8>a?a:8;var r=Z.T,o={};Z.T=o,Dp(t,!1,e,n);try{var l=s(),u=Z.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l2(l,i);fo(t,e,d,en(t))}else fo(t,e,i,en(t))}catch(f){fo(t,e,{then:function(){},status:"rejected",reason:f},en())}finally{ve.p=a,r!==null&&o.types!==null&&(r.types=o.types),Z.T=r}}function m2(){}function Lf(t,e,n,i){if(t.tag!==5)throw Error(R(476));var s=Pw(t).queue;Uw(t,s,e,Ls,n===null?m2:function(){return zw(t),n(i)})}function Pw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ls,baseState:Ls,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Ls},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function zw(t){var e=Pw(t);e.next===null&&(e=t.alternate.memoizedState),fo(t,e.next.queue,{},en())}function kp(){return vt(Fo)}function Vw(){return Ye().memoizedState}function Bw(){return Ye().memoizedState}function p2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=en();t=Qi(n);var i=Zi(e,t,n);i!==null&&(Vt(i,e,n),co(i,e,n)),e={cache:xp()},t.payload=e;return}e=e.return}}function g2(t,e,n){var i=en();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sd(t)?Fw(e,n):(n=mp(t,e,n,i),n!==null&&(Vt(n,t,i),Gw(n,e,i)))}function Hw(t,e,n){var i=en();fo(t,e,n,i)}function fo(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sd(t))Fw(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,tn(o,r))return Ju(t,e,s,0),Ce===null&&Zu(),!1}catch{}finally{}if(n=mp(t,e,s,i),n!==null)return Vt(n,t,i),Gw(n,e,i),!0}return!1}function Dp(t,e,n,i){if(i={lane:2,revertLane:Fp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sd(t)){if(e)throw Error(R(479))}else e=mp(t,n,i,2),e!==null&&Vt(e,t,2)}function sd(t){var e=t.alternate;return t===se||e!==null&&e===se}function Fw(t,e){Ba=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gw(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,R_(t,n)}}var Vo={readContext:vt,use:nd,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Vo.useEffectEvent=ze;var $w={readContext:vt,use:nd,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:S0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,bc(4194308,4,Ow.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){bc(4,2,t,e)},useMemo:function(t,e){var n=Ct();e=e===void 0?null:e;var i=t();if(qs){Fi(!0);try{t()}finally{Fi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ct();if(n!==void 0){var s=n(e);if(qs){Fi(!0);try{n(e)}finally{Fi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=g2.bind(null,se,t),[i.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:function(t){t=Df(t);var e=t.queue,n=Hw.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:jp,useDeferredValue:function(t,e){var n=Ct();return Op(n,t,e)},useTransition:function(){var t=Df(!1);return t=Uw.bind(null,se,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=se,s=Ct();if(fe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Ce===null)throw Error(R(349));he&127||xw(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,S0(bw.bind(null,i,a,t),[t]),i.flags|=2048,nr(9,{destroy:void 0},vw.bind(null,i,a,n,e),null),n},useId:function(){var t=Ct(),e=Ce.identifierPrefix;if(fe){var n=Vn,i=zn;n=(i&~(1<<32-Jt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Zc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=c2++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:kp,useFormState:b0,useActionState:b0,useOptimistic:function(t){var e=Ct();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Dp.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ap,useCacheRefresh:function(){return Ct().memoizedState=p2.bind(null,se)},useEffectEvent:function(t){var e=Ct(),n={impl:t};return e.memoizedState=n,function(){if(ye&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},Mp={readContext:vt,use:nd,useCallback:Dw,useContext:vt,useEffect:Ip,useImperativeHandle:kw,useInsertionEffect:Iw,useLayoutEffect:jw,useMemo:Mw,useReducer:vc,useRef:Aw,useState:function(){return vc(gi)},useDebugValue:jp,useDeferredValue:function(t,e){var n=Ye();return Lw(n,Te.memoizedState,t,e)},useTransition:function(){var t=vc(gi)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:yw,useId:Vw,useHostTransitionStatus:kp,useFormState:_0,useActionState:_0,useOptimistic:function(t,e){var n=Ye();return Sw(n,Te,t,e)},useMemoCache:Ap,useCacheRefresh:Bw};Mp.useEffectEvent=Rw;var qw={readContext:vt,use:nd,useCallback:Dw,useContext:vt,useEffect:Ip,useImperativeHandle:kw,useInsertionEffect:Iw,useLayoutEffect:jw,useMemo:Mw,useReducer:nh,useRef:Aw,useState:function(){return nh(gi)},useDebugValue:jp,useDeferredValue:function(t,e){var n=Ye();return Te===null?Op(n,t,e):Lw(n,Te.memoizedState,t,e)},useTransition:function(){var t=nh(gi)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:yw,useId:Vw,useHostTransitionStatus:kp,useFormState:w0,useActionState:w0,useOptimistic:function(t,e){var n=Ye();return Te!==null?Sw(n,Te,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:Bw};qw.useEffectEvent=Rw;function ih(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),s=Qi(i);s.payload=e,n!=null&&(s.callback=n),e=Zi(t,s,i),e!==null&&(Vt(e,t,i),co(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),s=Qi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zi(t,s,i),e!==null&&(Vt(e,t,i),co(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=Qi(n);i.tag=2,e!=null&&(i.callback=e),e=Zi(t,i,n),e!==null&&(Vt(e,t,n),co(e,t,n))}};function T0(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,i)||!Mo(s,a):!0}function E0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Uf.enqueueReplaceState(e,e.state,null)}function Ys(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Le({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Yw(t){Gc(t)}function Ww(t){console.error(t)}function Kw(t){Gc(t)}function Jc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function N0(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Pf(t,e,n){return n=Qi(n),n.tag=3,n.payload={element:null},n.callback=function(){Jc(t,e)},n}function Xw(t){return t=Qi(t),t.tag=3,t}function Qw(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){N0(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){N0(e,n,i),typeof s!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function y2(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&yr(e,n,s,!0),n=nn.current,n!==null){switch(n.tag){case 31:case 13:return gn===null?su():n.alternate===null&&He===0&&(He=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Wc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),mh(t,i,s)),!1;case 22:return n.flags|=65536,i===Wc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),mh(t,i,s)),!1}throw Error(R(435,n.tag))}return mh(t,i,s),su(),!1}if(fe)return e=nn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Ef&&(t=Error(R(422),{cause:i}),Uo(hn(t,n)))):(i!==Ef&&(e=Error(R(423),{cause:i}),Uo(hn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=hn(i,n),s=Pf(t.stateNode,i,s),th(t,s),He!==4&&(He=2)),!1;var a=Error(R(520),{cause:i});if(a=hn(a,n),go===null?go=[a]:go.push(a),He!==4&&(He=2),e===null)return!0;i=hn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Pf(n.stateNode,i,t),th(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ji===null||!Ji.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Xw(s),Qw(s,t,n,i),th(n,s),!1}n=n.return}while(n!==null);return!1}var Lp=Error(R(461)),et=!1;function pt(t,e,n,i){e.child=t===null?dw(e,null,n,i):$s(e,t.child,n,i)}function C0(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return Gs(e),i=Tp(t,e,n,r,a,s),o=Ep(),t!==null&&!et?(Np(t,e,s),yi(t,e,s)):(fe&&o&&gp(e),e.flags|=1,pt(t,e,i,s),e.child)}function A0(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!pp(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Zw(t,e,a,i,s)):(t=yc(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Up(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(r,i)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=ci(a,i),t.ref=e.ref,t.return=e,e.child=t}function Zw(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(Mo(a,i)&&t.ref===e.ref)if(et=!1,e.pendingProps=i=a,Up(t,s))t.flags&131072&&(et=!0);else return e.lanes=t.lanes,yi(t,e,s)}return zf(t,e,n,i,s)}function Jw(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return R0(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(e,a!==null?a.cachePool:null),a!==null?y0(e,a):Of(),mw(e);else return i=e.lanes=536870912,R0(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(xc(e,a.cachePool),y0(e,a),Li(),e.memoizedState=null):(t!==null&&xc(e,null),Of(),Li());return pt(t,e,s,n),e.child}function Qr(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function R0(t,e,n,i,s){var a=vp();return a=a===null?null:{parent:Je._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&xc(e,null),Of(),mw(e),t!==null&&yr(t,e,i,!0),e.childLanes=s,null}function _c(t,e){return e=eu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function I0(t,e,n){return $s(e,t.child,null,n),t=_c(e,e.pendingProps),t.flags|=2,Wt(e),e.memoizedState=null,t}function x2(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(fe){if(i.mode==="hidden")return t=_c(e,i),e.lanes=536870912,Qr(null,t);if(kf(e),(t=De)?(t=$1(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ls!==null?{id:zn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=sw(t),n.return=e,e.child=n,xt=e,De=null)):t=null,t===null)throw cs(e);return e.lanes=536870912,null}return _c(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(kf(e),s)if(e.flags&256)e.flags&=-257,e=I0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(et||yr(t,e,n,!1),s=(n&t.childLanes)!==0,et||s){if(i=Ce,i!==null&&(r=I_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,aa(t,r),Vt(i,t,r),Lp;su(),e=I0(t,e,n)}else t=a.treeContext,De=yn(r.nextSibling),xt=e,fe=!0,Xi=null,fn=!1,t!==null&&rw(e,t),e=_c(e,i),e.flags|=4096;return e}return t=ci(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function wc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function zf(t,e,n,i,s){return Gs(e),n=Tp(t,e,n,i,void 0,s),i=Ep(),t!==null&&!et?(Np(t,e,s),yi(t,e,s)):(fe&&i&&gp(e),e.flags|=1,pt(t,e,n,s),e.child)}function j0(t,e,n,i,s,a){return Gs(e),e.updateQueue=null,n=gw(e,i,n,s),pw(t),i=Ep(),t!==null&&!et?(Np(t,e,a),yi(t,e,a)):(fe&&i&&gp(e),e.flags|=1,pt(t,e,n,a),e.child)}function O0(t,e,n,i,s){if(Gs(e),e.stateNode===null){var a=Ea,r=n.contextType;typeof r=="object"&&r!==null&&(a=vt(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Uf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},_p(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?vt(r):Ea,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ih(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Uf.enqueueReplaceState(a,a.state,null),ho(e,i,a,s),uo(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Ys(n,o);a.props=l;var u=a.context,d=n.contextType;r=Ea,typeof d=="object"&&d!==null&&(r=vt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==r)&&E0(e,a,i,r),ki=!1;var h=e.memoizedState;a.state=h,ho(e,i,a,s),uo(),u=e.memoizedState,o||h!==u||ki?(typeof f=="function"&&(ih(e,n,f,i),u=e.memoizedState),(l=ki||T0(e,n,l,i,h,u,r))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,If(t,e),r=e.memoizedProps,d=Ys(n,r),a.props=d,f=e.pendingProps,h=a.context,u=n.contextType,l=Ea,typeof u=="object"&&u!==null&&(l=vt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||h!==l)&&E0(e,a,i,l),ki=!1,h=e.memoizedState,a.state=h,ho(e,i,a,s),uo();var m=e.memoizedState;r!==f||h!==m||ki||t!==null&&t.dependencies!==null&&Yc(t.dependencies)?(typeof o=="function"&&(ih(e,n,o,i),m=e.memoizedState),(d=ki||T0(e,n,d,i,h,m,l)||t!==null&&t.dependencies!==null&&Yc(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=d):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,wc(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=$s(e,t.child,null,s),e.child=$s(e,null,n,s)):pt(t,e,n,s),e.memoizedState=a.state,t=e.child):t=yi(t,e,s),t}function k0(t,e,n,i){return Fs(),e.flags|=256,pt(t,e,n,i),e.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(t){return{baseLanes:t,cachePool:lw()}}function rh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Xt),t}function e1(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(qe.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(fe){if(s?Mi(e):Li(),(t=De)?(t=$1(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ls!==null?{id:zn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=sw(t),n.return=e,e.child=n,xt=e,De=null)):t=null,t===null)throw cs(e);return Jf(t)?e.lanes=32:e.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(Li(),s=e.mode,o=eu({mode:"hidden",children:o},s),i=Us(i,s,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i=e.child,i.memoizedState=ah(n),i.childLanes=rh(t,r,n),e.memoizedState=sh,Qr(null,i)):(Mi(e),Vf(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Mi(e),e.flags&=-257,e=oh(t,e,n)):e.memoizedState!==null?(Li(),e.child=t.child,e.flags|=128,e=null):(Li(),o=i.fallback,s=e.mode,i=eu({mode:"visible",children:i.children},s),o=Us(o,s,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,$s(e,t.child,null,n),i=e.child,i.memoizedState=ah(n),i.childLanes=rh(t,r,n),e.memoizedState=sh,e=Qr(null,i));else if(Mi(e),Jf(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;r=u,i=Error(R(419)),i.stack="",i.digest=r,Uo({value:i,source:null,stack:null}),e=oh(t,e,n)}else if(et||yr(t,e,n,!1),r=(n&t.childLanes)!==0,et||r){if(r=Ce,r!==null&&(i=I_(r,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,aa(t,i),Vt(r,t,i),Lp;Zf(o)||su(),e=oh(t,e,n)}else Zf(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,De=yn(o.nextSibling),xt=e,fe=!0,Xi=null,fn=!1,t!==null&&rw(e,t),e=Vf(e,i.children),e.flags|=4096);return e}return s?(Li(),o=i.fallback,s=e.mode,l=t.child,u=l.sibling,i=ci(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=ci(u,o):(o=Us(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,Qr(null,i),i=e.child,o=t.child.memoizedState,o===null?o=ah(n):(s=o.cachePool,s!==null?(l=Je._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=lw(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=rh(t,r,n),e.memoizedState=sh,Qr(t.child,i)):(Mi(e),n=t.child,t=n.sibling,n=ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Vf(t,e){return e=eu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function eu(t,e){return t=Kt(22,t,null,e),t.lanes=0,t}function oh(t,e,n){return $s(e,t.child,null,n),t=Vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cf(t.return,e,n)}function lh(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function t1(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=qe.current,o=(r&2)!==0;if(o?(r=r&1|2,e.flags|=128):r&=1,Ie(qe,r),pt(t,e,i,n),i=fe?Lo:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lh(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lh(e,!0,n,null,a,i);break;case"together":lh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))if(t!==null){if(yr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Up(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Yc(t)))}function v2(t,e,n){switch(e.tag){case 3:Vc(e,e.stateNode.containerInfo),Di(e,Je,t.memoizedState.cache),Fs();break;case 27:case 5:mf(e);break;case 4:Vc(e,e.stateNode.containerInfo);break;case 10:Di(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,kf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Mi(e),e.flags|=128,null):n&e.child.childLanes?e1(t,e,n):(Mi(e),t=yi(t,e,n),t!==null?t.sibling:null);Mi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(yr(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return t1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(qe,qe.current),i)break;return null;case 22:return e.lanes=0,Jw(t,e,n,e.pendingProps);case 24:Di(e,Je,t.memoizedState.cache)}return yi(t,e,n)}function n1(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)et=!0;else{if(!Up(t,n)&&!(e.flags&128))return et=!1,v2(t,e,n);et=!!(t.flags&131072)}else et=!1,fe&&e.flags&1048576&&aw(e,Lo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Cs(e.elementType),e.type=t,typeof t=="function")pp(t)?(i=Ys(t,i),e.tag=1,e=O0(null,e,t,i,n)):(e.tag=0,e=zf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===tp){e.tag=11,e=C0(null,e,t,i,n);break e}else if(s===np){e.tag=14,e=A0(null,e,t,i,n);break e}}throw e=hf(t)||t,Error(R(306,e,""))}}return e;case 0:return zf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ys(i,e.pendingProps),O0(t,e,i,s,n);case 3:e:{if(Vc(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,If(t,e),ho(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Di(e,Je,i),i!==a.cache&&Af(e,[Je],n,!0),uo(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=k0(t,e,i,n);break e}else if(i!==s){s=hn(Error(R(424)),e),Uo(s),e=k0(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(De=yn(t.firstChild),xt=e,fe=!0,Xi=null,fn=!0,n=dw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fs(),i===s){e=yi(t,e,n);break e}pt(t,e,i,n)}e=e.child}return e;case 26:return wc(t,e),t===null?(n=ex(e.type,null,e.pendingProps,null))?e.memoizedState=n:fe||(n=e.type,t=e.pendingProps,i=lu(Ki.current).createElement(n),i[yt]=e,i[Ft]=t,bt(i,n,t),ut(i),e.stateNode=i):e.memoizedState=ex(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return mf(e),t===null&&fe&&(i=e.stateNode=q1(e.type,e.pendingProps,Ki.current),xt=e,fn=!0,s=De,xs(e.type)?(em=s,De=yn(i.firstChild)):De=s),pt(t,e,e.pendingProps.children,n),wc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&fe&&((s=i=De)&&(i=K2(i,e.type,e.pendingProps,fn),i!==null?(e.stateNode=i,xt=e,De=yn(i.firstChild),fn=!1,s=!0):s=!1),s||cs(e)),mf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Xf(s,a)?i=null:r!==null&&Xf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Tp(t,e,u2,null,null,n),Fo._currentValue=s),wc(t,e),pt(t,e,i,n),e.child;case 6:return t===null&&fe&&((t=n=De)&&(n=X2(n,e.pendingProps,fn),n!==null?(e.stateNode=n,xt=e,De=null,t=!0):t=!1),t||cs(e)),null;case 13:return e1(t,e,n);case 4:return Vc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=$s(e,null,i,n):pt(t,e,i,n),e.child;case 11:return C0(t,e,e.type,e.pendingProps,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Di(e,e.type,i.value),pt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Gs(e),s=vt(s),i=i(s),e.flags|=1,pt(t,e,i,n),e.child;case 14:return A0(t,e,e.type,e.pendingProps,n);case 15:return Zw(t,e,e.type,e.pendingProps,n);case 19:return t1(t,e,n);case 31:return x2(t,e,n);case 22:return Jw(t,e,n,e.pendingProps);case 24:return Gs(e),i=vt(Je),t===null?(s=vp(),s===null&&(s=Ce,a=xp(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},_p(e),Di(e,Je,s)):(t.lanes&n&&(If(t,e),ho(e,null,null,n),uo()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Di(e,Je,i)):(i=a.cache,Di(e,Je,i),i!==s.cache&&Af(e,[Je],n,!0))),pt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function Qn(t){t.flags|=4}function ch(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(N1())t.flags|=8192;else throw zs=Wc,bp}else t.flags&=-16777217}function M0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!K1(e))if(N1())t.flags|=8192;else throw zs=Wc,bp}function Kl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?C_():536870912,t.lanes|=e,ir|=e)}function Pr(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function b2(t,e,n){var i=e.pendingProps;switch(yp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Oe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ui(Je),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ua(e)?Qn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eh())),Oe(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Qn(e),a!==null?(Oe(e),M0(e,a)):(Oe(e),ch(e,s,null,i,n))):a?a!==t.memoizedState?(Qn(e),Oe(e),M0(e,a)):(Oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Qn(e),Oe(e),ch(e,s,t,i,n)),null;case 27:if(Bc(e),n=Ki.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Oe(e),null}t=Fn.current,ua(e)?u0(e):(t=q1(s,i,n),e.stateNode=t,Qn(e))}return Oe(e),null;case 5:if(Bc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Oe(e),null}if(a=Fn.current,ua(e))u0(e);else{var r=lu(Ki.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[yt]=e,a[Ft]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(bt(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qn(e)}}return Oe(e),ch(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=Ki.current,ua(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=xt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[yt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||H1(t.nodeValue,n)),t||cs(e,!0)}else t=lu(t).createTextNode(i),t[yt]=e,e.stateNode=t}return Oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ua(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[yt]=e}else Fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),t=!1}else n=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Wt(e),e):(Wt(e),null);if(e.flags&128)throw Error(R(558))}return Oe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ua(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[yt]=e}else Fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),s=!1}else s=eh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Wt(e),e):(Wt(e),null)}return Wt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Kl(e,e.updateQueue),Oe(e),null);case 4:return Qa(),t===null&&Gp(e.stateNode.containerInfo),Oe(e),null;case 10:return ui(e.type),Oe(e),null;case 19:if(ft(qe),i=e.memoizedState,i===null)return Oe(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Pr(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xc(t),a!==null){for(e.flags|=128,Pr(i,!1),t=a.updateQueue,e.updateQueue=t,Kl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)iw(n,t),n=n.sibling;return Ie(qe,qe.current&1|2),fe&&ti(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Qt()>nu&&(e.flags|=128,s=!0,Pr(i,!1),e.lanes=4194304)}else{if(!s)if(t=Xc(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Kl(e,t),Pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fe)return Oe(e),null}else 2*Qt()-i.renderingStartTime>nu&&n!==536870912&&(e.flags|=128,s=!0,Pr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qt(),t.sibling=null,n=qe.current,Ie(qe,s?n&1|2:n&1),fe&&ti(e,i.treeForkCount),t):(Oe(e),null);case 22:case 23:return Wt(e),wp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),n=e.updateQueue,n!==null&&Kl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ft(Ps),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ui(Je),Oe(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function _2(t,e){switch(yp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui(Je),Qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bc(e),null;case 31:if(e.memoizedState!==null){if(Wt(e),e.alternate===null)throw Error(R(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Wt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(qe),null;case 4:return Qa(),null;case 10:return ui(e.type),null;case 22:case 23:return Wt(e),wp(),t!==null&&ft(Ps),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ui(Je),null;case 25:return null;default:return null}}function i1(t,e){switch(yp(e),e.tag){case 3:ui(Je),Qa();break;case 26:case 27:case 5:Bc(e);break;case 4:Qa();break;case 31:e.memoizedState!==null&&Wt(e);break;case 13:Wt(e);break;case 19:ft(qe);break;case 10:ui(e.type);break;case 22:case 23:Wt(e),wp(),t!==null&&ft(Ps);break;case 24:ui(Je)}}function pl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(o){_e(e,e.return,o)}}function us(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=e;var l=n,u=o;try{u()}catch(d){_e(s,l,d)}}}i=i.next}while(i!==a)}}catch(d){_e(e,e.return,d)}}function s1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{fw(e,n)}catch(i){_e(t,t.return,i)}}}function a1(t,e,n){n.props=Ys(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){_e(t,e,s)}}function Bn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){_e(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){_e(t,e,s)}else n.current=null}function r1(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){_e(t,t.return,s)}}function uh(t,e,n){try{var i=t.stateNode;F2(i,t.type,n,e),i[Ft]=e}catch(s){_e(t,t.return,s)}}function o1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xs(t.type)||t.tag===4}function dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(i!==4&&(i===27&&xs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Bf(t,e,n),t=t.sibling;t!==null;)Bf(t,e,n),t=t.sibling}function tu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&xs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(tu(t,e,n),t=t.sibling;t!==null;)tu(t,e,n),t=t.sibling}function l1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);bt(e,i,n),e[yt]=t,e[Ft]=n}catch(a){_e(t,t.return,a)}}var ni=!1,Ze=!1,hh=!1,L0=typeof WeakSet=="function"?WeakSet:Set,lt=null;function w2(t,e){if(t=t.containerInfo,Wf=hu,t=K_(t),hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(o=r+s),f!==a||i!==0&&f.nodeType!==3||(l=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(o=r),h===a&&++d===i&&(l=r),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},hu=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){switch(e=lt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var x=Ys(n.type,s);t=i.getSnapshotBeforeUpdate(x,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(b){_e(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Qf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function c1(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n),i&4&&pl(5,n);break;case 1:if(Jn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){_e(n,n.return,r)}else{var s=Ys(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){_e(n,n.return,r)}}i&64&&s1(n),i&512&&mo(n,n.return);break;case 3:if(Jn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{fw(t,e)}catch(r){_e(n,n.return,r)}}break;case 27:e===null&&i&4&&l1(n);case 26:case 5:Jn(t,n),e===null&&i&4&&r1(n),i&512&&mo(n,n.return);break;case 12:Jn(t,n);break;case 31:Jn(t,n),i&4&&h1(t,n);break;case 13:Jn(t,n),i&4&&f1(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=j2.bind(null,n),Q2(t,n))));break;case 22:if(i=n.memoizedState!==null||ni,!i){e=e!==null&&e.memoizedState!==null||Ze,s=ni;var a=Ze;ni=i,(Ze=e)&&!a?ei(t,n,(n.subtreeFlags&8772)!==0):Jn(t,n),ni=s,Ze=a}break;case 30:break;default:Jn(t,n)}}function u1(t){var e=t.alternate;e!==null&&(t.alternate=null,u1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&rp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Lt=!1;function Zn(t,e,n){for(n=n.child;n!==null;)d1(t,e,n),n=n.sibling}function d1(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 26:Ze||Bn(n,e),Zn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||Bn(n,e);var i=Ue,s=Lt;xs(n.type)&&(Ue=n.stateNode,Lt=!1),Zn(t,e,n),xo(n.stateNode),Ue=i,Lt=s;break;case 5:Ze||Bn(n,e);case 6:if(i=Ue,s=Lt,Ue=null,Zn(t,e,n),Ue=i,Lt=s,Ue!==null)if(Lt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(a){_e(n,e,a)}else try{Ue.removeChild(n.stateNode)}catch(a){_e(n,e,a)}break;case 18:Ue!==null&&(Lt?(t=Ue,K0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),or(t)):K0(Ue,n.stateNode));break;case 4:i=Ue,s=Lt,Ue=n.stateNode.containerInfo,Lt=!0,Zn(t,e,n),Ue=i,Lt=s;break;case 0:case 11:case 14:case 15:us(2,n,e),Ze||us(4,n,e),Zn(t,e,n);break;case 1:Ze||(Bn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&a1(n,e,i)),Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,Zn(t,e,n),Ze=i;break;default:Zn(t,e,n)}}function h1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{or(t)}catch(n){_e(e,e.return,n)}}}function f1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{or(t)}catch(n){_e(e,e.return,n)}}function S2(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new L0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new L0),e;default:throw Error(R(435,t.tag))}}function Xl(t,e){var n=S2(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=O2.bind(null,t,i);i.then(s,s)}})}function Dt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(xs(o.type)){Ue=o.stateNode,Lt=!1;break e}break;case 5:Ue=o.stateNode,Lt=!1;break e;case 3:case 4:Ue=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(Ue===null)throw Error(R(160));d1(a,r,s),Ue=null,Lt=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)m1(e,t),e=e.sibling}var Cn=null;function m1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dt(e,t),Mt(t),i&4&&(us(3,t,t.return),pl(3,t),us(5,t,t.return));break;case 1:Dt(e,t),Mt(t),i&512&&(Ze||n===null||Bn(n,n.return)),i&64&&ni&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Cn;if(Dt(e,t),Mt(t),i&512&&(Ze||n===null||Bn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[dl]||a[yt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),bt(a,i,n),a[yt]=t,ut(a),i=a;break e;case"link":var r=nx("link","href",s).get(i+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break t}}a=s.createElement(i),bt(a,i,n),s.head.appendChild(a);break;case"meta":if(r=nx("meta","content",s).get(i+(n.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break t}}a=s.createElement(i),bt(a,i,n),s.head.appendChild(a);break;default:throw Error(R(468,i))}a[yt]=t,ut(a),i=a}t.stateNode=i}else ix(s,t.type,t.stateNode);else t.stateNode=tx(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?ix(s,t.type,t.stateNode):tx(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&uh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Dt(e,t),Mt(t),i&512&&(Ze||n===null||Bn(n,n.return)),n!==null&&i&4&&uh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Dt(e,t),Mt(t),i&512&&(Ze||n===null||Bn(n,n.return)),t.flags&32){s=t.stateNode;try{Ja(s,"")}catch(x){_e(t,t.return,x)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,uh(t,s,n!==null?n.memoizedProps:s)),i&1024&&(hh=!0);break;case 6:if(Dt(e,t),Mt(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(x){_e(t,t.return,x)}}break;case 3:if(Ec=null,s=Cn,Cn=cu(e.containerInfo),Dt(e,t),Cn=s,Mt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{or(e.containerInfo)}catch(x){_e(t,t.return,x)}hh&&(hh=!1,p1(t));break;case 4:i=Cn,Cn=cu(t.stateNode.containerInfo),Dt(e,t),Mt(t),Cn=i;break;case 12:Dt(e,t),Mt(t);break;case 31:Dt(e,t),Mt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 13:Dt(e,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ad=Qt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ni,d=Ze;if(ni=u||s,Ze=d||l,Dt(e,t),Ze=d,ni=u,Mt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||ni||Ze||As(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(x){_e(l,l.return,x)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(x){_e(l,l.return,x)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;s?X0(m,!0):X0(l.stateNode,!1)}catch(x){_e(l,l.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xl(t,n))));break;case 19:Dt(e,t),Mt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 30:break;case 21:break;default:Dt(e,t),Mt(t)}}function Mt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(o1(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var s=n.stateNode,a=dh(t);tu(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Ja(r,""),n.flags&=-33);var o=dh(t);tu(t,o,r);break;case 3:case 4:var l=n.stateNode.containerInfo,u=dh(t);Bf(t,u,l);break;default:throw Error(R(161))}}catch(d){_e(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;p1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Jn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)c1(t,e.alternate,e),e=e.sibling}function As(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:us(4,e,e.return),As(e);break;case 1:Bn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&a1(e,e.return,n),As(e);break;case 27:xo(e.stateNode);case 26:case 5:Bn(e,e.return),As(e);break;case 22:e.memoizedState===null&&As(e);break;case 30:As(e);break;default:As(e)}t=t.sibling}}function ei(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:ei(s,a,n),pl(4,a);break;case 1:if(ei(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){_e(i,i.return,u)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)hw(l[s],o)}catch(u){_e(i,i.return,u)}}n&&r&64&&s1(a),mo(a,a.return);break;case 27:l1(a);case 26:case 5:ei(s,a,n),n&&i===null&&r&4&&r1(a),mo(a,a.return);break;case 12:ei(s,a,n);break;case 31:ei(s,a,n),n&&r&4&&h1(s,a);break;case 13:ei(s,a,n),n&&r&4&&f1(s,a);break;case 22:a.memoizedState===null&&ei(s,a,n),mo(a,a.return);break;case 30:break;default:ei(s,a,n)}e=e.sibling}}function Pp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&fl(n))}function zp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fl(t))}function _n(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)g1(t,e,n,i),e=e.sibling}function g1(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:_n(t,e,n,i),s&2048&&pl(9,e);break;case 1:_n(t,e,n,i);break;case 3:_n(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fl(t)));break;case 12:if(s&2048){_n(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){_e(e,e.return,l)}}else _n(t,e,n,i);break;case 31:_n(t,e,n,i);break;case 13:_n(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?_n(t,e,n,i):po(t,e):a._visibility&2?_n(t,e,n,i):(a._visibility|=2,ma(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Pp(r,e);break;case 24:_n(t,e,n,i),s&2048&&zp(e.alternate,e);break;default:_n(t,e,n,i)}}function ma(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,o=n,l=i,u=r.flags;switch(r.tag){case 0:case 11:case 15:ma(a,r,o,l,s),pl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ma(a,r,o,l,s):po(a,r):(d._visibility|=2,ma(a,r,o,l,s)),s&&u&2048&&Pp(r.alternate,r);break;case 24:ma(a,r,o,l,s),s&&u&2048&&zp(r.alternate,r);break;default:ma(a,r,o,l,s)}e=e.sibling}}function po(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:po(n,i),s&2048&&Pp(i.alternate,i);break;case 24:po(n,i),s&2048&&zp(i.alternate,i);break;default:po(n,i)}e=e.sibling}}var Zr=8192;function da(t,e,n){if(t.subtreeFlags&Zr)for(t=t.child;t!==null;)y1(t,e,n),t=t.sibling}function y1(t,e,n){switch(t.tag){case 26:da(t,e,n),t.flags&Zr&&t.memoizedState!==null&&cR(n,Cn,t.memoizedState,t.memoizedProps);break;case 5:da(t,e,n);break;case 3:case 4:var i=Cn;Cn=cu(t.stateNode.containerInfo),da(t,e,n),Cn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Zr,Zr=16777216,da(t,e,n),Zr=i):da(t,e,n));break;default:da(t,e,n)}}function x1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function zr(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];lt=i,b1(i,t)}x1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)v1(t),t=t.sibling}function v1(t){switch(t.tag){case 0:case 11:case 15:zr(t),t.flags&2048&&us(9,t,t.return);break;case 3:zr(t);break;case 12:zr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Sc(t)):zr(t);break;default:zr(t)}}function Sc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];lt=i,b1(i,t)}x1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:us(8,e,e.return),Sc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Sc(e));break;default:Sc(e)}t=t.sibling}}function b1(t,e){for(;lt!==null;){var n=lt;switch(n.tag){case 0:case 11:case 15:us(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:fl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,lt=i;else e:for(n=t;lt!==null;){i=lt;var s=i.sibling,a=i.return;if(u1(i),i===n){lt=null;break e}if(s!==null){s.return=a,lt=s;break e}lt=a}}}var T2={getCacheForType:function(t){var e=vt(Je),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return vt(Je).controller.signal}},E2=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ce=null,ue=null,he=0,be=0,Yt=null,$i=!1,vr=!1,Vp=!1,xi=0,He=0,ds=0,Vs=0,Bp=0,Xt=0,ir=0,go=null,Ut=null,Hf=!1,ad=0,_1=0,nu=1/0,iu=null,Ji=null,it=0,es=null,sr=null,di=0,Ff=0,Gf=null,w1=null,yo=0,$f=null;function en(){return ye&2&&he!==0?he&-he:Z.T!==null?Fp():j_()}function S1(){if(Xt===0)if(!(he&536870912)||fe){var t=Hl;Hl<<=1,!(Hl&3932160)&&(Hl=262144),Xt=t}else Xt=536870912;return t=nn.current,t!==null&&(t.flags|=32),Xt}function Vt(t,e,n){(t===Ce&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(ar(t,0),qi(t,he,Xt,!1)),ul(t,n),(!(ye&2)||t!==Ce)&&(t===Ce&&(!(ye&2)&&(Vs|=n),He===4&&qi(t,he,Xt,!1)),Kn(t))}function T1(t,e,n){if(ye&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||cl(t,e),s=i?A2(t,e):fh(t,e,!0),a=i;do{if(s===0){vr&&!i&&qi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!N2(n)){s=fh(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var o=t;s=go;var l=o.current.memoizedState.isDehydrated;if(l&&(ar(o,r).flags|=256),r=fh(o,r,!1),r!==2){if(Vp&&!l){o.errorRecoveryDisabledLanes|=a,Vs|=a,s=4;break e}a=Ut,Ut=s,a!==null&&(Ut===null?Ut=a:Ut.push.apply(Ut,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){ar(t,0),qi(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:qi(i,e,Xt,!$i);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(s=ad+300-Qt(),10<s)){if(qi(i,e,Xt,!$i),Wu(i,0,!0)!==0)break e;di=e,i.timeoutHandle=G1(U0.bind(null,i,n,Ut,iu,Hf,e,Xt,Vs,ir,$i,a,"Throttled",-0,0),s);break e}U0(i,n,Ut,iu,Hf,e,Xt,Vs,ir,$i,a,null,-0,0)}}break}while(!0);Kn(t)}function U0(t,e,n,i,s,a,r,o,l,u,d,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},y1(e,a,f);var x=(a&62914560)===a?ad-Qt():(a&4194048)===a?_1-Qt():0;if(x=uR(f,x),x!==null){di=a,t.cancelPendingCommit=x(z0.bind(null,t,e,a,n,i,s,r,o,l,d,f,null,h,m)),qi(t,a,r,!u);return}}z0(t,e,a,n,i,s,r,o,l)}function N2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!tn(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e,n,i){e&=~Bp,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-Jt(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&A_(t,n,e)}function rd(){return ye&6?!0:(gl(0),!1)}function Hp(){if(ue!==null){if(be===0)var t=ue.return;else t=ue,ai=ra=null,Cp(t),Va=null,Po=0,t=ue;for(;t!==null;)i1(t.alternate,t),t=t.return;ue=null}}function ar(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,q2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),di=0,Hp(),Ce=t,ue=n=ci(t.current,null),he=e,be=0,Yt=null,$i=!1,vr=cl(t,e),Vp=!1,ir=Xt=Bp=Vs=ds=He=0,Ut=go=null,Hf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Jt(i),a=1<<s;e|=t[s],i&=~a}return xi=e,Zu(),n}function E1(t,e){se=null,Z.H=Vo,e===xr||e===ed?(e=p0(),be=3):e===bp?(e=p0(),be=4):be=e===Lp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Yt=e,ue===null&&(He=1,Jc(t,hn(e,t.current)))}function N1(){var t=nn.current;return t===null?!0:(he&4194048)===he?gn===null:(he&62914560)===he||he&536870912?t===gn:!1}function C1(){var t=Z.H;return Z.H=Vo,t===null?Vo:t}function A1(){var t=Z.A;return Z.A=T2,t}function su(){He=4,$i||(he&4194048)!==he&&nn.current!==null||(vr=!0),!(ds&134217727)&&!(Vs&134217727)||Ce===null||qi(Ce,he,Xt,!1)}function fh(t,e,n){var i=ye;ye|=2;var s=C1(),a=A1();(Ce!==t||he!==e)&&(iu=null,ar(t,e)),e=!1;var r=He;e:do try{if(be!==0&&ue!==null){var o=ue,l=Yt;switch(be){case 8:Hp(),r=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(e=!0);var u=be;if(be=0,Yt=null,Aa(t,o,l,u),n&&vr){r=0;break e}break;default:u=be,be=0,Yt=null,Aa(t,o,l,u)}}C2(),r=He;break}catch(d){E1(t,d)}while(!0);return e&&t.shellSuspendCounter++,ai=ra=null,ye=i,Z.H=s,Z.A=a,ue===null&&(Ce=null,he=0,Zu()),r}function C2(){for(;ue!==null;)R1(ue)}function A2(t,e){var n=ye;ye|=2;var i=C1(),s=A1();Ce!==t||he!==e?(iu=null,nu=Qt()+500,ar(t,e)):vr=cl(t,e);e:do try{if(be!==0&&ue!==null){e=ue;var a=Yt;t:switch(be){case 1:be=0,Yt=null,Aa(t,e,a,1);break;case 2:case 9:if(m0(a)){be=0,Yt=null,P0(e);break}e=function(){be!==2&&be!==9||Ce!==t||(be=7),Kn(t)},a.then(e,e);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:m0(a)?(be=0,Yt=null,P0(e)):(be=0,Yt=null,Aa(t,e,a,7));break;case 5:var r=null;switch(ue.tag){case 26:r=ue.memoizedState;case 5:case 27:var o=ue;if(r?K1(r):o.stateNode.complete){be=0,Yt=null;var l=o.sibling;if(l!==null)ue=l;else{var u=o.return;u!==null?(ue=u,od(u)):ue=null}break t}}be=0,Yt=null,Aa(t,e,a,5);break;case 6:be=0,Yt=null,Aa(t,e,a,6);break;case 8:Hp(),He=6;break e;default:throw Error(R(462))}}R2();break}catch(d){E1(t,d)}while(!0);return ai=ra=null,Z.H=i,Z.A=s,ye=n,ue!==null?0:(Ce=null,he=0,Zu(),He)}function R2(){for(;ue!==null&&!ZC();)R1(ue)}function R1(t){var e=n1(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?od(t):ue=e}function P0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=j0(n,e,e.pendingProps,e.type,void 0,he);break;case 11:e=j0(n,e,e.pendingProps,e.type.render,e.ref,he);break;case 5:Cp(e);default:i1(n,e),e=ue=iw(e,xi),e=n1(n,e,xi)}t.memoizedProps=t.pendingProps,e===null?od(t):ue=e}function Aa(t,e,n,i){ai=ra=null,Cp(e),Va=null,Po=0;var s=e.return;try{if(y2(t,s,e,n,he)){He=1,Jc(t,hn(n,t.current)),ue=null;return}}catch(a){if(s!==null)throw ue=s,a;He=1,Jc(t,hn(n,t.current)),ue=null;return}e.flags&32768?(fe||i===1?t=!0:vr||he&536870912?t=!1:($i=t=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),I1(e,t)):od(e)}function od(t){var e=t;do{if(e.flags&32768){I1(e,$i);return}t=e.return;var n=b2(e.alternate,e,xi);if(n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);He===0&&(He=5)}function I1(t,e){do{var n=_2(t.alternate,t);if(n!==null){n.flags&=32767,ue=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ue=t;return}ue=t=n}while(t!==null);He=6,ue=null}function z0(t,e,n,i,s,a,r,o,l){t.cancelPendingCommit=null;do ld();while(it!==0);if(ye&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(a=e.lanes|e.childLanes,a|=fp,lA(t,n,a,r,o,l),t===Ce&&(ue=Ce=null,he=0),sr=e,es=t,di=n,Ff=a,Gf=s,w1=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,k2(Hc,function(){return M1(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Z.T,Z.T=null,s=ve.p,ve.p=2,r=ye,ye|=4;try{w2(t,e,n)}finally{ye=r,ve.p=s,Z.T=i}}it=1,j1(),O1(),k1()}}function j1(){if(it===1){it=0;var t=es,e=sr,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=ve.p;ve.p=2;var s=ye;ye|=4;try{m1(e,t);var a=Kf,r=K_(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&W_(o.ownerDocument.documentElement,o)){if(l!==null&&hp(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=o.textContent.length,b=Math.min(l.start,x),_=l.end===void 0?b:Math.min(l.end,x);!m.extend&&b>_&&(r=_,_=b,b=r);var g=o0(o,b),p=o0(o,_);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var y=f.createRange();y.setStart(g.node,g.offset),m.removeAllRanges(),b>_?(m.addRange(y),m.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),m.addRange(y))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var w=f[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}hu=!!Wf,Kf=Wf=null}finally{ye=s,ve.p=i,Z.T=n}}t.current=e,it=2}}function O1(){if(it===2){it=0;var t=es,e=sr,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=ve.p;ve.p=2;var s=ye;ye|=4;try{c1(t,e.alternate,e)}finally{ye=s,ve.p=i,Z.T=n}}it=3}}function k1(){if(it===4||it===3){it=0,JC();var t=es,e=sr,n=di,i=w1;e.subtreeFlags&10256||e.flags&10256?it=5:(it=0,sr=es=null,D1(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Ji=null),ap(n),e=e.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Z.T,s=ve.p,ve.p=2,Z.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var o=i[r];a(o.value,{componentStack:o.stack})}}finally{Z.T=e,ve.p=s}}di&3&&ld(),Kn(t),s=t.pendingLanes,n&261930&&s&42?t===$f?yo++:(yo=0,$f=t):yo=0,gl(0)}}function D1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,fl(e)))}function ld(){return j1(),O1(),k1(),M1()}function M1(){if(it!==5)return!1;var t=es,e=Ff;Ff=0;var n=ap(di),i=Z.T,s=ve.p;try{ve.p=32>n?32:n,Z.T=null,n=Gf,Gf=null;var a=es,r=di;if(it=0,sr=es=null,di=0,ye&6)throw Error(R(331));var o=ye;if(ye|=4,v1(a.current),g1(a,a.current,r,n),ye=o,gl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ll,a)}catch{}return!0}finally{ve.p=s,Z.T=i,D1(t,e)}}function V0(t,e,n){e=hn(n,e),e=Pf(t.stateNode,e,2),t=Zi(t,e,2),t!==null&&(ul(t,2),Kn(t))}function _e(t,e,n){if(t.tag===3)V0(t,t,n);else for(;e!==null;){if(e.tag===3){V0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ji===null||!Ji.has(i))){t=hn(n,t),n=Xw(2),i=Zi(e,n,2),i!==null&&(Qw(n,i,e,t),ul(i,2),Kn(i));break}}e=e.return}}function mh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new E2;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Vp=!0,s.add(n),t=I2.bind(null,t,e,n),e.then(t,t))}function I2(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ce===t&&(he&n)===n&&(He===4||He===3&&(he&62914560)===he&&300>Qt()-ad?!(ye&2)&&ar(t,0):Bp|=n,ir===he&&(ir=0)),Kn(t)}function L1(t,e){e===0&&(e=C_()),t=aa(t,e),t!==null&&(ul(t,e),Kn(t))}function j2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L1(t,n)}function O2(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),L1(t,n)}function k2(t,e){return ip(t,e)}var au=null,pa=null,qf=!1,ru=!1,ph=!1,Yi=0;function Kn(t){t!==pa&&t.next===null&&(pa===null?au=pa=t:pa=pa.next=t),ru=!0,qf||(qf=!0,M2())}function gl(t,e){if(!ph&&ru){ph=!0;do for(var n=!1,i=au;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Jt(42|t)+1)-1,a&=s&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,B0(i,a))}else a=he,a=Wu(i,i===Ce?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||cl(i,a)||(n=!0,B0(i,a));i=i.next}while(n);ph=!1}}function D2(){U1()}function U1(){ru=qf=!1;var t=0;Yi!==0&&$2()&&(t=Yi);for(var e=Qt(),n=null,i=au;i!==null;){var s=i.next,a=P1(i,e);a===0?(i.next=null,n===null?au=s:n.next=s,s===null&&(pa=n)):(n=i,(t!==0||a&3)&&(ru=!0)),i=s}it!==0&&it!==5||gl(t),Yi!==0&&(Yi=0)}function P1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-Jt(a),o=1<<r,l=s[r];l===-1?(!(o&n)||o&i)&&(s[r]=oA(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ce,n=he,n=Wu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(be===2||be===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Fd(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||cl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Fd(i),ap(n)){case 2:case 8:n=E_;break;case 32:n=Hc;break;case 268435456:n=N_;break;default:n=Hc}return i=z1.bind(null,t),n=ip(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Fd(i),t.callbackPriority=2,t.callbackNode=null,2}function z1(t,e){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ld()&&t.callbackNode!==n)return null;var i=he;return i=Wu(t,t===Ce?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(T1(t,i,e),P1(t,Qt()),t.callbackNode!=null&&t.callbackNode===n?z1.bind(null,t):null)}function B0(t,e){if(ld())return null;T1(t,e,!0)}function M2(){Y2(function(){ye&6?ip(T_,D2):U1()})}function Fp(){if(Yi===0){var t=er;t===0&&(t=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),Yi=t}return Yi}function H0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mc(""+t)}function F0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function L2(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=H0((s[Ft]||null).action),r=i.submitter;r&&(e=(e=r[Ft]||null)?H0(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var o=new Ku("action","action",null,i,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Yi!==0){var l=r?F0(s,r):new FormData(s);Lf(n,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?F0(s,r):new FormData(s),Lf(n,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var gh=0;gh<Tf.length;gh++){var yh=Tf[gh],U2=yh.toLowerCase(),P2=yh[0].toUpperCase()+yh.slice(1);Un(U2,"on"+P2)}Un(Q_,"onAnimationEnd");Un(Z_,"onAnimationIteration");Un(J_,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(e2,"onTransitionRun");Un(t2,"onTransitionStart");Un(n2,"onTransitionCancel");Un(ew,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function V1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(d){Gc(d)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(d){Gc(d)}s.currentTarget=null,a=l}}}}function ce(t,e){var n=e[gf];n===void 0&&(n=e[gf]=new Set);var i=t+"__bubble";n.has(i)||(B1(e,t,2,!1),n.add(i))}function xh(t,e,n){var i=0;e&&(i|=4),B1(n,t,i,e)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Gp(t){if(!t[Ql]){t[Ql]=!0,O_.forEach(function(n){n!=="selectionchange"&&(z2.has(n)||xh(n,!1,t),xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ql]||(e[Ql]=!0,xh("selectionchange",!1,e))}}function B1(t,e,n,i){switch(eS(e)){case 2:var s=fR;break;case 8:s=mR;break;default:s=Wp}n=s.bind(null,e,n,t),s=void 0,!_f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vh(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;o!==null;){if(r=va(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue e}o=o.parentNode}}i=i.return}V_(function(){var u=a,d=lp(n),f=[];e:{var h=tw.get(t);if(h!==void 0){var m=Ku,x=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":m=OA;break;case"focusin":x="focus",m=Wd;break;case"focusout":x="blur",m=Wd;break;case"beforeblur":case"afterblur":m=Wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MA;break;case Q_:case Z_:case J_:m=SA;break;case ew:m=UA;break;case"scroll":case"scrollend":m=xA;break;case"wheel":m=zA;break;case"copy":case"cut":case"paste":m=EA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jy;break;case"toggle":case"beforetoggle":m=BA}var b=(e&4)!==0,_=!b&&(t==="scroll"||t==="scrollend"),g=b?h!==null?h+"Capture":null:h;b=[];for(var p=u,y;p!==null;){var w=p;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||g===null||(w=ko(p,g),w!=null&&b.push(Ho(p,w,y))),_)break;p=p.return}0<b.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==bf&&(x=n.relatedTarget||n.fromElement)&&(va(x)||x[pr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?va(x):null,x!==null&&(_=ol(x),b=x.tag,x!==_||b!==5&&b!==27&&b!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=Qy,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Jy,w="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?h:Xr(m),y=x==null?h:Xr(x),h=new b(w,p+"leave",m,n,d),h.target=_,h.relatedTarget=y,w=null,va(d)===u&&(b=new b(g,p+"enter",x,n,d),b.target=y,b.relatedTarget=_,w=b),_=w,m&&x)t:{for(b=V2,g=m,p=x,y=0,w=g;w;w=b(w))y++;w=0;for(var N=p;N;N=b(N))w++;for(;0<y-w;)g=b(g),y--;for(;0<w-y;)p=b(p),w--;for(;y--;){if(g===p||p!==null&&g===p.alternate){b=g;break t}g=b(g),p=b(p)}b=null}else b=null;m!==null&&G0(f,h,m,b,!1),x!==null&&_!==null&&G0(f,_,x,b,!0)}}e:{if(h=u?Xr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=i0;else if(n0(h))if(q_)j=QA;else{j=KA;var A=WA}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&op(u.elementType)&&(j=i0):j=XA;if(j&&(j=j(t,u))){$_(f,j,n,d);break e}A&&A(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&vf(h,"number",h.value)}switch(A=u?Xr(u):window,t){case"focusin":(n0(A)||A.contentEditable==="true")&&(wa=A,wf=u,oo=null);break;case"focusout":oo=wf=wa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,l0(f,n,d);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":l0(f,n,d)}var C;if(dp)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else _a?F_(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(H_&&n.locale!=="ko"&&(_a||L!=="onCompositionStart"?L==="onCompositionEnd"&&_a&&(C=B_()):(Gi=d,cp="value"in Gi?Gi.value:Gi.textContent,_a=!0)),A=ou(u,L),0<A.length&&(L=new Zy(L,t,null,n,d),f.push({event:L,listeners:A}),C?L.data=C:(C=G_(n),C!==null&&(L.data=C)))),(C=FA?GA(t,n):$A(t,n))&&(L=ou(u,"onBeforeInput"),0<L.length&&(A=new Zy("onBeforeInput","beforeinput",null,n,d),f.push({event:A,listeners:L}),A.data=C)),L2(f,t,u,n,d)}V1(f,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=ko(t,n),s!=null&&i.unshift(Ho(t,s,a)),s=ko(t,e),s!=null&&i.push(Ho(t,s,a))),t.tag===3)return i;t=t.return}return[]}function V2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G0(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||u===null||(l=u,s?(u=ko(n,a),u!=null&&r.unshift(Ho(n,u,l))):s||(u=ko(n,a),u!=null&&r.push(Ho(n,u,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var B2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(B2,`
`).replace(H2,"")}function H1(t,e){return e=$0(e),$0(t)===e}function we(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ja(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ja(t,""+i);break;case"className":Gl(t,"class",i);break;case"tabIndex":Gl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(t,n,i);break;case"style":z_(t,i,a);break;case"data":if(e!=="object"){Gl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=mc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&we(t,e,"name",s.name,s,null),we(t,e,"formEncType",s.formEncType,s,null),we(t,e,"formMethod",s.formMethod,s,null),we(t,e,"formTarget",s.formTarget,s,null)):(we(t,e,"encType",s.encType,s,null),we(t,e,"method",s.method,s,null),we(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=mc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=si);break;case"onScroll":i!=null&&ce("scroll",t);break;case"onScrollEnd":i!=null&&ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=mc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ce("beforetoggle",t),ce("toggle",t),fc(t,"popover",i);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gA.get(n)||n,fc(t,n,i))}}function Yf(t,e,n,i,s,a){switch(n){case"style":z_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ja(t,i):(typeof i=="number"||typeof i=="bigint")&&Ja(t,""+i);break;case"onScroll":i!=null&&ce("scroll",t);break;case"onScrollEnd":i!=null&&ce("scrollend",t);break;case"onClick":i!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[Ft]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):fc(t,n,i)}}}function bt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",t),ce("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:we(t,e,a,r,n,null)}}s&&we(t,e,"srcSet",n.srcSet,n,null),i&&we(t,e,"src",n.src,n,null);return;case"input":ce("invalid",t);var o=a=r=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":r=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:we(t,e,i,d,n,null)}}L_(t,a,o,l,u,r,s,!1);return;case"select":ce("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:we(t,e,s,o,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ua(t,!!i,e,!1):n!=null&&Ua(t,!!i,n,!0);return;case"textarea":ce("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:we(t,e,r,o,n,null)}P_(t,i,s,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:we(t,e,l,i,n,null)}return;case"dialog":ce("beforetoggle",t),ce("toggle",t),ce("cancel",t),ce("close",t);break;case"iframe":case"object":ce("load",t);break;case"video":case"audio":for(i=0;i<Bo.length;i++)ce(Bo[i],t);break;case"image":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"embed":case"source":case"link":ce("error",t),ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:we(t,e,u,i,n,null)}return;default:if(op(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Yf(t,e,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&we(t,e,o,i,n,null))}function F2(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(m)||we(t,e,m,null,i,f)}}for(var h in i){var m=i[h];if(f=n[h],i.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":a=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(R(137,e));break;default:m!==f&&we(t,e,h,m,i,f)}}xf(t,r,o,l,u,d,a,s);return;case"select":m=r=o=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(a)||we(t,e,a,null,i,l)}for(s in i)if(a=i[s],l=n[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&we(t,e,s,a,i,l)}e=o,n=r,i=m,h!=null?Ua(t,!!n,h,!1):!!i!=!!n&&(e!=null?Ua(t,!!n,e,!0):Ua(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:we(t,e,o,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":h=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(R(91));break;default:s!==a&&we(t,e,r,s,i,a)}U_(t,h,m);return;case"option":for(var x in n)if(h=n[x],n.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:we(t,e,x,null,i,h)}for(l in i)if(h=i[l],m=n[l],i.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(t,e,l,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!i.hasOwnProperty(b)&&we(t,e,b,null,i,h);for(u in i)if(h=i[u],m=n[u],i.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,e));break;default:we(t,e,u,h,i,m)}return;default:if(op(e)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Yf(t,e,_,void 0,i,h);for(d in i)h=i[d],m=n[d],!i.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Yf(t,e,d,h,i,m);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&we(t,e,g,null,i,h);for(f in i)h=i[f],m=n[f],!i.hasOwnProperty(f)||h===m||h==null&&m==null||we(t,e,f,h,i,m)}function q0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,o=s.duration;if(a&&o&&q0(r)){for(r=0,o=s.responseEnd,i+=1;i<n.length;i++){var l=n[i],u=l.startTime;if(u>o)break;var d=l.transferSize,f=l.initiatorType;d&&q0(f)&&(l=l.responseEnd,r+=d*(l<o?1:(o-u)/(l-u)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wf=null,Kf=null;function lu(t){return t.nodeType===9?t:t.ownerDocument}function Y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bh=null;function $2(){var t=window.event;return t&&t.type==="popstate"?t===bh?!1:(bh=t,!0):(bh=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(t){return W0.resolve(null).then(t).catch(W2)}:G1;function W2(t){setTimeout(function(){throw t})}function xs(t){return t==="head"}function K0(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),or(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")xo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,xo(n);for(var a=n.firstChild;a;){var r=a.nextSibling,o=a.nodeName;a[dl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&xo(t.ownerDocument.body);n=s}while(n);or(e)}function X0(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Qf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qf(n),rp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function K2(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[dl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=yn(t.nextSibling),t===null)break}return null}function X2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yn(t.nextSibling),t===null))return null;return t}function $1(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=yn(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$?"||t.data==="$~"}function Jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Q2(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var em=null;function Q0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return yn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Z0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function q1(t,e,n){switch(e=lu(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function xo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);rp(t)}var xn=new Map,J0=new Set;function cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=ve.d;ve.d={f:Z2,r:J2,D:eR,C:tR,L:nR,m:iR,X:aR,S:sR,M:rR};function Z2(){var t=Ti.f(),e=rd();return t||e}function J2(t){var e=gr(t);e!==null&&e.tag===5&&e.type==="form"?zw(e):Ti.r(t)}var br=typeof document>"u"?null:document;function Y1(t,e,n){var i=br;if(i&&typeof e=="string"&&e){var s=dn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),J0.has(s)||(J0.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),bt(e,"link",t),ut(e),i.head.appendChild(e)))}}function eR(t){Ti.D(t),Y1("dns-prefetch",t,null)}function tR(t,e){Ti.C(t,e),Y1("preconnect",t,e)}function nR(t,e,n){Ti.L(t,e,n);var i=br;if(i&&t&&e){var s='link[rel="preload"][as="'+dn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+dn(n.imageSizes)+'"]')):s+='[href="'+dn(t)+'"]';var a=s;switch(e){case"style":a=rr(t);break;case"script":a=_r(t)}xn.has(a)||(t=Le({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),xn.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(yl(a))||e==="script"&&i.querySelector(xl(a))||(e=i.createElement("link"),bt(e,"link",t),ut(e),i.head.appendChild(e)))}}function iR(t,e){Ti.m(t,e);var n=br;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+dn(i)+'"][href="'+dn(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=_r(t)}if(!xn.has(a)&&(t=Le({rel:"modulepreload",href:t},e),xn.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xl(a)))return}i=n.createElement("link"),bt(i,"link",t),ut(i),n.head.appendChild(i)}}}function sR(t,e,n){Ti.S(t,e,n);var i=br;if(i&&t){var s=La(i).hoistableStyles,a=rr(t);e=e||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(yl(a)))o.loading=5;else{t=Le({rel:"stylesheet",href:t,"data-precedence":e},n),(n=xn.get(a))&&$p(t,n);var l=r=i.createElement("link");ut(l),bt(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Tc(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function aR(t,e){Ti.X(t,e);var n=br;if(n&&t){var i=La(n).hoistableScripts,s=_r(t),a=i.get(s);a||(a=n.querySelector(xl(s)),a||(t=Le({src:t,async:!0},e),(e=xn.get(s))&&qp(t,e),a=n.createElement("script"),ut(a),bt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function rR(t,e){Ti.M(t,e);var n=br;if(n&&t){var i=La(n).hoistableScripts,s=_r(t),a=i.get(s);a||(a=n.querySelector(xl(s)),a||(t=Le({src:t,async:!0,type:"module"},e),(e=xn.get(s))&&qp(t,e),a=n.createElement("script"),ut(a),bt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function ex(t,e,n,i){var s=(s=Ki.current)?cu(s):null;if(!s)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=rr(n.href),n=La(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=rr(n.href);var a=La(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(yl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),xn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xn.set(t,n),a||oR(s,t,n,r.state))),e&&i===null)throw Error(R(528,""));return r}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=_r(n),n=La(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function rr(t){return'href="'+dn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function W1(t){return Le({},t,{"data-precedence":t.precedence,precedence:null})}function oR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),bt(e,"link",n),ut(e),t.head.appendChild(e))}function _r(t){return'[src="'+dn(t)+'"]'}function xl(t){return"script[async]"+t}function tx(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+dn(n.href)+'"]');if(i)return e.instance=i,ut(i),i;var s=Le({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ut(i),bt(i,"style",s),Tc(i,n.precedence,t),e.instance=i;case"stylesheet":s=rr(n.href);var a=t.querySelector(yl(s));if(a)return e.state.loading|=4,e.instance=a,ut(a),a;i=W1(n),(s=xn.get(s))&&$p(i,s),a=(t.ownerDocument||t).createElement("link"),ut(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),bt(a,"link",i),e.state.loading|=4,Tc(a,n.precedence,t),e.instance=a;case"script":return a=_r(n.src),(s=t.querySelector(xl(a)))?(e.instance=s,ut(s),s):(i=n,(s=xn.get(a))&&(i=Le({},n),qp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ut(s),bt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Tc(i,n.precedence,t));return e.instance}function Tc(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===e)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function $p(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function qp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ec=null;function nx(t,e,n){if(Ec===null){var i=new Map,s=Ec=new Map;s.set(n,i)}else s=Ec,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[dl]||a[yt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function ix(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function lR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function K1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function cR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=rr(i.href),a=e.querySelector(yl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=uu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,ut(a);return}a=e.ownerDocument||e,i=W1(i),(s=xn.get(s))&&$p(i,s),a=a.createElement("link"),ut(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),bt(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=uu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var _h=0;function uR(t,e){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&_h===0&&(_h=62500*G2());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>_h?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var du=null;function Nc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,du=new Map,e.forEach(dR,t),du=null,uu.call(t))}function dR(t,e){if(!(e.state.loading&4)){var n=du.get(t);if(n)var i=n.get(null);else{n=new Map,du.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=uu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Fo={$$typeof:ii,Provider:null,Consumer:null,_currentValue:Ls,_currentValue2:Ls,_threadCount:0};function hR(t,e,n,i,s,a,r,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.hiddenUpdates=Gd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function X1(t,e,n,i,s,a,r,o,l,u,d,f){return t=new hR(t,e,n,r,l,u,d,f,o),e=1,a===!0&&(e|=24),a=Kt(3,null,null,e),t.current=a,a.stateNode=t,e=xp(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},_p(a),t}function Q1(t){return t?(t=Ea,t):Ea}function Z1(t,e,n,i,s,a){s=Q1(s),i.context===null?i.context=s:i.pendingContext=s,i=Qi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Zi(t,i,e),n!==null&&(Vt(n,t,e),co(n,t,e))}function sx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yp(t,e){sx(t,e),(t=t.alternate)&&sx(t,e)}function J1(t){if(t.tag===13||t.tag===31){var e=aa(t,67108864);e!==null&&Vt(e,t,67108864),Yp(t,67108864)}}function ax(t){if(t.tag===13||t.tag===31){var e=en();e=sp(e);var n=aa(t,e);n!==null&&Vt(n,t,e),Yp(t,e)}}var hu=!0;function fR(t,e,n,i){var s=Z.T;Z.T=null;var a=ve.p;try{ve.p=2,Wp(t,e,n,i)}finally{ve.p=a,Z.T=s}}function mR(t,e,n,i){var s=Z.T;Z.T=null;var a=ve.p;try{ve.p=8,Wp(t,e,n,i)}finally{ve.p=a,Z.T=s}}function Wp(t,e,n,i){if(hu){var s=tm(i);if(s===null)vh(t,e,i,fu,n),rx(t,i);else if(gR(s,t,e,n,i))i.stopPropagation();else if(rx(t,i),e&4&&-1<pR.indexOf(t)){for(;s!==null;){var a=gr(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Ns(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-Jt(r);o.entanglements[1]|=l,r&=~l}Kn(a),!(ye&6)&&(nu=Qt()+500,gl(0))}}break;case 31:case 13:o=aa(a,2),o!==null&&Vt(o,a,2),rd(),Yp(a,2)}if(a=tm(i),a===null&&vh(t,e,i,fu,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else vh(t,e,i,null,n)}}function tm(t){return t=lp(t),Kp(t)}var fu=null;function Kp(t){if(fu=null,t=va(t),t!==null){var e=ol(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=v_(e),t!==null)return t;t=null}else if(n===31){if(t=b_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return fu=t,null}function eS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eA()){case T_:return 2;case E_:return 8;case Hc:case tA:return 32;case N_:return 268435456;default:return 32}default:return 32}}var nm=!1,ts=null,ns=null,is=null,Go=new Map,$o=new Map,Ui=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rx(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(e.pointerId)}}function Vr(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=gr(e),e!==null&&J1(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gR(t,e,n,i,s){switch(e){case"focusin":return ts=Vr(ts,t,e,n,i,s),!0;case"dragenter":return ns=Vr(ns,t,e,n,i,s),!0;case"mouseover":return is=Vr(is,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Go.set(a,Vr(Go.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,$o.set(a,Vr($o.get(a)||null,t,e,n,i,s)),!0}return!1}function tS(t){var e=va(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=v_(n),e!==null){t.blockedOn=e,Gy(t.priority,function(){ax(n)});return}}else if(e===31){if(e=b_(n),e!==null){t.blockedOn=e,Gy(t.priority,function(){ax(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tm(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);bf=i,n.target.dispatchEvent(i),bf=null}else return e=gr(n),e!==null&&J1(e),t.blockedOn=n,!1;e.shift()}return!0}function ox(t,e,n){Cc(t)&&n.delete(e)}function yR(){nm=!1,ts!==null&&Cc(ts)&&(ts=null),ns!==null&&Cc(ns)&&(ns=null),is!==null&&Cc(is)&&(is=null),Go.forEach(ox),$o.forEach(ox)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,yR)))}var Jl=null;function lx(t){Jl!==t&&(Jl=t,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){Jl===t&&(Jl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Kp(i||n)===null)continue;break}var a=gr(n);a!==null&&(t.splice(e,3),e-=3,Lf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function or(t){function e(l){return Zl(l,t)}ts!==null&&Zl(ts,t),ns!==null&&Zl(ns,t),is!==null&&Zl(is,t),Go.forEach(e),$o.forEach(e);for(var n=0;n<Ui.length;n++){var i=Ui[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)tS(n),n.blockedOn===null&&Ui.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[Ft]||null;if(typeof a=="function")r||lx(n);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Ft]||null)o=r.formAction;else if(Kp(s)!==null)continue}else o=r.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),lx(n)}}}function nS(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Xp(t){this._internalRoot=t}cd.prototype.render=Xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=en();Z1(n,i,t,e,null,null)};cd.prototype.unmount=Xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Z1(t.current,2,null,t,null,null),rd(),e[pr]=null}};function cd(t){this._internalRoot=t}cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=j_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&tS(t)}};var cx=y_.version;if(cx!=="19.2.3")throw Error(R(527,cx,"19.2.3"));ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=YC(e),t=t!==null?__(t):null,t=t===null?null:t.stateNode,t};var xR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{ll=ec.inject(xR),Zt=ec}catch{}}qu.createRoot=function(t,e){if(!x_(t))throw Error(R(299));var n=!1,i="",s=Yw,a=Ww,r=Kw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=X1(t,1,!1,null,null,n,i,null,s,a,r,nS),t[pr]=e.current,Gp(t),new Xp(e)};qu.hydrateRoot=function(t,e,n){if(!x_(t))throw Error(R(299));var i=!1,s="",a=Yw,r=Ww,o=Kw,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=X1(t,1,!0,e,n??null,i,s,l,a,r,o,nS),e.context=Q1(null),n=e.current,i=en(),i=sp(i),s=Qi(i),s.callback=null,Zi(n,s,i),n=i,e.current.lanes=n,ul(e,n),Kn(e),t[pr]=e.current,Gp(t),new cd(e)};qu.version="19.2.3";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),d_.exports=qu;var vR=d_.exports;const bR=t_(vR),Qp=E.createContext({});function hs(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const sS=typeof window<"u",ud=sS?E.useLayoutEffect:E.useEffect,dd=E.createContext(null);function Zp(t,e){t.indexOf(e)===-1&&t.push(e)}function Jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Dn=(t,e,n)=>n>e?e:n<t?t:n;let qo=()=>{};const vi={},aS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rS(t){return typeof t=="object"&&t!==null}const oS=t=>/^0[^.\s]+$/u.test(t);function eg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bt=t=>t,_R=(t,e)=>n=>e(t(n)),vl=(...t)=>t.reduce(_R),lr=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class tg{constructor(){this.subscriptions=[]}add(e){return Zp(this.subscriptions,e),()=>Jp(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=t=>t*1e3,pn=t=>t/1e3;function ng(t,e){return e?t*(1e3/e):0}const lS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wR=1e-7,SR=12;function TR(t,e,n,i,s){let a,r,o=0;do r=e+(n-e)/2,a=lS(r,i,s)-t,a>0?n=r:e=r;while(Math.abs(a)>wR&&++o<SR);return r}function bl(t,e,n,i){if(t===e&&n===i)return Bt;const s=a=>TR(a,0,1,t,n);return a=>a===0||a===1?a:lS(s(a),e,i)}const cS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uS=t=>e=>1-t(1-e),dS=bl(.33,1.53,.69,.99),ig=uS(dS),hS=cS(ig),fS=t=>(t*=2)<1?.5*ig(t):.5*(2-Math.pow(2,-10*(t-1))),sg=t=>1-Math.sin(Math.acos(t)),mS=uS(sg),pS=cS(sg),ER=bl(.42,0,1,1),NR=bl(0,0,.58,1),gS=bl(.42,0,.58,1),CR=t=>Array.isArray(t)&&typeof t[0]!="number",yS=t=>Array.isArray(t)&&typeof t[0]=="number",AR={linear:Bt,easeIn:ER,easeInOut:gS,easeOut:NR,circIn:sg,circInOut:pS,circOut:mS,backIn:ig,backInOut:hS,backOut:dS,anticipate:fS},RR=t=>typeof t=="string",ux=t=>{if(yS(t)){qo(t.length===4);const[e,n,i,s]=t;return bl(e,n,i,s)}else if(RR(t))return AR[t];return t},tc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IR(t,e){let n=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){r.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,f=!1,h=!1)=>{const x=h&&s?n:i;return f&&r.add(d),x.has(d)||x.add(d),d},cancel:d=>{i.delete(d),r.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(l),n.clear(),s=!1,a&&(a=!1,u.process(d))}};return u}const jR=40;function xS(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=tc.reduce((y,w)=>(y[w]=IR(a),y),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:x}=r,b=()=>{const y=vi.useManualTiming?s.timestamp:performance.now();n=!1,vi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(y-s.timestamp,jR),1)),s.timestamp=y,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),x.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(b))},_=()=>{n=!0,i=!0,s.isProcessing||t(b)};return{schedule:tc.reduce((y,w)=>{const N=r[w];return y[w]=(j,A=!1,C=!1)=>(n||_(),N.schedule(j,A,C)),y},{}),cancel:y=>{for(let w=0;w<tc.length;w++)r[tc[w]].cancel(y)},state:s,steps:r}}const{schedule:xe,cancel:Mn,state:rt,steps:wh}=xS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0);let Ac;function OR(){Ac=void 0}const Rt={now:()=>(Ac===void 0&&Rt.set(rt.isProcessing||vi.useManualTiming?rt.timestamp:performance.now()),Ac),set:t=>{Ac=t,queueMicrotask(OR)}},vS=t=>e=>typeof e=="string"&&e.startsWith(t),bS=vS("--"),kR=vS("var(--"),ag=t=>kR(t)?DR.test(t.split("/*")[0].trim()):!1,DR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function dx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const wr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yo={...wr,transform:t=>Dn(0,1,t)},nc={...wr,default:1},vo=t=>Math.round(t*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MR(t){return t==null}const LR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,og=(t,e)=>n=>!!(typeof n=="string"&&LR.test(n)&&n.startsWith(t)||e&&!MR(n)&&Object.prototype.hasOwnProperty.call(n,e)),_S=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(rg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},UR=t=>Dn(0,255,t),Sh={...wr,transform:t=>Math.round(UR(t))},Os={test:og("rgb","red"),parse:_S("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Sh.transform(t)+", "+Sh.transform(e)+", "+Sh.transform(n)+", "+vo(Yo.transform(i))+")"};function PR(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const im={test:og("#"),parse:PR,transform:Os.transform},_l=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ii=_l("deg"),Gn=_l("%"),z=_l("px"),zR=_l("vh"),VR=_l("vw"),hx={...Gn,parse:t=>Gn.parse(t)/100,transform:t=>Gn.transform(t*100)},Ra={test:og("hsl","hue"),parse:_S("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Gn.transform(vo(e))+", "+Gn.transform(vo(n))+", "+vo(Yo.transform(i))+")"},Xe={test:t=>Os.test(t)||im.test(t)||Ra.test(t),parse:t=>Os.test(t)?Os.parse(t):Ra.test(t)?Ra.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):Ra.transform(t),getAnimatableNone:t=>{const e=Xe.parse(t);return e.alpha=0,Xe.transform(e)}},BR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rg))==null?void 0:e.length)||0)+(((n=t.match(BR))==null?void 0:n.length)||0)>0}const wS="number",SS="color",FR="var",GR="var(",fx="${}",$R=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=e.replace($R,l=>(Xe.test(l)?(i.color.push(a),s.push(SS),n.push(Xe.parse(l))):l.startsWith(GR)?(i.var.push(a),s.push(FR),n.push(l)):(i.number.push(a),s.push(wS),n.push(parseFloat(l))),++a,fx)).split(fx);return{values:n,split:o,indexes:i,types:s}}function TS(t){return Wo(t).values}function ES(t){const{split:e,types:n}=Wo(t),i=e.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=e[r],s[r]!==void 0){const o=n[r];o===wS?a+=vo(s[r]):o===SS?a+=Xe.transform(s[r]):a+=s[r]}return a}}const qR=t=>typeof t=="number"?0:Xe.test(t)?Xe.getAnimatableNone(t):t;function YR(t){const e=TS(t);return ES(t)(e.map(qR))}const fs={test:HR,parse:TS,createTransformer:ES,getAnimatableNone:YR};function Th(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,r=0;if(!e)s=a=r=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=Th(l,o,t+1/3),a=Th(l,o,t),r=Th(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function mu(t,e){return n=>n>0?e:t}const Pe=(t,e,n)=>t+(e-t)*n,Eh=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},KR=[im,Os,Ra],XR=t=>KR.find(e=>e.test(t));function mx(t){const e=XR(t);if(!e)return!1;let n=e.parse(t);return e===Ra&&(n=WR(n)),n}const px=(t,e)=>{const n=mx(t),i=mx(e);if(!n||!i)return mu(t,e);const s={...n};return a=>(s.red=Eh(n.red,i.red,a),s.green=Eh(n.green,i.green,a),s.blue=Eh(n.blue,i.blue,a),s.alpha=Pe(n.alpha,i.alpha,a),Os.transform(s))},sm=new Set(["none","hidden"]);function QR(t,e){return sm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZR(t,e){return n=>Pe(t,e,n)}function lg(t){return typeof t=="number"?ZR:typeof t=="string"?ag(t)?mu:Xe.test(t)?px:tI:Array.isArray(t)?NS:typeof t=="object"?Xe.test(t)?px:JR:mu}function NS(t,e){const n=[...t],i=n.length,s=t.map((a,r)=>lg(a)(a,e[r]));return a=>{for(let r=0;r<i;r++)n[r]=s[r](a);return n}}function JR(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=lg(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function eI(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],r=t.indexes[a][i[a]],o=t.values[r]??0;n[s]=o,i[a]++}return n}const tI=(t,e)=>{const n=fs.createTransformer(e),i=Wo(t),s=Wo(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?sm.has(t)&&!s.values.length||sm.has(e)&&!i.values.length?QR(t,e):vl(NS(eI(i,s),s.values),n):mu(t,e)};function CS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):lg(t)(t,e)}const nI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xe.update(e,n),stop:()=>Mn(e),now:()=>rt.isProcessing?rt.timestamp:Rt.now()}},AS=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pu=2e4;function cg(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pu;)e+=n,i=t.next(e);return e>=pu?1/0:e}function iI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(cg(i),pu);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:pn(s)}}const sI=5;function RS(t,e,n){const i=Math.max(e-sI,0);return ng(n-t(i),e-i)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nh=.001;function aI({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:n=Ve.velocity,mass:i=Ve.mass}){let s,a,r=1-e;r=Dn(Ve.minDamping,Ve.maxDamping,r),t=Dn(Ve.minDuration,Ve.maxDuration,pn(t)),r<1?(s=u=>{const d=u*r,f=d*t,h=d-n,m=am(u,r),x=Math.exp(-f);return Nh-h/m*x},a=u=>{const f=u*r*t,h=f*n+n,m=Math.pow(r,2)*Math.pow(u,2)*t,x=Math.exp(-f),b=am(Math.pow(u,2),r);return(-s(u)+Nh>0?-1:1)*((h-m)*x)/b}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Nh+d*f},a=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const o=5/t,l=oI(s,a,o);if(t=hi(t),isNaN(l))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:r*2*Math.sqrt(i*u),duration:t}}}const rI=12;function oI(t,e,n){let i=n;for(let s=1;s<rI;s++)i=i-t(i)/e(i);return i}function am(t,e){return t*Math.sqrt(1-e*e)}const lI=["duration","bounce"],cI=["stiffness","damping","mass"];function gx(t,e){return e.some(n=>t[n]!==void 0)}function uI(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!gx(t,cI)&&gx(t,lI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Dn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ve.mass,stiffness:s,damping:a}}else{const n=aI(t);e={...e,...n,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function gu(t=Ve.visualDuration,e=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=uI({...n,velocity:-pn(n.velocity||0)}),x=h||0,b=u/(2*Math.sqrt(l*d)),_=r-a,g=pn(Math.sqrt(l/d)),p=Math.abs(_)<5;i||(i=p?Ve.restSpeed.granular:Ve.restSpeed.default),s||(s=p?Ve.restDelta.granular:Ve.restDelta.default);let y;if(b<1){const N=am(g,b);y=j=>{const A=Math.exp(-b*g*j);return r-A*((x+b*g*_)/N*Math.sin(N*j)+_*Math.cos(N*j))}}else if(b===1)y=N=>r-Math.exp(-g*N)*(_+(x+g*_)*N);else{const N=g*Math.sqrt(b*b-1);y=j=>{const A=Math.exp(-b*g*j),C=Math.min(N*j,300);return r-A*((x+b*g*_)*Math.sinh(C)+N*_*Math.cosh(C))/N}}const w={calculatedDuration:m&&f||null,next:N=>{const j=y(N);if(m)o.done=N>=f;else{let A=N===0?x:0;b<1&&(A=N===0?hi(x):RS(y,N,j));const C=Math.abs(A)<=i,L=Math.abs(r-j)<=s;o.done=C&&L}return o.value=o.done?r:j,o},toString:()=>{const N=Math.min(cg(w),pu),j=AS(A=>w.next(N*A).value,N,30);return N+"ms "+j},toTransition:()=>{}};return w}gu.applyToOptions=t=>{const e=iI(t,100,gu);return t.ease=e.ease,t.duration=hi(e.duration),t.type="keyframes",t};function rm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=C=>o!==void 0&&C<o||l!==void 0&&C>l,x=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let b=n*e;const _=f+b,g=r===void 0?_:r(_);g!==_&&(b=g-f);const p=C=>-b*Math.exp(-C/i),y=C=>g+p(C),w=C=>{const L=p(C),I=y(C);h.done=Math.abs(L)<=u,h.value=h.done?g:I};let N,j;const A=C=>{m(h.value)&&(N=C,j=gu({keyframes:[h.value,x(h.value)],velocity:RS(y,C,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:C=>{let L=!1;return!j&&N===void 0&&(L=!0,w(C),A(C)),N!==void 0&&C>=N?j.next(C-N):(!L&&w(C),h)}}}function dI(t,e,n){const i=[],s=n||vi.mix||CS,a=t.length-1;for(let r=0;r<a;r++){let o=s(t[r],t[r+1]);if(e){const l=Array.isArray(e)?e[r]||Bt:e;o=vl(l,o)}i.push(o)}return i}function ug(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(qo(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=dI(e,i,s),l=o.length,u=d=>{if(r&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=lr(t[f],t[f+1],d);return o[f](h)};return n?d=>u(Dn(t[0],t[a-1],d)):u}function hI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=lr(0,e,i);t.push(Pe(n,1,s))}}function IS(t){const e=[0];return hI(e,t.length-1),e}function fI(t,e){return t.map(n=>n*e)}function mI(t,e){return t.map(()=>e||gS).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=CR(i)?i.map(ux):ux(i),a={done:!1,value:e[0]},r=fI(n&&n.length===e.length?n:IS(e),t),o=ug(r,e,{ease:Array.isArray(s)?s:mI(e,s)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const pI=t=>t!==null;function dg(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(pI),o=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const gI={decay:rm,inertia:rm,tween:bo,keyframes:bo,spring:gu};function jS(t){typeof t.type=="string"&&(t.type=gI[t.type])}class hg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yI=t=>t/100;class hd extends hg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jS(e);const{type:n=bo,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=e;let{keyframes:o}=e;const l=n||bo;l!==bo&&typeof o[0]!="number"&&(this.mixKeyframes=vl(yI,CS(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=cg(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:x,onUpdate:b,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,w=i;if(f){const C=Math.min(this.currentTime,s)/o;let L=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&L--,L=Math.min(L,f+1),!!(L%2)&&(h==="reverse"?(I=1-I,m&&(I-=m/o)):h==="mirror"&&(w=r)),y=Dn(0,1,I)*o}const N=p?{done:!1,value:d[0]}:w.next(y);a&&(N.value=a(N.value));let{done:j}=N;!p&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&x!==rm&&(N.value=dg(d,this.options,_,this.speed)),b&&b(N.value),A&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return pn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(this.currentTime)}set time(e){var n;e=hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pn(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=nI,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function xI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,om=t=>{const e=ks(Math.atan2(t[1],t[0]));return lm(e)},vI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:om,rotateZ:om,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lm=t=>(t=t%360,t<0&&(t+=360),t),yx=om,xx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xx,scaleY:vx,scale:t=>(xx(t)+vx(t))/2,rotateX:t=>lm(ks(Math.atan2(t[6],t[5]))),rotateY:t=>lm(ks(Math.atan2(-t[2],t[0]))),rotateZ:yx,rotate:yx,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cm(t){return t.includes("scale")?1:0}function um(t,e){if(!t||t==="none")return cm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=bI,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=vI,s=o}if(!s)return cm(e);const a=i[e],r=s[1].split(",").map(wI);return typeof a=="function"?a(r):r[a]}const _I=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return um(n,e)};function wI(t){return parseFloat(t.trim())}const Sr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tr=new Set(Sr),bx=t=>t===wr||t===z,SI=new Set(["x","y","z"]),TI=Sr.filter(t=>!SI.has(t));function EI(t){const e=[];return TI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Wi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>um(e,"x"),y:(t,{transform:e})=>um(e,"y")};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const Bs=new Set;let dm=!1,hm=!1,fm=!1;function OS(){if(hm){const t=Array.from(Bs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=EI(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))==null||o.set(r)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hm=!1,dm=!1,Bs.forEach(t=>t.complete(fm)),Bs.clear()}function kS(){Bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hm=!0)})}function NI(){fm=!0,kS(),OS(),fm=!1}class fg{constructor(e,n,i,s,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),dm||(dm=!0,xe.read(kS),xe.resolveKeyframes(OS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),r=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const o=i.readValue(n,r);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=r),s&&a===void 0&&s.set(e[0])}xI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CI=t=>t.startsWith("--");function AI(t,e,n){CI(e)?t.style.setProperty(e,n):t.style[e]=n}const DS=eg(()=>window.ScrollTimeline!==void 0),RI={};function II(t,e){const n=eg(t);return()=>RI[e]??n()}const MS=II(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,_x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jr([0,.65,.55,1]),circOut:Jr([.55,0,1,.45]),backIn:Jr([.31,.01,.66,-.59]),backOut:Jr([.33,1.53,.69,.99])};function LS(t,e){if(t)return typeof t=="function"?MS()?AS(t,e):"ease-out":yS(t)?Jr(t):Array.isArray(t)?t.map(n=>LS(n,e)||_x.easeOut):_x[t]}function jI(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const f=LS(o,s);Array.isArray(f)&&(d.easing=f);const h={delay:i,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(d,h)}function US(t){return typeof t=="function"&&"applyToOptions"in t}function OI({type:t,...e}){return US(t)&&MS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kI extends hg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=e,qo(typeof e.type!="string");const u=OI(e);this.animation=jI(n,i,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=dg(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):AI(n,i,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return pn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&DS()?(this.animation.timeline=e,Bt):n(this)}}const PS={anticipate:fS,backInOut:hS,circInOut:pS};function DI(t){return t in PS}function MI(t){typeof t.ease=="string"&&DI(t.ease)&&(t.ease=PS[t.ease])}const Ch=10;class LI extends kI{constructor(e){MI(e),jS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new hd({...r,autoplay:!1}),l=Math.max(Ch,Rt.now()-this.startTime),u=Dn(0,Ch,l-Ch);n.setWithVelocity(o.sample(Math.max(0,l-u)).value,o.sample(l).value,u),o.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function UI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PI(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],r=wx(s,e),o=wx(a,e);return!r||!o?!1:UI(t)||(n==="spring"||US(n))&&i}function mm(t){t.duration=0,t.type="keyframes"}const zI=new Set(["opacity","clipPath","filter","transform"]),VI=eg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BI(t){var d;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:r}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return VI()&&n&&zI.has(n)&&(n!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&a!==0&&r!=="inertia"}const HI=40;class FI extends hg{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",keyframes:o,name:l,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var b,_;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Rt.now();const h={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:r,name:l,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||fg;this.keyframeResolver=new m(o,(b,_,g)=>this.onKeyframesResolved(b,_,h,!g),l,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:r,velocity:o,delay:l,isHandoff:u,onUpdate:d}=i;this.resolvedAt=Rt.now(),PI(e,a,r,o)||((vi.instantAnimations||!l)&&(d==null||d(dg(e,i,n))),e[0]=e[e.length-1],mm(i),i.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>HI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},m=!u&&BI(h)?new LI({...h,element:h.motionValue.owner.current}):new hd(h);m.finished.then(()=>this.notifyFinished()).catch(Bt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),NI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const GI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $I(t){const e=GI.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function zS(t,e,n=1){const[i,s]=$I(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const r=a.trim();return aS(r)?parseFloat(r):r}return ag(s)?zS(s,e,n+1):s}function mg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qI={type:"spring",stiffness:500,damping:25,restSpeed:10},YI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WI={type:"keyframes",duration:.8},KI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XI=(t,{keyframes:e})=>e.length>2?WI:Tr.has(t)?t.startsWith("scale")?YI(e[1]):qI:KI;function QI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const ZI=t=>t!==null;function JI(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(ZI),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function VS(t,e,n,i=0,s=1){const a=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),r=t.size,o=(r-1)*i;return typeof n=="function"?n(a,r):s===1?a*i:o-a*i}const pg=(t,e,n,i={},s,a)=>r=>{const o=mg(i,t)||{},l=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-hi(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:s};QI(o)||Object.assign(d,XI(t,d)),d.duration&&(d.duration=hi(d.duration)),d.repeatDelay&&(d.repeatDelay=hi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(mm(d),d.delay===0&&(f=!0)),(vi.instantAnimations||vi.skipAnimations)&&(f=!0,mm(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const h=JI(d.keyframes,o);if(h!==void 0){xe.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new hd(d):new FI(d)},BS=new Set(["width","height","top","left","right","bottom",...Sr]),Sx=30,ej=t=>!isNaN(parseFloat(t)),_o={current:void 0};class tj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=Rt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ej(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new tg);const i=this.events[e].add(n);return e==="change"?()=>{i(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _o.current&&_o.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sx);return ng(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rn(t,e){return new tj(t,e)}function Tx(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function gg(t,e,n,i){if(typeof e=="function"){const[s,a]=Tx(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Tx(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function Fa(t,e,n){const i=t.getProps();return gg(i,e,n!==void 0?n:i.custom,t)}const pm=t=>Array.isArray(t);function nj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rn(n))}function ij(t){return pm(t)?t[t.length-1]||0:t}function sj(t,e){const n=Fa(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const r in a){const o=ij(a[r]);nj(t,r,o)}}const ht=t=>!!(t&&t.getVelocity);function aj(t){return!!(ht(t)&&t.add)}function gm(t,e){const n=t.getValue("willChange");if(aj(n))return n.add(e);if(!n&&vi.WillChange){const i=new vi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function yg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const rj="framerAppearId",HS="data-"+yg(rj);function FS(t){return t.props[HS]}function oj({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function GS(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:r,...o}=e;i&&(a=i);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const f=t.getValue(d,t.latestValues[d]??null),h=o[d];if(h===void 0||u&&oj(u,d))continue;const m={delay:n,...mg(a||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const g=FS(t);if(g){const p=window.MotionHandoffAnimation(g,d,xe);p!==null&&(m.startTime=p,b=!0)}}gm(t,d),f.start(pg(d,f,h,t.shouldReduceMotion&&BS.has(d)?{type:!1}:m,t,b));const _=f.animation;_&&l.push(_)}return r&&Promise.all(l).then(()=>{xe.update(()=>{r&&sj(t,r)})}),l}function ym(t,e,n={}){var l;const i=Fa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(GS(t,i,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return lj(t,e,u,d,f,h,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[a,r]:[r,a];return u().then(()=>d())}else return Promise.all([a(),r(n.delay)])}function lj(t,e,n=0,i=0,s=0,a=1,r){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(ym(l,e,{...r,delay:n+(typeof i=="function"?0:i)+VS(t.variantChildren,l,i,s,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function cj(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>ym(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=ym(t,e,n);else{const s=typeof e=="function"?Fa(t,e,n.custom):e;i=Promise.all(GS(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const uj={test:t=>t==="auto",parse:t=>t},$S=t=>e=>e.test(t),qS=[wr,z,Gn,Ii,VR,zR,uj],Ex=t=>qS.find($S(t));function dj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oS(t):!0}const hj=new Set(["brightness","contrast","saturate","opacity"]);function fj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(rg)||[];if(!i)return t;const s=n.replace(i,"");let a=hj.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const mj=/\b([a-z-]*)\(.*?\)/gu,xm={...fs,getAnimatableNone:t=>{const e=t.match(mj);return e?e.map(fj).join(" "):t}},Nx={...wr,transform:Math.round},pj={rotate:Ii,rotateX:Ii,rotateY:Ii,rotateZ:Ii,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:Ii,skewX:Ii,skewY:Ii,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:Yo,originX:hx,originY:hx,originZ:z},xg={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,top:z,right:z,bottom:z,left:z,inset:z,insetBlock:z,insetBlockStart:z,insetBlockEnd:z,insetInline:z,insetInlineStart:z,insetInlineEnd:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,paddingBlock:z,paddingBlockStart:z,paddingBlockEnd:z,paddingInline:z,paddingInlineStart:z,paddingInlineEnd:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,marginBlock:z,marginBlockStart:z,marginBlockEnd:z,marginInline:z,marginInlineStart:z,marginInlineEnd:z,backgroundPositionX:z,backgroundPositionY:z,...pj,zIndex:Nx,fillOpacity:Yo,strokeOpacity:Yo,numOctaves:Nx},gj={...xg,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:xm,WebkitFilter:xm},YS=t=>gj[t];function WS(t,e){let n=YS(t);return n!==xm&&(n=fs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yj=new Set(["auto","none","0"]);function xj(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!yj.has(a)&&Wo(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=WS(n,s)}class vj extends fg{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),ag(f))){const h=zS(f,n.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!BS.has(i)||e.length!==2)return;const[s,a]=e,r=Ex(s),o=Ex(a),l=dx(s),u=dx(a);if(l!==u&&Wi[i]){this.needsMeasurement=!0;return}if(r!==o)if(bx(r)&&bx(o))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Wi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||dj(e[s]))&&i.push(s);i.length&&xj(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,r=i[a];i[a]=Wi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function vg(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const KS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bg(t){return rS(t)&&"offsetHeight"in t}const{schedule:_g}=xS(queueMicrotask,!1),Nn={x:!1,y:!1};function XS(){return Nn.x||Nn.y}function bj(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function QS(t,e){const n=vg(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function Cx(t){return!(t.pointerType==="touch"||XS())}function _j(t,e,n={}){const[i,s,a]=QS(t,n),r=o=>{if(!Cx(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=f=>{Cx(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}const ZS=(t,e)=>e?t===e?!0:ZS(t,e.parentElement):!1,wg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JS(t){return wj.has(t.tagName)||t.isContentEditable===!0}const Rc=new WeakSet;function Ax(t){return e=>{e.key==="Enter"&&t(e)}}function Ah(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sj=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Ax(()=>{if(Rc.has(n))return;Ah(n,"down");const s=Ax(()=>{Ah(n,"up")}),a=()=>Ah(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Rx(t){return wg(t)&&!XS()}function Tj(t,e,n={}){const[i,s,a]=QS(t,n),r=o=>{const l=o.currentTarget;if(!Rx(o))return;Rc.add(l);const u=e(l,o),d=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Rc.has(l)&&Rc.delete(l),Rx(m)&&typeof u=="function"&&u(m,{success:x})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||ZS(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",r,s),bg(o)&&(o.addEventListener("focus",u=>Sj(u,s)),!JS(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Sg(t){return rS(t)&&"ownerSVGElement"in t}const Ic=new WeakMap;let ji;const eT=(t,e,n)=>(i,s)=>s&&s[0]?s[0][t+"Size"]:Sg(i)&&"getBBox"in i?i.getBBox()[e]:i[n],Ej=eT("inline","width","offsetWidth"),Nj=eT("block","height","offsetHeight");function Cj({target:t,borderBoxSize:e}){var n;(n=Ic.get(t))==null||n.forEach(i=>{i(t,{get width(){return Ej(t,e)},get height(){return Nj(t,e)}})})}function Aj(t){t.forEach(Cj)}function Rj(){typeof ResizeObserver>"u"||(ji=new ResizeObserver(Aj))}function Ij(t,e){ji||Rj();const n=vg(t);return n.forEach(i=>{let s=Ic.get(i);s||(s=new Set,Ic.set(i,s)),s.add(e),ji==null||ji.observe(i)}),()=>{n.forEach(i=>{const s=Ic.get(i);s==null||s.delete(e),s!=null&&s.size||ji==null||ji.unobserve(i)})}}const jc=new Set;let Ia;function jj(){Ia=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};jc.forEach(e=>e(t))},window.addEventListener("resize",Ia)}function Oj(t){return jc.add(t),Ia||jj(),()=>{jc.delete(t),!jc.size&&typeof Ia=="function"&&(window.removeEventListener("resize",Ia),Ia=void 0)}}function kj(t,e){return typeof t=="function"?Oj(t):Ij(t,e)}function tT(t,e){let n;const i=()=>{const{currentTime:s}=e,r=(s===null?0:s.value)/100;n!==r&&t(r),n=r};return xe.preUpdate(i,!0),()=>Mn(i)}function Dj(t){return Sg(t)&&t.tagName==="svg"}function Mj(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],a=t[2+n],r=t[3+n],o=ug(s,a,r);return e?o(i):o}function Lj(t,e,n){const i=t.get();let s=null,a=i,r;const o=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},u=()=>{l(),s=new hd({keyframes:[jx(t.get()),jx(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:r})};if(t.attach((d,f)=>{a=d,r=h=>f(Ix(h,o)),xe.postRender(()=>{var h;u(),(h=t.events.animationStart)==null||h.notify(),s==null||s.then(()=>{var m;(m=t.events.animationComplete)==null||m.notify()})})},l),ht(e)){const d=e.on("change",h=>t.set(Ix(h,o))),f=t.on("destroy",d);return()=>{d(),f()}}return l}function Ix(t,e){return e?t+e:t}function jx(t){return typeof t=="number"?t:parseFloat(t)}const Uj=[...qS,Xe,fs],Pj=t=>Uj.find($S(t)),Ox=()=>({translate:0,scale:1,origin:0,originPoint:0}),ja=()=>({x:Ox(),y:Ox()}),kx=()=>({min:0,max:0}),nt=()=>({x:kx(),y:kx()}),vm={current:null},nT={current:!1},zj=typeof window<"u";function Vj(){if(nT.current=!0,!!zj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vm.current=t.matches;t.addEventListener("change",e),e()}else vm.current=!1}const Bj=new WeakMap;function fd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ko(t){return typeof t=="string"||Array.isArray(t)}const Tg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Eg=["initial",...Tg];function md(t){return fd(t.animate)||Eg.some(e=>Ko(t[e]))}function iT(t){return!!(md(t)||t.variants)}function Hj(t,e,n){for(const i in e){const s=e[i],a=n[i];if(ht(s))t.addValue(i,s);else if(ht(a))t.addValue(i,Rn(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const r=t.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=t.getStaticValue(i);t.addValue(i,Rn(r!==void 0?r:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Dx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yu={};function sT(t){yu=t}function Fj(){return yu}class Gj{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Rt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=md(n),this.isVariantNode=iT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&ht(m)&&m.set(l[h])}}mount(e){var n;this.current=e,Bj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(nT.current||Vj(),this.shouldReduceMotion=vm.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Mn(this.notifyUpdate),Mn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Tr.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const n=yu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Dx.length;i++){const s=Dx[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=e[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=Hj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Rn(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(aS(i)||oS(i))?i=parseFloat(i):!Pj(i)&&fs.test(n)&&(i=WS(e,n)),this.setBaseTarget(e,ht(i)?i.get():i)),ht(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=gg(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ht(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new tg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_g.render(this.render)}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aT extends Gj{constructor(){super(...arguments),this.KeyframeResolver=vj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rT({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $j({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Rh(t){return t===void 0||t===1}function bm({scale:t,scaleX:e,scaleY:n}){return!Rh(t)||!Rh(e)||!Rh(n)}function Rs(t){return bm(t)||oT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oT(t){return Mx(t.x)||Mx(t.y)}function Mx(t){return t&&t!=="0%"}function xu(t,e,n){const i=t-n,s=e*i;return n+s}function Lx(t,e,n,i,s){return s!==void 0&&(t=xu(t,s,i)),xu(t,n,i)+e}function _m(t,e=0,n=1,i,s){t.min=Lx(t.min,e,n,i,s),t.max=Lx(t.max,e,n,i,s)}function lT(t,{x:e,y:n}){_m(t.x,e.translate,e.scale,e.originPoint),_m(t.y,n.translate,n.scale,n.originPoint)}const Ux=.999999999999,Px=1.0000000000001;function Yj(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,r;for(let o=0;o<s;o++){a=n[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ka(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,lT(t,r)),i&&Rs(a.latestValues)&&ka(t,a.latestValues))}e.x<Px&&e.x>Ux&&(e.x=1),e.y<Px&&e.y>Ux&&(e.y=1)}function Oa(t,e){t.min=t.min+e,t.max=t.max+e}function zx(t,e,n,i,s=.5){const a=Pe(t.min,t.max,s);_m(t,e,n,a,i)}function ka(t,e){zx(t.x,e.x,e.scaleX,e.scale,e.originX),zx(t.y,e.y,e.scaleY,e.scale,e.originY)}function cT(t,e){return rT(qj(t.getBoundingClientRect(),e))}function Wj(t,e,n){const i=cT(t,n),{scroll:s}=e;return s&&(Oa(i.x,s.offset.x),Oa(i.y,s.offset.y)),i}const Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xj=Sr.length;function Qj(t,e,n){let i="",s=!0;for(let a=0;a<Xj;a++){const r=Sr[a],o=t[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=KS(o,xg[r]);if(!l){s=!1;const d=Kj[r]||r;i+=`${d}(${u}) `}n&&(e[r]=u)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Ng(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let r=!1,o=!1;for(const l in e){const u=e[l];if(Tr.has(l)){r=!0;continue}else if(bS(l)){s[l]=u;continue}else{const d=KS(u,xg[l]);l.startsWith("origin")?(o=!0,a[l]=d):i[l]=d}}if(e.transform||(r||n?i.transform=Qj(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=a;i.transformOrigin=`${l} ${u} ${d}`}}function uT(t,{style:e,vars:n},i,s){const a=t.style;let r;for(r in e)a[r]=e[r];s==null||s.applyProjectionStyles(a,i);for(r in n)a.setProperty(r,n[r])}function Vx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Br={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const n=Vx(t,e.target.x),i=Vx(t,e.target.y);return`${n}% ${i}%`}},Zj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=fs.parse(t);if(s.length>5)return i;const a=fs.createTransformer(t),r=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+r]/=o,s[1+r]/=l;const u=Pe(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=u),typeof s[3+r]=="number"&&(s[3+r]/=u),a(s)}},wm={borderRadius:{...Br,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Br,borderTopRightRadius:Br,borderBottomLeftRadius:Br,borderBottomRightRadius:Br,boxShadow:Zj};function dT(t,{layout:e,layoutId:n}){return Tr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wm[t]||t==="opacity")}function Cg(t,e,n){var r;const i=t.style,s=e==null?void 0:e.style,a={};if(!i)return a;for(const o in i)(ht(i[o])||s&&ht(s[o])||dT(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function Jj(t){return window.getComputedStyle(t)}class eO extends aT{constructor(){super(...arguments),this.type="html",this.renderInstance=uT}readValueFromInstance(e,n){var i;if(Tr.has(n))return(i=this.projection)!=null&&i.isProjecting?cm(n):_I(e,n);{const s=Jj(e),a=(bS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cT(e,n)}build(e,n,i){Ng(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Cg(e,n,i)}}const tO={offset:"stroke-dashoffset",array:"stroke-dasharray"},nO={offset:"strokeDashoffset",array:"strokeDasharray"};function iO(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?tO:nO;t[a.offset]=z.transform(-i);const r=z.transform(e),o=z.transform(n);t[a.array]=`${r} ${o}`}const sO=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function hT(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:r=0,...o},l,u,d){if(Ng(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const m of sO)f[m]!==void 0&&(h[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),s!==void 0&&iO(f,s,a,r,!1)}const fT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),mT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aO(t,e,n,i){uT(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(fT.has(s)?s:yg(s),e.attrs[s])}function pT(t,e,n){const i=Cg(t,e,n);for(const s in t)if(ht(t[s])||ht(e[s])){const a=Sr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}class rO extends aT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tr.has(n)){const i=YS(n);return i&&i.default||0}return n=fT.has(n)?n:yg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return pT(e,n,i)}build(e,n,i){hT(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){aO(e,n,i,s)}mount(e){this.isSVGTag=mT(e.tagName),super.mount(e)}}const oO=Eg.length;function gT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oO;n++){const i=Eg[n],s=t.props[i];(Ko(s)||s===!1)&&(e[i]=s)}return e}function yT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const lO=[...Tg].reverse(),cO=Tg.length;function uO(t){return e=>Promise.all(e.map(({animation:n,options:i})=>cj(t,n,i)))}function dO(t){let e=uO(t),n=Bx(),i=!0;const s=l=>(u,d)=>{var h;const f=Fa(t,d,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...b}=f;u={...u,...b,...x}}return u};function a(l){e=l(t)}function r(l){const{props:u}=t,d=gT(t.parent)||{},f=[],h=new Set;let m={},x=1/0;for(let _=0;_<cO;_++){const g=lO[_],p=n[g],y=u[g]!==void 0?u[g]:d[g],w=Ko(y),N=g===l?p.isActive:null;N===!1&&(x=_);let j=y===d[g]&&y!==u[g]&&w;if(j&&i&&t.manuallyAnimateOnMount&&(j=!1),p.protectedKeys={...m},!p.isActive&&N===null||!y&&!p.prevProp||fd(y)||typeof y=="boolean")continue;const A=hO(p.prevProp,y);let C=A||g===l&&p.isActive&&!j&&w||_>x&&w,L=!1;const I=Array.isArray(y)?y:[y];let X=I.reduce(s(g),{});N===!1&&(X={});const{prevResolvedValues:le={}}=p,tt={...le,...X},Ke=B=>{C=!0,h.has(B)&&(L=!0,h.delete(B)),p.needsAnimating[B]=!0;const U=t.getValue(B);U&&(U.liveStyle=!1)};for(const B in tt){const U=X[B],ae=le[B];if(m.hasOwnProperty(B))continue;let T=!1;pm(U)&&pm(ae)?T=!yT(U,ae):T=U!==ae,T?U!=null?Ke(B):h.add(B):U!==void 0&&h.has(B)?Ke(B):p.protectedKeys[B]=!0}p.prevProp=y,p.prevResolvedValues=X,p.isActive&&(m={...m,...X}),i&&t.blockInitialAnimation&&(C=!1);const _t=j&&A;C&&(!_t||L)&&f.push(...I.map(B=>{const U={type:g};if(typeof B=="string"&&i&&!_t&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,T=Fa(ae,B);if(ae.enteringChildren&&T){const{delayChildren:S}=T.transition||{};U.delay=VS(ae.enteringChildren,t,S)}}return{animation:B,options:U}}))}if(h.size){const _={};if(typeof u.initial!="boolean"){const g=Fa(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(_.transition=g.transition)}h.forEach(g=>{const p=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),_[g]=p??null}),f.push({animation:_})}let b=!!f.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(f):Promise.resolve()}function o(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=r(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Bx()}}}function hO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yT(e,t):!1}function Ts(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bx(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}const xT=1e-4,fO=1-xT,mO=1+xT,vT=.01,pO=0-vT,gO=0+vT;function It(t){return t.max-t.min}function yO(t,e,n){return Math.abs(t-e)<=n}function Hx(t,e,n,i=.5){t.origin=i,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=It(n)/It(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fO&&t.scale<=mO||isNaN(t.scale))&&(t.scale=1),(t.translate>=pO&&t.translate<=gO||isNaN(t.translate))&&(t.translate=0)}function wo(t,e,n,i){Hx(t.x,e.x,n.x,i?i.originX:void 0),Hx(t.y,e.y,n.y,i?i.originY:void 0)}function Fx(t,e,n){t.min=n.min+e.min,t.max=t.min+It(e)}function xO(t,e,n){Fx(t.x,e.x,n.x),Fx(t.y,e.y,n.y)}function Gx(t,e,n){t.min=e.min-n.min,t.max=t.min+It(e)}function vu(t,e,n){Gx(t.x,e.x,n.x),Gx(t.y,e.y,n.y)}function $x(t,e,n,i,s){return t-=e,t=xu(t,1/n,i),s!==void 0&&(t=xu(t,1/s,i)),t}function vO(t,e=0,n=1,i=.5,s,a=t,r=t){if(Gn.test(e)&&(e=parseFloat(e),e=Pe(r.min,r.max,e/100)-r.min),typeof e!="number")return;let o=Pe(a.min,a.max,i);t===a&&(o-=e),t.min=$x(t.min,e,n,o,s),t.max=$x(t.max,e,n,o,s)}function qx(t,e,[n,i,s],a,r){vO(t,e[n],e[i],e[s],e.scale,a,r)}const bO=["x","scaleX","originX"],_O=["y","scaleY","originY"];function Yx(t,e,n,i){qx(t.x,e,bO,n?n.x:void 0,i?i.x:void 0),qx(t.y,e,_O,n?n.y:void 0,i?i.y:void 0)}function Wx(t,e){t.min=e.min,t.max=e.max}function wn(t,e){Wx(t.x,e.x),Wx(t.y,e.y)}function Kx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Xx(t){return t.translate===0&&t.scale===1}function bT(t){return Xx(t.x)&&Xx(t.y)}function Qx(t,e){return t.min===e.min&&t.max===e.max}function wO(t,e){return Qx(t.x,e.x)&&Qx(t.y,e.y)}function Zx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _T(t,e){return Zx(t.x,e.x)&&Zx(t.y,e.y)}function Jx(t){return It(t.x)/It(t.y)}function ev(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function rn(t){return[t("x"),t("y")]}function SO(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,r=(n==null?void 0:n.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:x}=n;u&&(i=`perspective(${u}px) ${i}`),d&&(i+=`rotate(${d}deg) `),f&&(i+=`rotateX(${f}deg) `),h&&(i+=`rotateY(${h}deg) `),m&&(i+=`skewX(${m}deg) `),x&&(i+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const wT=["TopLeft","TopRight","BottomLeft","BottomRight"],TO=wT.length,tv=t=>typeof t=="string"?parseFloat(t):t,nv=t=>typeof t=="number"||z.test(t);function EO(t,e,n,i,s,a){s?(t.opacity=Pe(0,n.opacity??1,NO(i)),t.opacityExit=Pe(e.opacity??1,0,CO(i))):a&&(t.opacity=Pe(e.opacity??1,n.opacity??1,i));for(let r=0;r<TO;r++){const o=`border${wT[r]}Radius`;let l=iv(e,o),u=iv(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||nv(l)===nv(u)?(t[o]=Math.max(Pe(tv(l),tv(u),i),0),(Gn.test(u)||Gn.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,i))}function iv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NO=ST(0,.5,mS),CO=ST(.5,.95,Bt);function ST(t,e,n){return i=>i<t?0:i>e?1:n(lr(t,e,i))}function AO(t,e){const n=Rt.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(Mn(i),t(a-e))};return xe.setup(i,!0),()=>Mn(i)}function Xo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Oc(t){return ht(t)?t.get():t}function RO(t,e,n){const i=ht(t)?t:Rn(t);return i.start(pg("",i,e,n)),i.animation}const IO=(t,e)=>t.depth-e.depth;class jO{constructor(){this.children=[],this.isDirty=!1}add(e){Zp(this.children,e),this.isDirty=!0}remove(e){Jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IO),this.isDirty=!1,this.children.forEach(e)}}class OO{constructor(){this.members=[]}add(e){Zp(this.members,e),e.scheduleRender()}remove(e){if(Jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ih=["","X","Y","Z"],kO=1e3;let DO=0;function jh(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function TT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&TT(i)}function ET({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=e==null?void 0:e()){this.id=DO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UO),this.nodes.forEach(BO),this.nodes.forEach(HO),this.nodes.forEach(PO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jO)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new tg),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Sg(r)&&!Dj(r),this.instance=r;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;xe.read(()=>{f=window.innerWidth}),t(r,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=AO(h,250),kc.hasAnimatedSinceResize&&(kc.hasAnimatedSinceResize=!1,this.nodes.forEach(rv)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||YO,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=u.getProps(),g=!this.targetLayout||!_T(this.targetLayout,m),p=!f&&h;if(this.options.layoutRoot||this.resumeFrom||p||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...mg(x,"layout"),onPlay:b,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,p)}else f||rv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FO),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(av);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VO),this.nodes.forEach(MO),this.nodes.forEach(LO)):this.nodes.forEach(av),this.clearAllSnapshots();const o=Rt.now();rt.delta=Dn(0,1e3/60,o-rt.timestamp),rt.timestamp=o,rt.isProcessing=!0,wh.update.process(rt),wh.preRender.process(rt),wh.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_g.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zO),this.sharedNodes.forEach(GO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!bT(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&this.instance&&(o||Rs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),WO(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return nt();const o=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(KO))){const{scroll:d}=this.root;d&&(Oa(o.x,d.offset.x),Oa(o.y,d.offset.y))}return o}removeElementScroll(r){var l;const o=nt();if(wn(o,r),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&wn(o,r),Oa(o.x,f.offset.x),Oa(o.y,f.offset.y))}return o}applyTransform(r,o=!1){const l=nt();wn(l,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ka(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rs(d.latestValues)&&ka(l,d.latestValues)}return Rs(this.latestValues)&&ka(l,this.latestValues),l}removeTransform(r){const o=nt();wn(o,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rs(u.latestValues))continue;bm(u.latestValues)&&u.updateSnapshot();const d=nt(),f=u.measurePageBox();wn(d,f),Yx(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rs(this.latestValues)&&Yx(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=rt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),lT(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bm(this.parent.latestValues)||oT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,o,l){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),vu(this.relativeTargetOrigin,o,l),wn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Yj(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=nt());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kx(this.prevProjectionDelta.x,this.projectionDelta.x),Kx(this.prevProjectionDelta.y,this.projectionDelta.y)),wo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ev(this.projectionDelta.x,this.prevProjectionDelta.x)||!ev(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ja(),this.projectionDelta=ja(),this.projectionDeltaWithTransform=ja()}setAnimationOrigin(r,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=nt(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=m!==x,_=this.getStack(),g=!_||_.members.length<=1,p=!!(b&&!g&&this.options.crossfade===!0&&!this.path.some(qO));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const N=w/1e3;ov(f.x,r.x,N),ov(f.y,r.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$O(this.relativeTarget,this.relativeTargetOrigin,h,N),y&&wO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=nt()),wn(y,this.relativeTarget)),b&&(this.animationValues=d,EO(d,u,this.latestValues,N,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{kc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rn(0)),this.currentAnimation=RO(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=r;if(!(!o||!l||!u)){if(this!==r&&this.layout&&u&&NT(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nt();const f=It(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+f;const h=It(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+h}wn(o,l),ka(o,d),wo(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new OO),this.sharedNodes.get(r).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&jh("z",r,u,this.animationValues);for(let d=0;d<Ih.length;d++)jh(`rotate${Ih[d]}`,r,u,this.animationValues),jh(`skew${Ih[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=SO(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),r.transform=f;const{x:h,y:m}=this.projectionDelta;r.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?r.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:r.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in wm){if(d[x]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:g}=wm[x],p=f==="none"?d[x]:b(d[x],u);if(_){const y=_.length;for(let w=0;w<y;w++)r[_[w]]=p}else g?this.options.visualElement.renderState.vars[x]=p:r[x]=p}this.options.layoutId&&(r.pointerEvents=u===this?Oc(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(sv),this.root.sharedNodes.clear()}}}function MO(t){t.updateLayout()}function LO(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,r=e.source!==t.layout.source;a==="size"?rn(f=>{const h=r?e.measuredBox[f]:e.layoutBox[f],m=It(h);h.min=i[f].min,h.max=h.min+m}):NT(a,e.layoutBox,i)&&rn(f=>{const h=r?e.measuredBox[f]:e.layoutBox[f],m=It(i[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=ja();wo(o,i,e.layoutBox);const l=ja();r?wo(l,t.applyTransform(s,!0),e.measuredBox):wo(l,i,e.layoutBox);const u=!bT(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const x=nt();vu(x,e.layoutBox,h.layoutBox);const b=nt();vu(b,i,m.layoutBox),_T(x,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function UO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zO(t){t.clearSnapshot()}function sv(t){t.clearMeasurements()}function av(t){t.isLayoutDirty=!1}function VO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BO(t){t.resolveTargetDelta()}function HO(t){t.calcProjection()}function FO(t){t.resetSkewAndRotation()}function GO(t){t.removeLeadSnapshot()}function ov(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lv(t,e,n,i){t.min=Pe(e.min,n.min,i),t.max=Pe(e.max,n.max,i)}function $O(t,e,n,i){lv(t.x,e.x,n.x,i),lv(t.y,e.y,n.y,i)}function qO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YO={duration:.45,ease:[.4,0,.1,1]},cv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uv=cv("applewebkit/")&&!cv("chrome/")?Math.round:Bt;function dv(t){t.min=uv(t.min),t.max=uv(t.max)}function WO(t){dv(t.x),dv(t.y)}function NT(t,e,n){return t==="position"||t==="preserve-aspect"&&!yO(Jx(e),Jx(n),.2)}function KO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const XO=ET({attachResizeListener:(t,e)=>Xo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oh={current:void 0},CT=ET({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Oh.current){const t=new XO({});t.mount(window),t.setOptions({layoutScroll:!0}),Oh.current=t}return Oh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wl=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function QO(...t){return e=>{let n=!1;const i=t.map(s=>{const a=hv(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():hv(t[s],null)}}}}function ZO(...t){return E.useCallback(QO(...t),t)}class JO extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=bg(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ek({children:t,isPresent:e,anchorX:n,root:i}){var d;const s=E.useId(),a=E.useRef(null),r=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(wl),l=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),u=ZO(a,l);return E.useInsertionEffect(()=>{const{width:f,height:h,top:m,left:x,right:b}=r.current;if(e||!a.current||!f||!h)return;const _=n==="left"?`left: ${x}`:`right: ${b}`;a.current.dataset.motionPopId=s;const g=document.createElement("style");o&&(g.nonce=o);const p=i??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[e]),c.jsx(JO,{isPresent:e,childRef:a,sizeRef:r,children:E.cloneElement(t,{ref:u})})}const tk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:r,anchorX:o,root:l})=>{const u=hs(nk),d=E.useId();let f=!0,h=E.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const x of u.values())if(!x)return;i&&i()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,i]);return a&&f&&(h={...h}),E.useMemo(()=>{u.forEach((m,x)=>u.set(x,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),r==="popLayout"&&(t=c.jsx(ek,{isPresent:n,anchorX:o,root:l,children:t})),c.jsx(dd.Provider,{value:h,children:t})};function nk(){return new Map}function AT(t=!0){const e=E.useContext(dd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const r=E.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,r]:[!0]}const ic=t=>t.key||"";function fv(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Be=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:r=!1,anchorX:o="left",root:l})=>{const[u,d]=AT(r),f=E.useMemo(()=>fv(t),[t]),h=r&&!u?[]:f.map(ic),m=E.useRef(!0),x=E.useRef(f),b=hs(()=>new Map),_=E.useRef(new Set),[g,p]=E.useState(f),[y,w]=E.useState(f);ud(()=>{m.current=!1,x.current=f;for(let A=0;A<y.length;A++){const C=ic(y[A]);h.includes(C)?(b.delete(C),_.current.delete(C)):b.get(C)!==!0&&b.set(C,!1)}},[y,h.length,h.join("-")]);const N=[];if(f!==g){let A=[...f];for(let C=0;C<y.length;C++){const L=y[C],I=ic(L);h.includes(I)||(A.splice(C,0,L),N.push(L))}return a==="wait"&&N.length&&(A=N),w(fv(A)),p(f),null}const{forceRender:j}=E.useContext(Qp);return c.jsx(c.Fragment,{children:y.map(A=>{const C=ic(A),L=r&&!u?!1:f===y||h.includes(C),I=()=>{if(_.current.has(C))return;if(_.current.add(C),b.has(C))b.set(C,!0);else return;let X=!0;b.forEach(le=>{le||(X=!1)}),X&&(j==null||j(),w(x.current),r&&(d==null||d()),i&&i())};return c.jsx(tk,{isPresent:L,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:l,onExitComplete:L?void 0:I,anchorX:o,children:A},C)})})},RT=E.createContext({strict:!1}),mv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let pv=!1;function ik(){if(pv)return;const t={};for(const e in mv)t[e]={isEnabled:n=>mv[e].some(i=>!!n[i])};sT(t),pv=!0}function IT(){return ik(),Fj()}function sk(t){const e=IT();for(const n in t)e[n]={...e[n],...t[n]};sT(e)}const ak=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ak.has(t)}let jT=t=>!bu(t);function rk(t){typeof t=="function"&&(jT=e=>e.startsWith("on")?!bu(e):t(e))}try{rk(require("@emotion/is-prop-valid").default)}catch{}function ok(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(jT(s)||n===!0&&bu(s)||!e&&!bu(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const pd=E.createContext({});function lk(t,e){if(md(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ko(n)?n:void 0,animate:Ko(i)?i:void 0}}return t.inherit!==!1?e:{}}function ck(t){const{initial:e,animate:n}=lk(t,E.useContext(pd));return E.useMemo(()=>({initial:e,animate:n}),[gv(e),gv(n)])}function gv(t){return Array.isArray(t)?t.join(" "):t}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OT(t,e,n){for(const i in e)!ht(e[i])&&!dT(i,n)&&(t[i]=e[i])}function uk({transformTemplate:t},e){return E.useMemo(()=>{const n=Ag();return Ng(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dk(t,e){const n=t.style||{},i={};return OT(i,n,t),Object.assign(i,uk(t,e)),i}function hk(t,e){const n={},i=dk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const kT=()=>({...Ag(),attrs:{}});function fk(t,e,n,i){const s=E.useMemo(()=>{const a=kT();return hT(a,e,mT(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};OT(a,t.style,t),s.style={...a,...s.style}}return s}const mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rg(t){return typeof t!="string"||t.includes("-")?!1:!!(mk.indexOf(t)>-1||/[A-Z]/u.test(t))}function pk(t,e,n,{latestValues:i},s,a=!1,r){const l=(r??Rg(t)?fk:hk)(e,i,s,t),u=ok(e,typeof t=="string",a),d=t!==E.Fragment?{...u,...l,ref:n}:{},{children:f}=e,h=E.useMemo(()=>ht(f)?f.get():f,[f]);return E.createElement(t,{...d,children:h})}function gk({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:yk(n,i,s,t),renderState:e()}}function yk(t,e,n,i){const s={},a=i(t,{});for(const h in a)s[h]=Oc(a[h]);let{initial:r,animate:o}=t;const l=md(t),u=iT(t);e&&u&&!l&&t.inherit!==!1&&(r===void 0&&(r=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||r===!1;const f=d?o:r;if(f&&typeof f!="boolean"&&!fd(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const x=gg(t,h[m]);if(x){const{transitionEnd:b,transition:_,...g}=x;for(const p in g){let y=g[p];if(Array.isArray(y)){const w=d?y.length-1:0;y=y[w]}y!==null&&(s[p]=y)}for(const p in b)s[p]=b[p]}}}return s}const DT=t=>(e,n)=>{const i=E.useContext(pd),s=E.useContext(dd),a=()=>gk(t,e,i,s);return n?a():hs(a)},xk=DT({scrapeMotionValuesFromProps:Cg,createRenderState:Ag}),vk=DT({scrapeMotionValuesFromProps:pT,createRenderState:kT}),bk=Symbol.for("motionComponentSymbol");function _k(t,e,n){const i=E.useRef(n);E.useInsertionEffect(()=>{i.current=n});const s=E.useRef(null);return E.useCallback(a=>{var o;a&&((o=t.onMount)==null||o.call(t,a)),e&&(a?e.mount(a):e.unmount());const r=i.current;if(typeof r=="function")if(a){const l=r(a);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):r(a);else r&&(r.current=a)},[e])}const MT=E.createContext({});function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wk(t,e,n,i,s,a){var _,g;const{visualElement:r}=E.useContext(pd),o=E.useContext(RT),l=E.useContext(dd),u=E.useContext(wl).reducedMotion,d=E.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,isSVG:a}));const f=d.current,h=E.useContext(MT);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Sk(d.current,n,s,h);const m=E.useRef(!1);E.useInsertionEffect(()=>{f&&m.current&&f.update(n,l)});const x=n[HS],b=E.useRef(!!x&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,x))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,x)));return ud(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,x)}),b.current=!1),f.enteringChildren=void 0)}),f}function Sk(t,e,n,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LT(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&eo(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:u})}function LT(t){if(t)return t.options.allowProjection!==!1?t.projection:LT(t.parent)}function kh(t,{forwardMotionProps:e=!1,type:n}={},i,s){i&&sk(i);const a=n?n==="svg":Rg(t),r=a?vk:xk;function o(u,d){let f;const h={...E.useContext(wl),...u,layoutId:Tk(u)},{isStatic:m}=h,x=ck(u),b=r(u,m);if(!m&&sS){Ek();const _=Nk(h);f=_.MeasureLayout,x.visualElement=wk(t,b,h,s,_.ProjectionNode,a)}return c.jsxs(pd.Provider,{value:x,children:[f&&x.visualElement?c.jsx(f,{visualElement:x.visualElement,...h}):null,pk(t,u,_k(b,x.visualElement,d),b,m,e,a)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(o);return l[bk]=t,l}function Tk({layoutId:t}){const e=E.useContext(Qp).id;return e&&t!==void 0?e+"-"+t:t}function Ek(t,e){E.useContext(RT).strict}function Nk(t){const e=IT(),{drag:n,layout:i}=e;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Ck(t,e){if(typeof Proxy>"u")return kh;const n=new Map,i=(a,r)=>kh(a,r,t,e),s=(a,r)=>i(a,r);return new Proxy(s,{get:(a,r)=>r==="create"?i:(n.has(r)||n.set(r,kh(r,void 0,t,e)),n.get(r))})}const Ak=(t,e)=>e.isSVG??Rg(t)?new rO(e):new eO(e,{allowProjection:t!==E.Fragment});class Rk extends vs{constructor(e){super(e),e.animationState||(e.animationState=dO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ik=0;class jk extends vs{constructor(){super(...arguments),this.id=Ik++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ok={animation:{Feature:Rk},exit:{Feature:jk}};function Sl(t){return{point:{x:t.pageX,y:t.pageY}}}const kk=t=>e=>wg(e)&&t(e,Sl(e));function So(t,e,n,i){return Xo(t,e,kk(n),i)}const UT=({current:t})=>t?t.ownerDocument.defaultView:null,yv=(t,e)=>Math.abs(t-e);function Dk(t,e){const n=yv(t.x,e.x),i=yv(t.y,e.y);return Math.sqrt(n**2+i**2)}const xv=new Set(["auto","scroll"]);class PT{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Mh(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=Dk(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:_}=m,{timestamp:g}=rt;this.history.push({..._,timestamp:g});const{onStart:p,onMove:y}=this.handlers;x||(p&&p(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Dh(x,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Mh(m.type==="pointercancel"?this.lastMoveEventInfo:Dh(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,p),_&&_(m,p)},!wg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const l=Sl(e),u=Dh(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=rt;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,Mh(u,this.history)),this.removeListeners=vl(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(xv.has(i.overflowX)||xv.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),xe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mn(this.updatePoint)}}function Dh(t,e){return e?{point:e(t.point)}:t}function vv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mh({point:t},e){return{point:t,delta:vv(t,zT(e)),offset:vv(t,Mk(e)),velocity:Lk(e,.1)}}function Mk(t){return t[0]}function zT(t){return t[t.length-1]}function Lk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=zT(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>hi(e)));)n--;if(!i)return{x:0,y:0};const a=pn(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Uk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pe(n,t,i.max):Math.min(t,n)),t}function bv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pk(t,{top:e,left:n,bottom:i,right:s}){return{x:bv(t.x,n,s),y:bv(t.y,e,i)}}function _v(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function zk(t,e){return{x:_v(t.x,e.x),y:_v(t.y,e.y)}}function Vk(t,e){let n=.5;const i=It(t),s=It(e);return s>i?n=lr(e.min,e.max-i,t.min):i>s&&(n=lr(t.min,t.max-s,e.min)),Dn(0,1,n)}function Bk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sm=.35;function Hk(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:wv(t,"left","right"),y:wv(t,"top","bottom")}}function wv(t,e,n){return{min:Sv(t,e),max:Sv(t,n)}}function Sv(t,e){return typeof t=="number"?t:t[e]||0}const Fk=new WeakMap;class Gk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{n?(this.stopAnimation(),this.snapToCursor(Sl(f).point)):this.pauseAnimation()},r=(f,h)=>{this.stopAnimation();const{drag:m,dragPropagation:x,onDragStart:b}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bj(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(g=>{let p=this.getAxisMotionValue(g).get()||0;if(Gn.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[g];w&&(p=It(w)*(parseFloat(p)/100))}}this.originPoint[g]=p}),b&&xe.postRender(()=>b(f,h)),gm(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:b,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(x&&this.currentDirection===null){this.currentDirection=$k(g),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),_&&_(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>rn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PT(e,{onSessionStart:a,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:UT(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&xe.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!sc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let r=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(r=Uk(r,this.constraints[e],this.elastic[e])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Pk(i.layoutBox,e):this.constraints=!1,this.elastic=Hk(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Bk(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Wj(i,s.root,this.visualElement.getTransformPagePoint());let r=zk(s.layout.layoutBox,a);if(n){const o=n($j(r));this.hasMutatedConstraints=!!o,o&&(r=rT(o))}return r}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=rn(d=>{if(!sc(d,n,this.currentDirection))return;let f=l&&l[d]||{};r&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:i?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return gm(this.visualElement,e),i.start(pg(e,i,0,n,this.visualElement,!1))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){rn(n=>{const{drag:i}=this.getProps();if(!sc(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[n],l=a.get()||0;a.set(e[n]-Pe(r,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!eo(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=Vk({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rn(r=>{if(!sc(r,e,null))return;const o=this.getAxisMotionValue(r),{min:l,max:u}=this.constraints[r];o.set(Pe(l,u,s[r]))})}addListeners(){if(!this.visualElement.current)return;Fk.set(this.visualElement,this);const e=this.visualElement.current,n=So(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!JS(l.target)&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xe.read(i);const r=Xo(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=Sm,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function sc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $k(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qk extends vs{constructor(e){super(e),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new Gk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tv=t=>(e,n)=>{t&&xe.postRender(()=>t(e,n))};class Yk extends vs{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(e){this.session=new PT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Tv(e),onStart:Tv(n),onMove:i,onEnd:(a,r)=>{delete this.session,s&&xe.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Lh=!1;class Wk extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),Lh&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:r}=i;return r&&(r.isPresent=a,Lh=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?r.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?r.promote():r.relegate()||xe.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_g.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;Lh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VT(t){const[e,n]=AT(),i=E.useContext(Qp);return c.jsx(Wk,{...t,layoutGroup:i,switchLayoutGroup:E.useContext(MT),isPresent:e,safeToRemove:n})}const Kk={pan:{Feature:Yk},drag:{Feature:qk,ProjectionNode:CT,MeasureLayout:VT}};function Ev(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&xe.postRender(()=>a(e,Sl(e)))}class Xk extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=_j(e,(n,i)=>(Ev(this.node,i,"Start"),s=>Ev(this.node,s,"End"))))}unmount(){}}class Qk extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(Xo(this.node.current,"focus",()=>this.onFocus()),Xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&xe.postRender(()=>a(e,Sl(e)))}class Zk extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=Tj(e,(n,i)=>(Nv(this.node,i,"Start"),(s,{success:a})=>Nv(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tm=new WeakMap,Uh=new WeakMap,Jk=t=>{const e=Tm.get(t.target);e&&e(t)},eD=t=>{t.forEach(Jk)};function tD({root:t,...e}){const n=t||document;Uh.has(n)||Uh.set(n,{});const i=Uh.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(eD,{root:t,...e})),i[s]}function nD(t,e,n){const i=tD(e);return Tm.set(t,n),i.observe(t),()=>{Tm.delete(t),i.unobserve(t)}}const iD={some:0,all:1};class sD extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,r={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:iD[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return nD(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(aD(e,n))&&this.startObserver()}unmount(){}}function aD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rD={inView:{Feature:sD},tap:{Feature:Zk},focus:{Feature:Qk},hover:{Feature:Xk}},oD={layout:{ProjectionNode:CT,MeasureLayout:VT}},lD={...Ok,...rD,...Kk,...oD},k=Ck(lD,Ak),cD=50,Cv=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),uD=()=>({time:0,x:Cv(),y:Cv()}),dD={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Av(t,e,n,i){const s=n[e],{length:a,position:r}=dD[e],o=s.current,l=n.time;s.current=t[`scroll${r}`],s.scrollLength=t[`scroll${a}`]-t[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=lr(0,s.scrollLength,s.current);const u=i-l;s.velocity=u>cD?0:ng(s.current-o,u)}function hD(t,e,n){Av(t,"x",e,n),Av(t,"y",e,n),e.time=n}function fD(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(bg(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();n.x+=s,n.y+=a;let r=null,o=i.parentNode;for(;!r;)o.tagName==="svg"&&(r=o),o=i.parentNode;i=r}else break;return n}const Em={start:0,center:.5,end:1};function Rv(t,e,n=0){let i=0;if(t in Em&&(t=Em[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?i=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?i=s/100*document.documentElement.clientWidth:t.endsWith("vh")?i=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(i=e*t),n+i}const mD=[0,0];function pD(t,e,n,i){let s=Array.isArray(t)?t:mD,a=0,r=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Em[t]?t:"0"]),a=Rv(s[0],n,i),r=Rv(s[1],e),a-r}const gD={All:[[0,0],[1,1]]},yD={x:0,y:0};function xD(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function vD(t,e,n){const{offset:i=gD.All}=n,{target:s=t,axis:a="y"}=n,r=a==="y"?"height":"width",o=s!==t?fD(s,t):yD,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:xD(s),u={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let d=!e[a].interpolate;const f=i.length;for(let h=0;h<f;h++){const m=pD(i[h],u[r],l[r],o[a]);!d&&m!==e[a].interpolatorOffsets[h]&&(d=!0),e[a].offset[h]=m}d&&(e[a].interpolate=ug(e[a].offset,IS(i),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Dn(0,1,e[a].interpolate(e[a].current))}function bD(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function _D(t,e,n,i={}){return{measure:s=>{bD(t,i.target,n),hD(t,n,s),(i.offset||i.target)&&vD(t,n,i)},notify:()=>e(n)}}const Hr=new WeakMap,Iv=new WeakMap,Ph=new WeakMap,jv=t=>t===document.scrollingElement?window:t;function BT(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Bt;let i=Ph.get(e);i||(i=new Set,Ph.set(e,i));const s=uD(),a=_D(e,t,s,n);if(i.add(a),!Hr.has(e)){const o=()=>{for(const f of i)f.measure(rt.timestamp);xe.preUpdate(l)},l=()=>{for(const f of i)f.notify()},u=()=>xe.read(o);Hr.set(e,u);const d=jv(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&Iv.set(e,kj(e,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const r=Hr.get(e);return xe.read(r,!1,!0),()=>{var u;Mn(r);const o=Ph.get(e);if(!o||(o.delete(a),o.size))return;const l=Hr.get(e);Hr.delete(e),l&&(jv(e).removeEventListener("scroll",l),(u=Iv.get(e))==null||u(),window.removeEventListener("resize",l))}}const Ov=new Map;function wD(t){const e={value:0},n=BT(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function HT({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const s=Ov.get(e)??new Map;Ov.set(e,s);const a=n.target??"self",r=s.get(a)??{},o=i+(n.offset??[]).join(",");return r[o]||(r[o]=!n.target&&DS()?new ScrollTimeline({source:e,axis:i}):wD({container:e,...n})),r[o]}function SD(t,e){const n=HT(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),tT(s=>{i.time=i.iterationDuration*s},n))})}function TD(t){return t.length===2}function ED(t,e){return TD(t)?BT(n=>{t(n[e.axis].progress,n)},e):tT(t,HT(e))}function ND(t,{axis:e="y",container:n=document.scrollingElement,...i}={}){if(!n)return Bt;const s={axis:e,container:n,...i};return typeof t=="function"?ED(t,s):SD(t,s)}const CD=()=>({scrollX:Rn(0),scrollY:Rn(0),scrollXProgress:Rn(0),scrollYProgress:Rn(0)}),ac=t=>t?!t.current:!1;function FT({container:t,target:e,...n}={}){const i=hs(CD),s=E.useRef(null),a=E.useRef(!1),r=E.useCallback(()=>(s.current=ND((o,{x:l,y:u})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(u.current),i.scrollYProgress.set(u.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var o;(o=s.current)==null||o.call(s)}),[t,e,JSON.stringify(n.offset)]);return ud(()=>{if(a.current=!1,ac(t)||ac(e)){a.current=!0;return}else return r()},[r]),E.useEffect(()=>{if(a.current)return qo(!ac(t)),qo(!ac(e)),r()},[r]),i}function GT(t){const e=hs(()=>Rn(t)),{isStatic:n}=E.useContext(wl);if(n){const[,i]=E.useState(t);E.useEffect(()=>e.on("change",i),[])}return e}function $T(t,e){const n=GT(e()),i=()=>n.set(e());return i(),ud(()=>{const s=()=>xe.preRender(i,!1,!0),a=t.map(r=>r.on("change",s));return()=>{a.forEach(r=>r()),Mn(i)}}),n}function AD(t){_o.current=[],t();const e=$T(_o.current,t);return _o.current=void 0,e}function _u(t,e,n,i){if(typeof t=="function")return AD(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return RD(t,e,n,i);const r=typeof e=="function"?e:Mj(e,n,i);return Array.isArray(t)?kv(t,r):kv([t],([o])=>r(o))}function kv(t,e){const n=hs(()=>[]);return $T(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}function RD(t,e,n,i){const s=hs(()=>Object.keys(n)),a=hs(()=>({}));for(const r of s)a[r]=_u(t,e,n[r],i);return a}function ID(t,e={}){const{isStatic:n}=E.useContext(wl),i=()=>ht(t)?t.get():t;if(n)return _u(i);const s=GT(i());return E.useInsertionEffect(()=>Lj(s,t,e),[s,JSON.stringify(e)]),s}const jD={some:0,all:1};function OD(t,e,{root:n,margin:i,amount:s="some"}={}){const a=vg(t),r=new WeakMap,o=u=>{u.forEach(d=>{const f=r.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=e(d.target,d);typeof h=="function"?r.set(d.target,h):l.unobserve(d.target)}else typeof f=="function"&&(f(d),r.delete(d.target))})},l=new IntersectionObserver(o,{root:n,rootMargin:i,threshold:typeof s=="number"?s:jD[s]});return a.forEach(u=>l.observe(u)),()=>l.disconnect()}function kD(t,{root:e,margin:n,amount:i,once:s=!1,initial:a=!1}={}){const[r,o]=E.useState(a);return E.useEffect(()=>{if(!t.current||s&&r)return;const l=()=>(o(!0),s?void 0:()=>o(!1)),u={root:e&&e.current||void 0,margin:n,amount:i};return OD(t.current,l,u)},[e,t,n,s,i]),r}var ee=(t=>(t.ATTENDING="ATTENDING",t.NOT_ATTENDING="NOT_ATTENDING",t.UNDECIDED="UNDECIDED",t))(ee||{});const DD={openingScreen:{welcome:"You are cordially invited to",title:"Louie & Florie",subtitle:"A Celebration of Love",brand:"Louie & Florie",sealInitials:"LF"},coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",heroImageUrl:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920",adminPanelTitle:"Louie & Florie CMS",adminPanelSubtitle:"Wedding Management",weddingDate:"July 4, 2026",weddingTime:"3:00 PM",countdownDate:"2026-07-04T15:00:00",venues:[{name:"Archdiocesan Shrine of St. Thrse of the Child Jesus",address:"Gorordo Ave, Lahug, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5218.1810181073815!2d123.89791887503557!3d10.331064989791887!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a999269b2146d5%3A0x462d30e860ab63f2!2sArchdiocesan%20Shrine%20of%20St.%20Th%C3%A9r%C3%A8se%20of%20the%20Child%20Jesus!5e1!3m2!1sen!2sph!4v1768570025254!5m2!1sen!2sph"},{name:"Chateau de Busay Inn & Restaurant",address:"Lower Busay, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5217.661214066814!2d123.87666848669632!3d10.362327840313117!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a99f4c07b55c0f%3A0x990d6bedbcf8c0c7!2sChateau%20de%20Busay%20Inn%20%26%20Restaurant!5e1!3m2!1sen!2sph!4v1768572532024!5m2!1sen!2sph"}],heroTagline:"Together with their families, invite you to celebrate the union of their souls in an evening of timeless elegance.",ourStory:"Our journey began with a simple hello and blossomed into a lifetime of love. We are so excited to share this new chapter with those who have shaped us.",registryInfo:"Your presence is the greatest gift we could receive. If you wish to honor us with a gift, we are registered at Williams Sonoma and Pottery Barn, or you may contribute to our honeymoon fund for our first trip as husband and wife.",registryLinks:[{label:"Williams Sonoma",url:"#"},{label:"Honeymoon Fund",url:"#"}],socialLinks:[{label:"Instagram",url:"https://instagram.com"},{label:"Facebook",url:"https://facebook.com"},{label:"Pinterest",url:"https://pinterest.com"}],galleryImages:["https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1583939003579-730e3918a45a?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1519225421980-715cb0215aed?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1544078751-58fee2d8a03b?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1523438885200-e635ba2c371e?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1517457373958-b7bdd4587205?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1522673607200-164883214cde?auto=format&fit=crop&q=80&w=1200"],googlePhotosLink:"https://photos.google.com",googlePhotosLinkEnabled:!0,timelineItems:[{time:"3:00 PM",event:"The Ceremony",description:"Shrine of St. Thrse"},{time:"5:30 PM",event:"Cocktail Hour",description:"Chateau de Busay Inn"},{time:"7:00 PM",event:"Dinner & Toasts",description:"Chateau de Busay Inn"},{time:"9:00 PM",event:"Dancing",description:"Under the Stars"}],checklist:[{id:"1",text:"Confirm floral arrangements",completed:!1},{id:"2",text:"Finalize seating chart",completed:!0},{id:"3",text:"Pick up wedding rings",completed:!1}],menu:[{course:"Amuse-Bouche",dish:"Truffle Arancini",description:"Wild mushroom risotto spheres with a molten fontina center."},{course:"First Course",dish:"Burrata & Heirloom Tomato",description:"Creamy burrata, balsamic pearls, and micro-basil on a bed of gold-flecked heirloom tomatoes."},{course:"Main Course",dish:"Wagyu Filet Mignon",description:"Gently seared, served with a bordelaise sauce, asparagus tips, and velvet potato pure."},{course:"Dessert",dish:"Midnight Chocolate Dome",description:"Dark Valrhona chocolate, salted caramel core, and edible gold leaf."}],musicUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",dressCode:"Black Tie Optional: We kindly request our guests to dress in formal attire. Gentlemen in tuxedos or dark suits, and ladies in evening gowns or cocktail dresses. Warm champagne and gold tones are encouraged.",bridalParty:[{name:"Julianna Vance",role:"Maid of Honor",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2"},{name:"Marcus Thorne",role:"Best Man",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d"},{name:"Chloe Bennett",role:"Bridesmaid",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb"},{name:"Julian Pierce",role:"Groomsman",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"}],footerText:"Handcrafted with love for the celebration of a lifetime"},MD=({onComplete:t,content:e})=>{var r;const[n,i]=E.useState(!1),s=()=>{i(!0),setTimeout(t,2500)},a=e.openingScreen||{welcome:"You are cordially invited to",subtitle:e.coupleNames||"A Celebration of Love"};return c.jsx(k.div,{initial:{opacity:1},exit:{opacity:0,pointerEvents:"none"},transition:{duration:1},className:"fixed inset-0 z-[100] bg-[#fcfaf7] flex items-center justify-center overflow-hidden",children:c.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[c.jsx(k.div,{animate:n?{x:"-100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 left-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-r border-gold/20 flex items-center justify-end pr-1 shadow-2xl"}),c.jsx(k.div,{animate:n?{x:"100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 right-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-l border-gold/20 flex items-center justify-start pl-1 shadow-2xl"}),!n&&c.jsxs(k.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.8},className:"z-30 text-center px-4 relative w-full h-full flex flex-col justify-center items-center py-10 pointer-events-none gap-8",children:[c.jsx("div",{className:"flex-none",children:c.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-xs md:text-sm uppercase tracking-[0.4em] text-gold/80 font-bold font-body",children:a.welcome})}),c.jsx("div",{className:"flex-none flex items-center justify-center pointer-events-auto",children:c.jsxs("button",{onClick:s,className:"relative w-48 h-48 flex items-center justify-center group","aria-label":"Enter",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border border-gold/20 group-hover:border-gold/40 transition-all duration-700 scale-110 animate-ping"}),c.jsx("div",{className:"absolute inset-4 rounded-full border border-gold/10 group-hover:border-gold/30 transition-all duration-500 scale-125"}),c.jsxs(k.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative w-24 h-24 bg-[#a12d2d] rounded-full shadow-2xl border-4 border-[#801e1e] flex items-center justify-center z-40",children:[c.jsx("div",{className:"absolute inset-1 rounded-full border border-white/10"}),c.jsx("span",{className:"font-serif text-white text-4xl drop-shadow-md",children:((r=e.openingScreen)==null?void 0:r.sealInitials)||"LF"}),c.jsx("div",{className:"absolute -bottom-16 w-max left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:c.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-gold font-bold",children:"Tap to Open"})})]})]})}),c.jsxs("div",{className:"mb-6 pb-4",children:[c.jsx("div",{className:"text-lg md:text-xl font-cursive text-gold mb-4 tracking-widest",children:a.subtitle}),c.jsx("div",{className:"text-[9px] md:text-[10px] uppercase tracking-[0.3em] md:tracking-[0.4em] font-bold text-gray-400 font-body",children:"The Celebration Awaits"})]})]},"invitation-card"),c.jsx(Be,{children:n&&c.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 flex flex-col items-center justify-center z-50 p-10 bg-[#fcfaf7]",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((o,l)=>c.jsx(k.div,{initial:{opacity:0,x:Math.random()*100+"%",y:Math.random()*100+"%"},animate:{opacity:[0,.4,0],y:[null,"-=100"],x:[null,(Math.random()-.5)*50]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2},className:"absolute w-1 h-1 bg-gold rounded-full blur-[1px]"},l))}),c.jsx(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:1.5,ease:"easeOut"},className:"text-center relative z-20",children:c.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:1.2},className:"flex flex-col items-center",children:c.jsxs("div",{className:"text-xl md:text-3xl font-sans tracking-[0.2em] leading-loose text-gray-500 uppercase font-light",children:["Two hearts ",c.jsx("span",{className:"font-cursive text-3xl md:text-5xl text-gold lowercase bg-clip-text capitalize mx-2",children:"one journey"}),c.jsx("br",{}),c.jsx("span",{className:"text-gold font-bold scale-110 inline-block mt-6 tracking-[0.3em] text-sm md:text-xl border-t border-b border-gold/30 py-4 px-8",children:"a lifetime of love"})]})})})]})})]})})},LD=({onAdminClick:t,onGuestDashboardClick:e,isMuted:n,onToggleMusic:i,isDarkMode:s,onToggleTheme:a,hidden:r})=>{const[o,l]=E.useState(!1),[u,d]=E.useState(!1),[f,h]=E.useState(""),m=[{name:"Story",href:"#story"},{name:"Timeline",href:"#timeline"},{name:"Gallery",href:"#gallery"},{name:"Guestbook",href:"#guestbook"},{name:"RSVP",href:"#rsvp"}];E.useEffect(()=>{const _=()=>{l(window.scrollY>50);const g=m.map(y=>y.href.substring(1));let p="";for(const y of g){const w=document.getElementById(y);if(w){const N=w.getBoundingClientRect();N.top<=150&&N.bottom>=150&&(p=y)}}h(p)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const x=()=>{u?document.body.style.overflow="auto":document.body.style.overflow="hidden",d(!u)},b=()=>{d(!1),document.body.style.overflow="auto"};return c.jsxs(c.Fragment,{children:[c.jsx("nav",{className:`fixed top-0 left-0 right-0 z-[60] hidden lg:block transition-all duration-500 ${r?"opacity-0 pointer-events-none translate-y-[-100%]":"opacity-100"} ${o?(s?"bg-[#1a1a1a]/80":"bg-white/80")+" backdrop-blur-md shadow-lg py-4":"bg-transparent py-8"}`,children:c.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[c.jsxs("div",{className:`font-serif text-3xl tracking-[0.2em] transition-all duration-500 cursor-default relative z-[70] ${o?"text-gold":"text-white"}`,children:["L ",c.jsx("span",{className:"font-cursive text-4xl text-gold mx-2",children:"&"})," F"]}),c.jsxs("div",{className:"flex space-x-8 items-center",children:[m.map(_=>c.jsxs("a",{href:_.href,className:`text-[10px] font-bold uppercase tracking-[0.3em] hover:text-gold transition-all duration-300 relative group ${f===_.href.substring(1)?"text-gold":o?s?"text-gray-300":"text-gray-500":"text-white"}`,children:[_.name,c.jsx("span",{className:`absolute -bottom-2 left-0 h-[2px] bg-gold transition-all duration-300 ${f===_.href.substring(1)?"w-full":"w-0 group-hover:w-full"}`})]},_.name)),c.jsx("div",{className:"h-4 w-px bg-gray-300/30 mx-2"}),c.jsx("button",{onClick:i,className:"flex items-center gap-2 group px-2 py-1",title:n?"Play Music":"Mute Music",children:c.jsx("div",{className:"flex items-center gap-[3px] h-3",children:[...Array(4)].map((_,g)=>c.jsx(k.div,{animate:{height:n?2:[4,12,6,12,4]},transition:{duration:.8,repeat:1/0,delay:g*.1},className:`w-[2px] rounded-full ${o?"bg-gold":"bg-white"}`},g))})}),c.jsx("button",{onClick:a,className:`text-sm hover:text-gold transition-colors px-2 ${o?s?"text-white":"text-gray-600":"text-white"}`,children:c.jsx("i",{className:`fa-solid ${s?"fa-sun":"fa-moon"}`})}),c.jsx("button",{onClick:e,className:`text-[10px] font-black uppercase tracking-[0.2em] px-6 py-2.5 rounded-full border transition-all duration-300 ${o?"border-gold text-gold hover:bg-gold hover:text-white shadow-lg shadow-gold/10":"border-white/40 text-white hover:border-white hover:bg-white/10"}`,children:"Guest Portal"}),c.jsxs("button",{onClick:t,className:`group flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest px-4 py-2 rounded-lg border border-transparent transition-all ${o?s?"text-white/40 hover:text-gold hover:border-gold/20":"text-gray-400 hover:text-gold hover:border-gold/20":"text-white/60 hover:text-white hover:border-white/20"}`,children:[c.jsx("i",{className:"fa-solid fa-crown text-sm"}),c.jsx("span",{children:"Admin Panel"})]})]})]})}),c.jsx("div",{className:`lg:hidden fixed bottom-6 left-1/2 -translate-x-1/2 z-[1000] w-[92%] max-w-md transition-all duration-500 ${r?"opacity-0 pointer-events-none translate-y-20":"opacity-100 translate-y-0"}`,children:c.jsxs(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:`relative ${s?"bg-[#1a1a1a]/80":"bg-white/80"} backdrop-blur-2xl border ${s?"border-white/10":"border-gold/15"} rounded-[2.5rem] p-2 shadow-[0_20px_50px_rgba(0,0,0,0.3)] flex items-center justify-between overflow-hidden`,children:[c.jsxs(c.Fragment,{children:[c.jsx(Be,{children:["story","timeline","gallery","guestbook","rsvp"].includes(f)&&c.jsx(k.div,{layoutId:"activePill",className:"absolute h-12 rounded-2xl bg-gold/10 border border-gold/20 z-0",initial:!1,transition:{type:"spring",bounce:.2,duration:.6},style:{width:"calc(100% / 6 - 8px)",left:`calc((${["story","timeline","gallery","guestbook","rsvp"].indexOf(f)} * (100% / 6)) + 4px)`}})}),c.jsxs("div",{className:"flex-grow flex items-center justify-between px-1",children:[[{id:"story",icon:"fa-book-open",label:"Story"},{id:"timeline",icon:"fa-clock",label:"Time"},{id:"gallery",icon:"fa-images",label:"Gallery"},{id:"guestbook",icon:"fa-pen-fancy",label:"Signed"}].map(_=>c.jsxs(k.a,{href:`#${_.id}`,whileTap:{scale:.9},className:`relative z-10 flex flex-col items-center justify-center w-full py-2.5 transition-all duration-300 ${f===_.id?"text-gold":s?"text-gray-400":"text-gray-500"}`,children:[c.jsx("i",{className:`fa-solid ${_.icon} text-base mb-1.5`}),c.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.1em]",children:_.label})]},_.id)),c.jsxs(k.a,{href:"#rsvp",whileTap:{scale:.9},className:`relative z-10 flex flex-col items-center justify-center w-full py-2.5 transition-all duration-300 ${f==="rsvp"?"text-gold":s?"text-gray-400":"text-gray-500"}`,children:[c.jsx("i",{className:"fa-solid fa-paper-plane text-base mb-1.5"}),c.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.1em]",children:"RSVP"})]})]})]}),c.jsxs(k.button,{onClick:x,whileTap:{scale:.9},className:`relative z-10 flex flex-col items-center justify-center w-[calc(100%/6)] py-2.5 transition-all duration-300 ${u?"text-gold":s?"text-gray-400":"text-gray-500"}`,children:[c.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center mb-1.5 transition-all duration-500 ${u?"bg-gold text-white rotate-180 shadow-lg shadow-gold/30":s?"bg-white/5 text-gold":"bg-gold/10 text-gold"}`,children:c.jsx("i",{className:`fa-solid ${u?"fa-xmark":"fa-bars-staggered"} text-[10px]`})}),c.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.1em]",children:u?"Close":"Menu"})]})]})}),c.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 z-[1000] px-6 py-3 flex justify-between items-center transition-all duration-500 ${r?"opacity-0 pointer-events-none -translate-y-full":"opacity-100"} ${o?(s?"bg-[#1a1a1a]/85":"bg-white/85")+" backdrop-blur-lg border-b border-white/5 shadow-md":"bg-transparent"}`,children:[c.jsxs("div",{className:`font-serif text-lg tracking-[0.25em] transition-colors duration-500 ${o?"text-gold":"text-white"}`,children:["L ",c.jsx("span",{className:"font-cursive text-2xl text-gold mx-0.5",children:"&"})," F"]}),c.jsx("div",{className:"flex items-center gap-2"})]}),c.jsx(Be,{children:u&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[65] flex flex-col justify-end p-6 pb-32 ${s?"bg-[#000]/95":"bg-[#fff]/95"} backdrop-blur-3xl`,children:c.jsxs(k.div,{layout:!0,className:"space-y-4 max-w-sm mx-auto w-full",children:[c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsx("div",{className:`p-4 rounded-[2rem] ${s?"bg-white/[0.03] border-white/10":"bg-gold/[0.03] border-gold/10"} border`,children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-gold/10",children:c.jsx("i",{className:`fa-solid ${s?"fa-moon":"fa-sun"} text-gold text-xs`})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gold/80",children:"Appearance"}),c.jsx("span",{className:"text-[8px] text-gray-500 font-bold uppercase tracking-tight",children:s?"Dark Mode":"Light Mode"})]})]}),c.jsx("button",{onClick:a,className:`w-14 h-8 rounded-full p-1 transition-all duration-500 relative ${s?"bg-gold shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)]":"bg-gray-200"}`,children:c.jsx(k.div,{animate:{x:s?24:0},transition:{type:"spring",stiffness:500,damping:30},className:"w-6 h-6 rounded-full shadow-lg flex items-center justify-center bg-white",children:c.jsx("i",{className:`fa-solid ${s?"fa-moon":"fa-sun"} text-[10px] text-gold`})})})]}),c.jsx("div",{className:`h-px w-full ${s?"bg-white/5":"bg-gold/10"}`}),c.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-gold/10",children:c.jsx("i",{className:`fa-solid ${n?"fa-volume-xmark":"fa-volume-high"} text-gold text-xs`})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gold/80",children:"Ambient Music"}),c.jsx("span",{className:"text-[8px] text-gray-500 font-bold uppercase tracking-tight",children:n?"Muted":"Playing"})]})]}),c.jsx("button",{onClick:i,className:`w-14 h-8 rounded-full p-1 transition-all duration-500 relative ${n?"bg-gray-200":"bg-gold shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)]"}`,children:c.jsx(k.div,{animate:{x:n?0:24},transition:{type:"spring",stiffness:500,damping:30},className:"w-6 h-6 rounded-full shadow-lg flex items-center justify-center bg-white",children:c.jsx("i",{className:`fa-solid ${n?"fa-volume-xmark":"fa-volume-high"} text-[10px] text-gold`})})})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(k.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>{b(),e()},className:`group py-5 rounded-[2rem] border flex flex-col items-center justify-center gap-3 transition-all active:scale-95 ${s?"border-white/10 bg-white/5 text-white":"border-gold/10 bg-gold/5 text-gray-800"}`,children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center group-hover:bg-gold group-hover:text-white transition-colors",children:c.jsx("i",{className:"fa-solid fa-user text-sm"})}),c.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Guest Portal"})]}),c.jsxs(k.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>{b(),t()},className:`group py-5 rounded-[2rem] border flex flex-col items-center justify-center gap-3 transition-all active:scale-95 ${s?"border-white/10 bg-white/5 text-white":"border-gold/10 bg-gold/5 text-gray-800"}`,children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center group-hover:bg-gold group-hover:text-white transition-colors",children:c.jsx("i",{className:"fa-solid fa-crown text-sm"})}),c.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Admin Panel"})]})]})]}),c.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:`p-10 rounded-[3rem] ${s?"bg-white/5 border-white/5":"bg-gold/[0.03] border-gold/10"} text-center border relative overflow-hidden group`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold/40 to-transparent"}),c.jsx("h4",{className:"font-serif text-3xl text-gold mb-3 tracking-tight",children:"Our Story"}),c.jsx("p",{className:"text-[9px] text-gray-400 uppercase tracking-[0.4em] font-black mb-1",children:"July 4, 2026"}),c.jsx("p",{className:"text-[8px] text-gold/60 uppercase font-black",children:"Cebu City, Philippines"})]})]})})})]})};var Ig={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;try{var T=new OffscreenCanvas(1,1),S=T.getContext("2d");S.fillRect(0,0,1,1);var P=T.transferToImageBitmap();S.createPattern(P,"no-repeat")}catch{return!1}return!0}();function l(){}function u(T){var S=n.exports.Promise,P=S!==void 0?S:e.Promise;return typeof P=="function"?new P(T):(T(l,l),null)}var d=function(T,S){return{transform:function(P){if(T)return P;if(S.has(P))return S.get(P);var F=new OffscreenCanvas(P.width,P.height),q=F.getContext("2d");return q.drawImage(P,0,0),S.set(P,F),F},clear:function(){S.clear()}}}(o,new Map),f=function(){var T=Math.floor(16.666666666666668),S,P,F={},q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(Y){var te=Math.random();return F[te]=requestAnimationFrame(function G(ie){q===ie||q+T-1<ie?(q=ie,delete F[te],Y()):F[te]=requestAnimationFrame(G)}),te},P=function(Y){F[Y]&&cancelAnimationFrame(F[Y])}):(S=function(Y){return setTimeout(Y,T)},P=function(Y){return clearTimeout(Y)}),{frame:S,cancel:P}}(),h=function(){var T,S,P={};function F(q){function Y(te,G){q.postMessage({options:te||{},callback:G})}q.init=function(G){var ie=G.transferControlToOffscreen();q.postMessage({canvas:ie},[ie])},q.fire=function(G,ie,pe){if(S)return Y(G,null),S;var O=Math.random().toString(36).slice(2);return S=u(function(H){function W(me){me.data.callback===O&&(delete P[O],q.removeEventListener("message",W),S=null,d.clear(),pe(),H())}q.addEventListener("message",W),Y(G,O),P[O]=W.bind(null,{data:{callback:O}})}),S},q.reset=function(){q.postMessage({reset:!0});for(var G in P)P[G](),delete P[G]}}return function(){if(T)return T;if(!i&&a){var q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([q])))}catch(Y){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Y),null}F(T)}return T}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(T,S){return S?S(T):T}function b(T){return T!=null}function _(T,S,P){return x(T&&b(T[S])?T[S]:m[S],P)}function g(T){return T<0?0:Math.floor(T)}function p(T,S){return Math.floor(Math.random()*(S-T))+T}function y(T){return parseInt(T,16)}function w(T){return T.map(N)}function N(T){var S=String(T).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:y(S.substring(0,2)),g:y(S.substring(2,4)),b:y(S.substring(4,6))}}function j(T){var S=_(T,"origin",Object);return S.x=_(S,"x",Number),S.y=_(S,"y",Number),S}function A(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function C(T){var S=T.getBoundingClientRect();T.width=S.width,T.height=S.height}function L(T){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=T,S}function I(T,S,P,F,q,Y,te,G,ie){T.save(),T.translate(S,P),T.rotate(Y),T.scale(F,q),T.arc(0,0,1,te,G,ie),T.restore()}function X(T){var S=T.angle*(Math.PI/180),P=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-S+(.5*P-Math.random()*P),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function le(T,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var P=S.tick++/S.totalTicks,F=S.x+S.random*S.tiltCos,q=S.y+S.random*S.tiltSin,Y=S.wobbleX+S.random*S.tiltCos,te=S.wobbleY+S.random*S.tiltSin;if(T.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-P)+")",T.beginPath(),r&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))T.fill(B(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(Y-F)*.1,Math.abs(te-q)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var G=Math.PI/10*S.wobble,ie=Math.abs(Y-F)*.1,pe=Math.abs(te-q)*.1,O=S.shape.bitmap.width*S.scalar,H=S.shape.bitmap.height*S.scalar,W=new DOMMatrix([Math.cos(G)*ie,Math.sin(G)*ie,-Math.sin(G)*pe,Math.cos(G)*pe,S.x,S.y]);W.multiplySelf(new DOMMatrix(S.shape.matrix));var me=T.createPattern(d.transform(S.shape.bitmap),"no-repeat");me.setTransform(W),T.globalAlpha=1-P,T.fillStyle=me,T.fillRect(S.x-O/2,S.y-H/2,O,H),T.globalAlpha=1}else if(S.shape==="circle")T.ellipse?T.ellipse(S.x,S.y,Math.abs(Y-F)*S.ovalScalar,Math.abs(te-q)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):I(T,S.x,S.y,Math.abs(Y-F)*S.ovalScalar,Math.abs(te-q)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var $=Math.PI/2*3,Ee=4*S.scalar,je=8*S.scalar,qt=S.x,vn=S.y,Pn=5,sn=Math.PI/Pn;Pn--;)qt=S.x+Math.cos($)*je,vn=S.y+Math.sin($)*je,T.lineTo(qt,vn),$+=sn,qt=S.x+Math.cos($)*Ee,vn=S.y+Math.sin($)*Ee,T.lineTo(qt,vn),$+=sn;else T.moveTo(Math.floor(S.x),Math.floor(S.y)),T.lineTo(Math.floor(S.wobbleX),Math.floor(q)),T.lineTo(Math.floor(Y),Math.floor(te)),T.lineTo(Math.floor(F),Math.floor(S.wobbleY));return T.closePath(),T.fill(),S.tick<S.totalTicks}function tt(T,S,P,F,q){var Y=S.slice(),te=T.getContext("2d"),G,ie,pe=u(function(O){function H(){G=ie=null,te.clearRect(0,0,F.width,F.height),d.clear(),q(),O()}function W(){i&&!(F.width===s.width&&F.height===s.height)&&(F.width=T.width=s.width,F.height=T.height=s.height),!F.width&&!F.height&&(P(T),F.width=T.width,F.height=T.height),te.clearRect(0,0,F.width,F.height),Y=Y.filter(function(me){return le(te,me)}),Y.length?G=f.frame(W):H()}G=f.frame(W),ie=H});return{addFettis:function(O){return Y=Y.concat(O),pe},canvas:T,promise:pe,reset:function(){G&&f.cancel(G),ie&&ie()}}}function Ke(T,S){var P=!T,F=!!_(S||{},"resize"),q=!1,Y=_(S,"disableForReducedMotion",Boolean),te=a&&!!_(S||{},"useWorker"),G=te?h():null,ie=P?A:C,pe=T&&G?!!T.__confetti_initialized:!1,O=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,H;function W($,Ee,je){for(var qt=_($,"particleCount",g),vn=_($,"angle",Number),Pn=_($,"spread",Number),sn=_($,"startVelocity",Number),kd=_($,"decay",Number),Ne=_($,"gravity",Number),Or=_($,"drift",Number),Dl=_($,"colors",w),Dd=_($,"ticks",Number),Ml=_($,"shapes"),Md=_($,"scalar"),Ld=!!_($,"flat"),Ll=j($),Ul=qt,kr=[],Ud=T.width*Ll.x,Pl=T.height*Ll.y;Ul--;)kr.push(X({x:Ud,y:Pl,angle:vn,spread:Pn,startVelocity:sn,color:Dl[Ul%Dl.length],shape:Ml[p(0,Ml.length)],ticks:Dd,decay:kd,gravity:Ne,drift:Or,scalar:Md,flat:Ld}));return H?H.addFettis(kr):(H=tt(T,kr,ie,Ee,je),H.promise)}function me($){var Ee=Y||_($,"disableForReducedMotion",Boolean),je=_($,"zIndex",Number);if(Ee&&O)return u(function(sn){sn()});P&&H?T=H.canvas:P&&!T&&(T=L(je),document.body.appendChild(T)),F&&!pe&&ie(T);var qt={width:T.width,height:T.height};G&&!pe&&G.init(T),pe=!0,G&&(T.__confetti_initialized=!0);function vn(){if(G){var sn={getBoundingClientRect:function(){if(!P)return T.getBoundingClientRect()}};ie(sn),G.postMessage({resize:{width:sn.width,height:sn.height}});return}qt.width=qt.height=null}function Pn(){H=null,F&&(q=!1,e.removeEventListener("resize",vn)),P&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,pe=!1)}return F&&!q&&(q=!0,e.addEventListener("resize",vn,!1)),G?G.fire($,qt,Pn):W($,qt,Pn)}return me.reset=function(){G&&G.reset(),H&&H.reset()},me}var _t;function M(){return _t||(_t=Ke(null,{useWorker:!0,resize:!0})),_t}function B(T,S,P,F,q,Y,te){var G=new Path2D(T),ie=new Path2D;ie.addPath(G,new DOMMatrix(S));var pe=new Path2D;return pe.addPath(ie,new DOMMatrix([Math.cos(te)*q,Math.sin(te)*q,-Math.sin(te)*Y,Math.cos(te)*Y,P,F])),pe}function U(T){if(!r)throw new Error("path confetti are not supported in this browser");var S,P;typeof T=="string"?S=T:(S=T.path,P=T.matrix);var F=new Path2D(S),q=document.createElement("canvas"),Y=q.getContext("2d");if(!P){for(var te=1e3,G=te,ie=te,pe=0,O=0,H,W,me=0;me<te;me+=2)for(var $=0;$<te;$+=2)Y.isPointInPath(F,me,$,"nonzero")&&(G=Math.min(G,me),ie=Math.min(ie,$),pe=Math.max(pe,me),O=Math.max(O,$));H=pe-G,W=O-ie;var Ee=10,je=Math.min(Ee/H,Ee/W);P=[je,0,0,je,-Math.round(H/2+G)*je,-Math.round(W/2+ie)*je]}return{type:"path",path:S,matrix:P}}function ae(T){var S,P=1,F="#000000",q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?S=T:(S=T.text,P="scalar"in T?T.scalar:P,q="fontFamily"in T?T.fontFamily:q,F="color"in T?T.color:F);var Y=10*P,te=""+Y+"px "+q,G=new OffscreenCanvas(Y,Y),ie=G.getContext("2d");ie.font=te;var pe=ie.measureText(S),O=Math.ceil(pe.actualBoundingBoxRight+pe.actualBoundingBoxLeft),H=Math.ceil(pe.actualBoundingBoxAscent+pe.actualBoundingBoxDescent),W=2,me=pe.actualBoundingBoxLeft+W,$=pe.actualBoundingBoxAscent+W;O+=W+W,H+=W+W,G=new OffscreenCanvas(O,H),ie=G.getContext("2d"),ie.font=te,ie.fillStyle=F,ie.fillText(S,me,$);var Ee=1/P;return{type:"bitmap",bitmap:G.transferToImageBitmap(),matrix:[Ee,0,0,Ee,-O*Ee/2,-H*Ee/2]}}n.exports=function(){return M().apply(this,arguments)},n.exports.reset=function(){M().reset()},n.exports.create=Ke,n.exports.shapeFromPath=U,n.exports.shapeFromText=ae})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ig,!1);const Ga=Ig.exports;Ig.exports.create;const UD=({content:t})=>{const{scrollY:e}=FT(),n=_u(e,[0,500],[0,200]),i=_u(e,[0,400],[1,0]),s=E.useCallback(()=>{try{if(!t.countdownDate)return{days:0,hours:0,minutes:0,seconds:0};const f=new Date(t.countdownDate),h=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"})),m=f.getTime()-h.getTime();if(m>0)return{days:Math.floor(m/(1e3*60*60*24)),hours:Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(m%(1e3*60*60)/(1e3*60)),seconds:Math.floor(m%(1e3*60)/1e3)}}catch(f){console.error("Countdown error:",f)}return{days:0,hours:0,minutes:0,seconds:0}},[t.countdownDate]),[a,r]=E.useState(s()),[o,l]=E.useState(!1),u=E.useCallback(()=>{const h=Date.now()+5e3,m={startVelocity:30,spread:360,ticks:60,zIndex:100},x=(_,g)=>Math.random()*(g-_)+_,b=setInterval(()=>{const _=h-Date.now();if(_<=0){clearInterval(b);return}const g=50*(_/5e3),p=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Ga({...m,particleCount:g,origin:{x:x(.1,.3),y:Math.random()-.2},colors:p}),Ga({...m,particleCount:g,origin:{x:x(.7,.9),y:Math.random()-.2},colors:p})},250);Ga({particleCount:200,spread:100,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},[]);E.useEffect(()=>{const f=setInterval(()=>{const h=s();r(h),!o&&h.days===0&&h.hours===0&&h.minutes===0&&h.seconds===0&&(l(!0),u())},1e3);return()=>clearInterval(f)},[s,o,u]);const d=({value:f,label:h})=>c.jsxs("div",{className:"flex flex-col items-center text-center min-w-[60px] md:min-w-[80px]",children:[c.jsx("div",{className:"text-3xl md:text-5xl font-bold text-gold font-serif leading-none mb-1",children:String(f).padStart(2,"0")}),c.jsx("div",{className:"text-[8px] md:text-[10px] uppercase tracking-[0.2em] text-champagne/80 font-body font-bold",children:h})]});return c.jsxs("div",{className:"relative h-screen w-full flex items-center justify-center overflow-hidden",children:[c.jsx(k.div,{style:{y:n,scale:1.1},initial:{scale:1.2},animate:{scale:1.1},transition:{duration:1.5},className:"absolute inset-0 z-0",children:c.jsx("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('${t.heroImageUrl||"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920"}')`,backgroundSize:"cover",backgroundPosition:"center"}})}),c.jsxs(k.div,{style:{opacity:i},className:"relative z-10 text-center text-white px-4 w-full max-w-5xl mt-12",children:[c.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},children:[c.jsx("div",{className:"text-[10px] md:text-xl uppercase tracking-[0.5em] md:tracking-[0.8em] mb-6 md:mb-12 font-medium text-white/70 font-body drop-shadow-lg",children:"The Wedding Of"}),c.jsx(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:1},className:"leading-none drop-shadow-2xl flex flex-col items-center mb-8 sm:mb-12",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 md:gap-6",children:[c.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Louie"}),c.jsx("span",{className:"font-cursive text-gold text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal opacity-90",style:{textShadow:"0 0 30px rgba(212, 175, 55, 0.8)",transform:"translateY(-4px)"},children:"&"}),c.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Florie"})]})}),c.jsx("div",{className:"text-lg md:text-3xl font-cursive tracking-widest text-gold mb-12 md:mb-16 drop-shadow-lg",children:t.weddingDate}),c.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:1},className:"flex justify-center items-center mb-12 md:mb-20 bg-black/30 backdrop-blur-md px-3 py-4 md:px-8 md:py-6 rounded-2xl md:rounded-full border border-white/10 shadow-3xl inline-flex mx-auto scale-90 md:scale-100",children:[c.jsx(d,{value:a.days,label:"Days"}),c.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),c.jsx(d,{value:a.hours,label:"Hrs"}),c.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),c.jsx(d,{value:a.minutes,label:"Mins"}),c.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),c.jsx(d,{value:a.seconds,label:"Secs"})]}),c.jsx(k.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"max-w-xl mx-auto text-xs md:text-base font-light tracking-[0.2em] leading-loose opacity-90 px-4 font-body text-champagne",children:t.heroTagline})]}),c.jsxs(k.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{delay:2,duration:2,repeat:1/0},className:"absolute -bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center cursor-pointer",onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),children:[c.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-white/70 mb-2 font-bold",children:"Scroll"}),c.jsx("div",{className:"w-[1px] h-16 bg-gradient-to-b from-gold via-white to-transparent"})]})]})]})},PD=()=>{};var Dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+qT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],o=t[n++],l=((s&7)<<18|(a&63)<<12|(r&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,o=r?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,m=u&63;l||(m=64,r||(h=64)),i.push(n[d],n[f],n[h],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||o==null||u==null||f==null)throw new VD;const h=a<<2|o>>4;if(i.push(h),u!==64){const m=o<<4&240|u>>2;if(i.push(m),f!==64){const x=u<<6&192|f;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(t){const e=YT(t);return jg.encodeByteArray(e,!0)},wu=function(t){return WT(t).replace(/\./g,"")},Su=function(t){try{return jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){return KT(void 0,t)}function KT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!HD(n)||(t[n]=KT(t[n],e[n]));return t}function HD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=()=>FD().__FIREBASE_DEFAULTS__,$D=()=>{if(typeof process>"u"||typeof Dv>"u")return;const t=Dv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Su(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return PD()||GD()||$D()||qD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>{var e,n;return(n=(e=Og())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},QT=t=>{const e=XT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ZT=()=>{var t;return(t=Og())==null?void 0:t.config},JT=t=>{var e;return(e=Og())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wu(JSON.stringify(n)),wu(JSON.stringify(r)),""].join(".")}const To={};function YD(){const t={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?t.emulator.push(e):t.prod.push(e);return t}function WD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mv=!1;function Dg(t,e){if(typeof window>"u"||typeof document>"u"||!bs(window.location.host)||To[t]===e||To[t]||Mv)return;To[t]=e;function n(h){return`__firebase__banner__${h}`}const i="__firebase__banner",a=YD().prod.length>0;function r(){const h=document.getElementById(i);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Mv=!0,r()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=WD(i),m=n("text"),x=document.getElementById(m)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;o(y),d(_,b);const w=u();l(p,g),y.append(p,x,_,w),document.body.appendChild(y)}a?(x.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function KD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QD(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZD(){return qT.NODE_ADMIN===!0}function JD(){try{return typeof indexedDB=="object"}catch{return!1}}function eM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="FirebaseError";class Ei extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tM,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?nM(a,i):"Error",o=`${this.serviceName}: ${r} (${s}).`;return new Ei(s,o,i)}}function nM(t,e){return t.replace(iM,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const iM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Qo(Su(a[0])||""),n=Qo(Su(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},sM=function(t){const e=nE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aM=function(t){const e=nE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(Lv(a)&&Lv(r)){if(!Ws(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function to(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=o^a&(r^o),d=1518500249):(u=a^r^o,d=1859775393):f<60?(u=a&r|o&(a|r),d=2400959708):(u=a^r^o,d=3395469782);const h=(s<<5|s>>>27)+u+l+d+i[f]&4294967295;l=o,o=r,r=(a<<30|a>>>2)&4294967295,a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function oM(t,e){const n=new lM(t,e);return n.subscribe.bind(n)}class lM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=zh),s.error===void 0&&(s.error=zh),s.complete===void 0&&(s.complete=zh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zh(){}function Lg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,D(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yd=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new gd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fM(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hM(t){return t===Is?void 0:t}function fM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const pM={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},gM=Se.INFO,yM={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},xM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=yM[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=gM,this._logHandler=xM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const vM=(t,e)=>e.some(n=>t instanceof n);let Uv,Pv;function bM(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _M(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,Cm=new WeakMap,sE=new WeakMap,Vh=new WeakMap,Pg=new WeakMap;function wM(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(ss(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&iE.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function SM(t){if(Cm.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Cm.set(t,e)}let Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TM(t){Am=t(Am)}function EM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bh(this),e,...n);return sE.set(i,e.sort?e.sort():[e]),ss(i)}:_M().includes(t)?function(...e){return t.apply(Bh(this),e),ss(iE.get(this))}:function(...e){return ss(t.apply(Bh(this),e))}}function NM(t){return typeof t=="function"?EM(t):(t instanceof IDBTransaction&&SM(t),vM(t,bM())?new Proxy(t,Am):t)}function ss(t){if(t instanceof IDBRequest)return wM(t);if(Vh.has(t))return Vh.get(t);const e=NM(t);return e!==t&&(Vh.set(t,e),Pg.set(e,t)),e}const Bh=t=>Pg.get(t);function CM(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),o=ss(r);return i&&r.addEventListener("upgradeneeded",l=>{i(ss(r.result),l.oldVersion,l.newVersion,ss(r.transaction),l)}),n&&r.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const AM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],Hh=new Map;function zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AM.includes(n)))return;const a=async function(r,...o){const l=this.transaction(r,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return Hh.set(e,a),a}TM(t=>({...t,get:(e,n,i)=>zv(e,n)||t.get(e,n,i),has:(e,n)=>!!zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function jM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",Vv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ug("@firebase/app"),OM="@firebase/app-compat",kM="@firebase/analytics-compat",DM="@firebase/analytics",MM="@firebase/app-check-compat",LM="@firebase/app-check",UM="@firebase/auth",PM="@firebase/auth-compat",zM="@firebase/database",VM="@firebase/data-connect",BM="@firebase/database-compat",HM="@firebase/functions",FM="@firebase/functions-compat",GM="@firebase/installations",$M="@firebase/installations-compat",qM="@firebase/messaging",YM="@firebase/messaging-compat",WM="@firebase/performance",KM="@firebase/performance-compat",XM="@firebase/remote-config",QM="@firebase/remote-config-compat",ZM="@firebase/storage",JM="@firebase/storage-compat",e3="@firebase/firestore",t3="@firebase/ai",n3="@firebase/firestore-compat",i3="firebase",s3="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",a3={[Rm]:"fire-core",[OM]:"fire-core-compat",[DM]:"fire-analytics",[kM]:"fire-analytics-compat",[LM]:"fire-app-check",[MM]:"fire-app-check-compat",[UM]:"fire-auth",[PM]:"fire-auth-compat",[zM]:"fire-rtdb",[VM]:"fire-data-connect",[BM]:"fire-rtdb-compat",[HM]:"fire-fn",[FM]:"fire-fn-compat",[GM]:"fire-iid",[$M]:"fire-iid-compat",[qM]:"fire-fcm",[YM]:"fire-fcm-compat",[WM]:"fire-perf",[KM]:"fire-perf-compat",[XM]:"fire-rc",[QM]:"fire-rc-compat",[ZM]:"fire-gcs",[JM]:"fire-gcs-compat",[e3]:"fire-fst",[n3]:"fire-fst-compat",[t3]:"fire-vertex","fire-js":"fire-js",[i3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map,r3=new Map,jm=new Map;function Bv(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ks(t){const e=t.name;if(jm.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Eu.values())Bv(n,t);for(const n of r3.values())Bv(n,t);return!0}function xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Tl("app","Firebase",o3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=s3;function zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Im,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw as.create("bad-app-name",{appName:String(s)});if(n||(n=ZT()),!n)throw as.create("no-options");const a=Eu.get(s);if(a){if(Ws(n,a.options)&&Ws(i,a.config))return a;throw as.create("duplicate-app",{appName:s})}const r=new mM(s);for(const l of jm.values())r.addComponent(l);const o=new l3(n,i,r);return Eu.set(s,o),o}function Vg(t=Im){const e=Eu.get(t);if(!e&&t===Im&&ZT())return zg();if(!e)throw as.create("no-app",{appName:t});return e}function $n(t,e,n){let i=a3[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(r.join(" "));return}Ks(new ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebase-heartbeat-database",u3=1,Zo="firebase-heartbeat-store";let Fh=null;function aE(){return Fh||(Fh=CM(c3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Fh}async function d3(t){try{const n=(await aE()).transaction(Zo),i=await n.objectStore(Zo).get(rE(t));return await n.done,i}catch(e){if(e instanceof Ei)bi.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function Hv(t,e){try{const i=(await aE()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,rE(t)),await i.done}catch(n){if(n instanceof Ei)bi.warn(n.message);else{const i=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(i.message)}}}function rE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=1024,f3=30;class m3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>f3){const r=y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:i,unsentEntries:s}=p3(this._heartbeatsCache.heartbeats),a=wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bi.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function p3(t,e=h3){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Gv(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class g3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JD()?eM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gv(t){return wu(JSON.stringify({version:2,heartbeats:t})).length}function y3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){Ks(new ms("platform-logger",e=>new IM(e),"PRIVATE")),Ks(new ms("heartbeat",e=>new m3(e),"PRIVATE")),$n(Rm,Vv,t),$n(Rm,Vv,"esm2020"),$n("fire-js","")}x3("");var v3="firebase",b3="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(v3,b3,"app");var $v={};const qv="@firebase/database",Yv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oE="";function _3(t){oE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w3(e)}}catch{}return new S3},Ds=lE("localStorage"),T3=lE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Ug("@firebase/database"),E3=function(){let t=1;return function(){return t++}}(),cE=function(t){const e=uM(t),n=new rM;n.update(e);const i=n.digest();return jg.encodeByteArray(i)},El=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=El.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let Eo=null,Wv=!0;const N3=function(t,e){D(!0,"Can't turn on custom loggers persistently."),$a.logLevel=Se.VERBOSE,Eo=$a.log.bind($a)},Tt=function(...t){if(Wv===!0&&(Wv=!1,Eo===null&&T3.get("logging_enabled")===!0&&N3()),Eo){const e=El.apply(null,t);Eo(e)}},Nl=function(t){return function(...e){Tt(t,...e)}},Om=function(...t){const e="FIREBASE INTERNAL ERROR: "+El(...t);$a.error(e)},_i=function(...t){const e=`FIREBASE FATAL ERROR: ${El(...t)}`;throw $a.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+El(...t);$a.warn(e)},C3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ur="[MIN_NAME]",Xs="[MAX_NAME]",Cr=function(t,e){if(t===e)return 0;if(t===ur||e===Xs)return-1;if(e===ur||t===Xs)return 1;{const n=Kv(t),i=Kv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},R3=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},Bg=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=Bg(t[e[i]]);return n+="}",n},dE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hE=function(t){D(!uE(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,o,l;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=o+i,r=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(l=e;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(s?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},I3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},j3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function O3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const k3=new RegExp("^-?(0*)\\d{1,10}$"),D3=-2147483648,M3=2147483647,Kv=function(t){if(k3.test(t)){const e=Number(t);if(e>=D3&&e<=M3)return e}return null},Ar=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},L3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},No=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class Dc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="5",fE="v",mE="s",pE="r",gE="f",yE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xE="ls",vE="p",km="ac",bE="websocket",_E="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,i,s,a=!1,r="",o=!1,l=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ds.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ds.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function z3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function SE(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let i;if(e===bE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_E)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);z3(t)&&(n.ns=t.namespace);const s=[];return Gt(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.counters_={}}incrementCounter(e,n=1){Ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return BD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh={},$h={};function Fg(t){const e=t.toString();return Gh[e]||(Gh[e]=new V3),Gh[e]}function B3(t,e){const n=t.toString();return $h[n]||($h[n]=e()),$h[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Ar(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="start",F3="close",G3="pLPCommand",$3="pRTLPCB",TE="id",EE="pw",NE="ser",q3="cb",Y3="seg",W3="ts",K3="d",X3="dframe",CE=1870,AE=30,Q3=CE-AE,Z3=25e3,J3=3e4;class Da{constructor(e,n,i,s,a,r,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nl(e),this.stats_=Fg(n),this.urlFn=l=>(this.appCheckToken&&(l[km]=this.appCheckToken),SE(n,_E,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new H3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(J3)),A3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gg((...a)=>{const[r,o,l,u,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Xv)this.id=o,this.password=l;else if(r===F3)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[Xv]="t",i[NE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[q3]=this.scriptTagHolder.uniqueCallbackIdentifier),i[fE]=Hg,this.transportSessionId&&(i[mE]=this.transportSessionId),this.lastSessionId&&(i[xE]=this.lastSessionId),this.applicationId&&(i[vE]=this.applicationId),this.appCheckToken&&(i[km]=this.appCheckToken),typeof location<"u"&&location.hostname&&yE.test(location.hostname)&&(i[pE]=gE);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Da.forceAllow_=!0}static forceDisallow(){Da.forceDisallow_=!0}static isAvailable(){return Da.forceAllow_?!0:!Da.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!I3()&&!j3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=WT(n),s=dE(i,Q3);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[X3]="t",i[TE]=e,i[EE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gg{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=E3(),window[G3+this.uniqueCallbackIdentifier]=e,window[$3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gg.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(o){Tt("frame writing exception"),o.stack&&Tt(o.stack),Tt(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Tt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[TE]=this.myID,e[EE]=this.myPW,e[NE]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+AE+i.length<=CE;){const r=this.pendingSegs.shift();i=i+"&"+Y3+s+"="+r.seg+"&"+W3+s+"="+r.ts+"&"+K3+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Z3)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Tt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=16384,t4=45e3;let Nu=null;typeof MozWebSocket<"u"?Nu=MozWebSocket:typeof WebSocket<"u"&&(Nu=WebSocket);class An{constructor(e,n,i,s,a,r,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nl(this.connId),this.stats_=Fg(n),this.connURL=An.connectionURL_(n,r,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[fE]=Hg,typeof location<"u"&&location.hostname&&yE.test(location.hostname)&&(r[pE]=gE),n&&(r[mE]=n),i&&(r[xE]=i),s&&(r[km]=s),a&&(r[vE]=a),SE(e,bE,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ds.set("previous_websocket_failure",!0);try{let i;ZD(),this.mySock=new Nu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){An.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Nu!==null&&!An.forceDisallow_}static previouslyFailed(){return Ds.isInMemoryStorage||Ds.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ds.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Qo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=dE(n,e4);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(t4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}An.responsesRequiredToBeHealthy=2;An.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static get ALL_TRANSPORTS(){return[Da,An]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=An&&An.isAvailable();let i=n&&!An.previouslyFailed();if(e.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[An];else{const s=this.transports_=[];for(const a of Jo.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Jo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=6e4,i4=5e3,s4=10*1024,a4=100*1024,qh="t",Qv="d",r4="s",Zv="r",o4="e",Jv="o",eb="a",tb="n",nb="p",l4="h";class c4{constructor(e,n,i,s,a,r,o,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nl("c:"+this.id+":"),this.transportManager_=new Jo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=No(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>a4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>s4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qh in e){const n=e[qh];n===eb?this.upgradeIfSecondaryHealthy_():n===Zv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:eb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(qh,e);if(Qv in e){const i=e[Qv];if(n===l4){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===tb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===r4?this.onConnectionShutdown_(i):n===Zv?this.onReset_(i):n===o4?Om("Server Error: "+i):n===Jv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Om("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hg!==i&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),No(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(n4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):No(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(i4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends IE{static getInstance(){return new Cu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=32,sb=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new Ae("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ps(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function jE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function u4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function OE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function st(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ae)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ae(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=re(t),i=re(e);if(n===null)return e;if(n===i)return Pt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $g(t,e){if(ps(t)!==ps(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function In(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ps(t)>ps(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class d4{constructor(e,n){this.errorPrefix_=n,this.parts_=OE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yd(this.parts_[i]);DE(this)}}function h4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yd(e),DE(t)}function f4(t){const e=t.parts_.pop();t.byteLength_-=yd(e),t.parts_.length>0&&(t.byteLength_-=1)}function DE(t){if(t.byteLength_>sb)throw new Error(t.errorPrefix_+"has a key path longer than "+sb+" bytes ("+t.byteLength_+").");if(t.parts_.length>ib)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ib+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends IE{static getInstance(){return new qg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=1e3,m4=60*5*1e3,ab=30*1e3,p4=1.3,g4=3e4,y4="server_kill",rb=3;class fi extends RE{constructor(e,n,i,s,a,r,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=fi.nextPersistentConnectionId_++,this.log_=Nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gr,this.maxReconnectDelay_=m4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(dt(a)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new gd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const o=r.d;r.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,o=>{const l=o.d,u=o.s;fi.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ni(e,"w")){const i=cr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ab)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Om("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>g4&&(this.reconnectDelay_=Gr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*p4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+fi.nextConnectionId_++,a=this.lastSessionId;let r=!1,o=null;const l=function(){o?o.close():(r=!0,i())},u=function(f){D(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);r?Tt("getToken() completed but was canceled"):(Tt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new c4(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{Ht(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(y4)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&Ht(f),l())}}}interrupt(e){Tt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nm(this.interruptReasons_)&&(this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Bg(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ae(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Tt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rb&&(this.reconnectDelay_=ab,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Tt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+oE.replace(/\./g,"-")]=1,Mg()?e["framework.cordova"]=1:tE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cu.getInstance().currentlyOnline();return Nm(this.interruptReasons_)&&e}}fi.nextPersistentConnectionId_=0;fi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new oe(ur,e),s=new oe(ur,n);return this.compare(i,s)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;class ME extends vd{static get __EMPTY_NODE(){return rc}static set __EMPTY_NODE(e){rc=e}compare(e,n){return Cr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Xs,rc)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,rc)}toString(){return".key"}}const qa=new ME;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??ct.RED,this.left=s??zt.EMPTY_NODE,this.right=a??zt.EMPTY_NODE}copy(e,n,i,s,a){return new ct(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class x4{copy(e,n,i,s,a){return this}insert(e,n,i){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zt{constructor(e,n=zt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new zt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oc(this.root_,null,this.comparator_,!0,e)}}zt.EMPTY_NODE=new x4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){return Cr(t.name,e.name)}function Yg(t,e){return Cr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;function b4(t){Dm=t}const LE=function(t){return typeof t=="number"?"number:"+hE(t):"string:"+t},UE=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ni(e,".sv"),"Priority must be a string or number.")}else D(t===Dm||t.isEmpty(),"priority of unexpected type.");D(t===Dm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ob;class ot{static set __childrenNodeConstructor(e){ob=e}static get __childrenNodeConstructor(){return ob}constructor(e,n=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:re(e)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=re(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(D(i!==".priority"||ps(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hE(this.value_):e+=this.value_,this.lazyHash_=cE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=ot.VALUE_TYPE_ORDER.indexOf(n),a=ot.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+n),D(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PE,zE;function _4(t){PE=t}function w4(t){zE=t}class S4 extends vd{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?Cr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Xs,new ot("[PRIORITY-POST]",zE))}makePost(e,n){const i=PE(e);return new oe(n,new ot("[PRIORITY-POST]",i))}toString(){return".priority"}}const Fe=new S4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=Math.log(2);class E4{constructor(e){const n=a=>parseInt(Math.log(a)/T4,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Au=function(t,e,n,i){t.sort(e);const s=function(l,u){const d=u-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new ct(h,f.node,ct.BLACK,null,null);{const m=parseInt(d/2,10)+l,x=s(l,m),b=s(m+1,u);return f=t[m],h=n?n(f):f,new ct(h,f.node,ct.BLACK,x,b)}},a=function(l){let u=null,d=null,f=t.length;const h=function(x,b){const _=f-x,g=f;f-=x;const p=s(_+1,g),y=t[_],w=n?n(y):y;m(new ct(w,y.node,b,null,p))},m=function(x){u?(u.left=x,u=x):(d=x,u=x)};for(let x=0;x<l.count;++x){const b=l.nextBitIsOne(),_=Math.pow(2,l.count-(x+1));b?h(_,ct.BLACK):(h(_,ct.BLACK),h(_,ct.RED))}return d},r=new E4(t.length),o=a(r);return new zt(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;const ha={};class ri{static get Default(){return D(ha&&Fe,"ChildrenNode.ts has not been loaded"),Yh=Yh||new ri({".priority":ha},{".priority":Fe}),Yh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=cr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof zt?n:null}hasIndex(e){return Ni(this.indexSet_,e.toString())}addIndex(e,n){D(e!==qa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(oe.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let o;s?o=Au(i,e.getCompare()):o=ha;const l=e.toString(),u={...this.indexSet_};u[l]=e;const d={...this.indexes_};return d[l]=o,new ri(d,u)}addToIndexes(e,n){const i=Tu(this.indexes_,(s,a)=>{const r=cr(this.indexSet_,a);if(D(r,"Missing index implementation for "+a),s===ha)if(r.isDefinedOn(e.node)){const o=[],l=n.getIterator(oe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),Au(o,r.getCompare())}else return ha;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new oe(e.name,o))),l.insert(e,e.node)}});return new ri(i,this.indexSet_)}removeFromIndexes(e,n){const i=Tu(this.indexes_,s=>{if(s===ha)return s;{const a=n.get(e.name);return a?s.remove(new oe(e.name,a)):s}});return new ri(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r;class Q{static get EMPTY_NODE(){return $r||($r=new Q(new zt(Yg),null,ri.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UE(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$r}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$r:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new oe(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?$r:this.priorityNode_;return new Q(s,r,a)}}updateChild(e,n){const i=re(e);if(i===null)return n;{D(re(e)!==".priority"||ps(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Re(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(Fe,(r,o)=>{n[r]=o.val(e),i++,a&&Q.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const o in n)r[o]=n[o];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LE(this.getPriority().val())+":"),this.forEachChild(Fe,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":cE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new oe(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,oe.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cl?-1:0}withIndex(e){if(e===qa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Fe),s=n.getIterator(Fe);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===qa?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class N4 extends Q{constructor(){super(new zt(Yg),Q.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Cl=new N4;Object.defineProperties(oe,{MIN:{value:new oe(ur,Q.EMPTY_NODE)},MAX:{value:new oe(Xs,Cl)}});ME.__EMPTY_NODE=Q.EMPTY_NODE;ot.__childrenNodeConstructor=Q;b4(Cl);w4(Cl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=!0;function gt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ot(n,gt(e))}if(!(t instanceof Array)&&C4){const n=[];let i=!1;if(Gt(t,(r,o)=>{if(r.substring(0,1)!=="."){const l=gt(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new oe(r,l)))}}),n.length===0)return Q.EMPTY_NODE;const a=Au(n,v4,r=>r.name,Yg);if(i){const r=Au(n,Fe.getCompare());return new Q(a,gt(e),new ri({".priority":r},{".priority":Fe}))}else return new Q(a,gt(e),ri.Default)}else{let n=Q.EMPTY_NODE;return Gt(t,(i,s)=>{if(Ni(t,i)&&i.substring(0,1)!=="."){const a=gt(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(gt(e))}}_4(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4 extends vd{constructor(e){super(),this.indexPath_=e,D(!de(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?Cr(e.name,n.name):a}makePost(e,n){const i=gt(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,i);return new oe(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Cl);return new oe(Xs,e)}toString(){return OE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4 extends vd{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Cr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const i=gt(e);return new oe(n,i)}toString(){return".value"}}const I4=new R4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){return{type:"value",snapshotNode:t}}function dr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function el(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(s).equals(i.getChild(s))&&o.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(el(n,o)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?r.trackChildChange(dr(n,i)):r.trackChildChange(tl(n,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Fe,(s,a)=>{n.hasChild(s)||i.trackChildChange(el(s,a))}),n.isLeafNode()||n.forEachChild(Fe,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(tl(s,a,r))}else i.trackChildChange(dr(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.indexedFilter_=new Wg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nl.getStartPost_(e),this.endPost_=nl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new oe(n,i))||(i=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const a=this;return n.forEachChild(Fe,(r,o)=>{a.matches(new oe(r,o))||(s=s.updateImmediateChild(r,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new nl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new oe(n,i))||(i=Q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))s=s.updateImmediateChild(o.name,o.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const o=a.getNext();r<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?r++:s=s.updateImmediateChild(o.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(h,m)=>f(m,h)}else r=this.index_.getCompare();const o=e;D(o.numChildren()===this.limit_,"");const l=new oe(n,i),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:r(h,l);if(d&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(tl(n,i,f)),o.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(el(n,f));const b=o.updateImmediateChild(n,Q.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a!=null&&a.trackChildChange(dr(h.name,h.node)),b.updateImmediateChild(h.name,h.node)):b}}else return i.isEmpty()?e:d&&r(u,l)>=0?(a!=null&&(a.trackChildChange(el(u.name,u.node)),a.trackChildChange(dr(n,i))),o.updateImmediateChild(n,i).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Kg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function k4(t){return t.loadsAllData()?new Wg(t.getIndex()):t.hasLimit()?new O4(t):new nl(t)}function lb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===I4?n="$value":t.index_===qa?n="$key":(D(t.index_ instanceof A4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function cb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends RE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Nl("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Ru.getListenId_(e,i),o={};this.listens_[r]=o;const l=lb(e._queryParams);this.restRequest_(a+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,i),cr(this.listens_,r)===o){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const i=Ru.getListenId_(e,n);delete this.listens_[i]}get(e){const n=lb(e._queryParams),i=e._path.toString(),s=new gd;return this.restRequest_(i+".json",n,(a,r)=>{let o=r;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nr(n);this.log_("Sending REST request for "+r);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Qo(o.responseText)}catch{Ht("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&Ht("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(){return{value:null,children:new Map}}function BE(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=re(e);t.children.has(i)||t.children.set(i,Iu());const s=t.children.get(i);e=Re(e),BE(s,e,n)}}function Mm(t,e,n){t.value!==null?n(e,t.value):M4(t,(i,s)=>{const a=new Ae(e.toString()+"/"+i);Mm(s,a,n)})}function M4(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Gt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=10*1e3,U4=30*1e3,P4=5*60*1e3;class z4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new L4(e);const i=ub+(U4-ub)*Math.random();No(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Gt(e,(s,a)=>{a>0&&Ni(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),No(this.reportStats_.bind(this),Math.floor(Math.random()*2*P4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jn||(jn={}));function HE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=jn.ACK_USER_WRITE,this.source=HE()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new ju(ge(),n,this.revert)}}else return D(re(this.path)===e,"operationForChild called for unrelated child."),new ju(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.source=e,this.path=n,this.type=jn.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new il(this.source,ge()):new il(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=jn.OVERWRITE}operationForChild(e){return de(this.path)?new Qs(this.source,ge(),this.snap.getImmediateChild(e)):new Qs(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=jn.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Qs(this.source,ge(),n.value):new sl(this.source,ge(),n)}else return D(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sl(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function B4(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(j4(r.childName,r.snapshotNode))}),qr(t,s,"child_removed",e,i,n),qr(t,s,"child_added",e,i,n),qr(t,s,"child_moved",a,i,n),qr(t,s,"child_changed",e,i,n),qr(t,s,"value",e,i,n),s}function qr(t,e,n,i,s,a){const r=i.filter(o=>o.type===n);r.sort((o,l)=>F4(t,o,l)),r.forEach(o=>{const l=H4(t,o,a);s.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function H4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function F4(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const i=new oe(e.childName,e.snapshotNode),s=new oe(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e){return{eventCache:t,serverCache:e}}function Co(t,e,n,i){return bd(new Zs(e,n,i),t.serverCache)}function FE(t,e,n,i){return bd(t.eventCache,new Zs(e,n,i))}function Lm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;const G4=()=>(Wh||(Wh=new zt(R3)),Wh);class ke{static fromObject(e){let n=new ke(null);return Gt(e,(i,s)=>{n=n.set(new Ae(i),s)}),n}constructor(e,n=G4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(de(e))return null;{const i=re(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Re(e),n);return a!=null?{path:st(new Ae(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=re(e),i=this.children.get(n);return i!==null?i.subtree(Re(e)):new ke(null)}}set(e,n){if(de(e))return new ke(n,this.children);{const i=re(e),a=(this.children.get(i)||new ke(null)).set(Re(e),n),r=this.children.insert(i,a);return new ke(this.value,r)}}remove(e){if(de(e))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const n=re(e),i=this.children.get(n);if(i){const s=i.remove(Re(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ke(null):new ke(this.value,a)}else return this}}get(e){if(de(e))return this.value;{const n=re(e),i=this.children.get(n);return i?i.get(Re(e)):null}}setTree(e,n){if(de(e))return n;{const i=re(e),a=(this.children.get(i)||new ke(null)).setTree(Re(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ke(this.value,r)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(st(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(de(e))return null;{const a=re(e),r=this.children.get(a);return r?r.findOnPath_(Re(e),st(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,i){if(de(e))return this;{this.value&&i(n,this.value);const s=re(e),a=this.children.get(s);return a?a.foreachOnPath_(Re(e),st(n,s),i):new ke(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(st(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new ke(null))}}function Ao(t,e,n){if(de(e))return new kn(new ke(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Pt(s,e);return a=a.updateChild(r,n),new kn(t.writeTree_.set(s,a))}else{const s=new ke(n),a=t.writeTree_.setTree(e,s);return new kn(a)}}}function db(t,e,n){let i=t;return Gt(n,(s,a)=>{i=Ao(i,st(e,s),a)}),i}function hb(t,e){if(de(e))return kn.empty();{const n=t.writeTree_.setTree(e,new ke(null));return new kn(n)}}function Um(t,e){return la(t,e)!=null}function la(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function fb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(i,s)=>{e.push(new oe(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new oe(i,s.value))}),e}function rs(t,e){if(de(e))return t;{const n=la(t,e);return n!=null?new kn(new ke(n)):new kn(t.writeTree_.subtree(e))}}function Pm(t){return t.writeTree_.isEmpty()}function hr(t,e){return GE(ge(),t.writeTree_,e)}function GE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(D(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=GE(st(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(st(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){return WE(e,t)}function $4(t,e,n,i,s){D(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Ao(t.visibleWrites,e,n)),t.lastWriteId=i}function q4(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Y4(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const o=t.allWrites[r];o.visible&&(r>=n&&W4(o,i.path)?s=!1:In(i.path,o.path)&&(a=!0)),r--}if(s){if(a)return K4(t),!0;if(i.snap)t.visibleWrites=hb(t.visibleWrites,i.path);else{const o=i.children;Gt(o,l=>{t.visibleWrites=hb(t.visibleWrites,st(i.path,l))})}return!0}else return!1}function W4(t,e){if(t.snap)return In(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&In(st(t.path,n),e))return!0;return!1}function K4(t){t.visibleWrites=$E(t.allWrites,X4,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function X4(t){return t.visible}function $E(t,e,n){let i=kn.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let o;if(a.snap)In(n,r)?(o=Pt(n,r),i=Ao(i,o,a.snap)):In(r,n)&&(o=Pt(r,n),i=Ao(i,ge(),a.snap.getChild(o)));else if(a.children){if(In(n,r))o=Pt(n,r),i=db(i,o,a.children);else if(In(r,n))if(o=Pt(r,n),de(o))i=db(i,ge(),a.children);else{const l=cr(a.children,re(o));if(l){const u=l.getChild(Re(o));i=Ao(i,ge(),u)}}}else throw Er("WriteRecord should have .snap or .children")}}return i}function qE(t,e,n,i,s){if(!i&&!s){const a=la(t.visibleWrites,e);if(a!=null)return a;{const r=rs(t.visibleWrites,e);if(Pm(r))return n;if(n==null&&!Um(r,ge()))return null;{const o=n||Q.EMPTY_NODE;return hr(r,o)}}}else{const a=rs(t.visibleWrites,e);if(!s&&Pm(a))return n;if(!s&&n==null&&!Um(a,ge()))return null;{const r=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(In(u.path,e)||In(e,u.path))},o=$E(t.allWrites,r,e),l=n||Q.EMPTY_NODE;return hr(o,l)}}}function Q4(t,e,n){let i=Q.EMPTY_NODE;const s=la(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Fe,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=rs(t.visibleWrites,e);return n.forEachChild(Fe,(r,o)=>{const l=hr(rs(a,new Ae(r)),o);i=i.updateImmediateChild(r,l)}),fb(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=rs(t.visibleWrites,e);return fb(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function Z4(t,e,n,i,s){D(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=st(e,n);if(Um(t.visibleWrites,a))return null;{const r=rs(t.visibleWrites,a);return Pm(r)?s.getChild(n):hr(r,s.getChild(n))}}function J4(t,e,n,i){const s=st(e,n),a=la(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=rs(t.visibleWrites,s);return hr(r,i.getNode().getImmediateChild(n))}else return null}function eL(t,e){return la(t.visibleWrites,e)}function tL(t,e,n,i,s,a,r){let o;const l=rs(t.visibleWrites,e),u=la(l,ge());if(u!=null)o=u;else if(n!=null)o=hr(l,n);else return[];if(o=o.withIndex(r),!o.isEmpty()&&!o.isLeafNode()){const d=[],f=r.getCompare(),h=a?o.getReverseIteratorFrom(i,r):o.getIteratorFrom(i,r);let m=h.getNext();for(;m&&d.length<s;)f(m,i)!==0&&d.push(m),m=h.getNext();return d}else return[]}function nL(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function Ou(t,e,n,i){return qE(t.writeTree,t.treePath,e,n,i)}function Jg(t,e){return Q4(t.writeTree,t.treePath,e)}function mb(t,e,n,i){return Z4(t.writeTree,t.treePath,e,n,i)}function ku(t,e){return eL(t.writeTree,st(t.treePath,e))}function iL(t,e,n,i,s,a){return tL(t.writeTree,t.treePath,e,n,i,s,a)}function ey(t,e,n){return J4(t.writeTree,t.treePath,e,n)}function YE(t,e){return WE(st(t.treePath,e),t.writeTree)}function WE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,tl(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,el(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,dr(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,tl(i,e.snapshotNode,s.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const KE=new aL;class ty{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ey(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Js(this.viewCache_),a=iL(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return{filter:t}}function oL(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lL(t,e,n,i,s){const a=new sL;let r,o;if(n.type===jn.OVERWRITE){const u=n;u.source.fromUser?r=zm(t,e,u.path,u.snap,i,s,a):(D(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!de(u.path),r=Du(t,e,u.path,u.snap,i,s,o,a))}else if(n.type===jn.MERGE){const u=n;u.source.fromUser?r=uL(t,e,u.path,u.children,i,s,a):(D(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),r=Vm(t,e,u.path,u.children,i,s,o,a))}else if(n.type===jn.ACK_USER_WRITE){const u=n;u.revert?r=fL(t,e,u.path,i,s,a):r=dL(t,e,u.path,u.affectedTree,i,s,a)}else if(n.type===jn.LISTEN_COMPLETE)r=hL(t,e,n.path,i,a);else throw Er("Unknown operation type: "+n.type);const l=a.getChanges();return cL(e,r,l),{viewCache:r,changes:l}}function cL(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Lm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(VE(Lm(e)))}}function XE(t,e,n,i,s,a){const r=e.eventCache;if(ku(i,n)!=null)return e;{let o,l;if(de(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Js(e),d=u instanceof Q?u:Q.EMPTY_NODE,f=Jg(i,d);o=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const u=Ou(i,Js(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=re(n);if(u===".priority"){D(ps(n)===1,"Can't have a priority with additional path components");const d=r.getNode();l=e.serverCache.getNode();const f=mb(i,n,d,l);f!=null?o=t.filter.updatePriority(d,f):o=r.getNode()}else{const d=Re(n);let f;if(r.isCompleteForChild(u)){l=e.serverCache.getNode();const h=mb(i,n,r.getNode(),l);h!=null?f=r.getNode().getImmediateChild(u).updateChild(d,h):f=r.getNode().getImmediateChild(u)}else f=ey(i,u,e.serverCache);f!=null?o=t.filter.updateChild(r.getNode(),u,f,d,s,a):o=r.getNode()}}return Co(e,o,r.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function Du(t,e,n,i,s,a,r,o){const l=e.serverCache;let u;const d=r?t.filter:t.filter.getIndexedFilter();if(de(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),m,null)}else{const m=re(n);if(!l.isCompleteForPath(n)&&ps(n)>1)return e;const x=Re(n),_=l.getNode().getImmediateChild(m).updateChild(x,i);m===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),m,_,x,KE,null)}const f=FE(e,u,l.isFullyInitialized()||de(n),d.filtersNodes()),h=new ty(s,f,a);return XE(t,f,n,s,h,o)}function zm(t,e,n,i,s,a,r){const o=e.eventCache;let l,u;const d=new ty(s,e,a);if(de(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,r),l=Co(e,u,!0,t.filter.filtersNodes());else{const f=re(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Co(e,u,o.isFullyInitialized(),o.isFiltered());else{const h=Re(n),m=o.getNode().getImmediateChild(f);let x;if(de(h))x=i;else{const b=d.getCompleteChild(f);b!=null?jE(h)===".priority"&&b.getChild(kE(h)).isEmpty()?x=b:x=b.updateChild(h,i):x=Q.EMPTY_NODE}if(m.equals(x))l=e;else{const b=t.filter.updateChild(o.getNode(),f,x,h,d,r);l=Co(e,b,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function pb(t,e){return t.eventCache.isCompleteForChild(e)}function uL(t,e,n,i,s,a,r){let o=e;return i.foreach((l,u)=>{const d=st(n,l);pb(e,re(d))&&(o=zm(t,o,d,u,s,a,r))}),i.foreach((l,u)=>{const d=st(n,l);pb(e,re(d))||(o=zm(t,o,d,u,s,a,r))}),o}function gb(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Vm(t,e,n,i,s,a,r,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;de(n)?u=i:u=new ke(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const m=e.serverCache.getNode().getImmediateChild(f),x=gb(t,m,h);l=Du(t,l,new Ae(f),x,s,a,r,o)}}),u.children.inorderTraversal((f,h)=>{const m=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!m){const x=e.serverCache.getNode().getImmediateChild(f),b=gb(t,x,h);l=Du(t,l,new Ae(f),b,s,a,r,o)}}),l}function dL(t,e,n,i,s,a,r){if(ku(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(de(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Du(t,e,n,l.getNode().getChild(n),s,a,o,r);if(de(n)){let u=new ke(null);return l.getNode().forEachChild(qa,(d,f)=>{u=u.set(new Ae(d),f)}),Vm(t,e,n,u,s,a,o,r)}else return e}else{let u=new ke(null);return i.foreach((d,f)=>{const h=st(n,d);l.isCompleteForPath(h)&&(u=u.set(d,l.getNode().getChild(h)))}),Vm(t,e,n,u,s,a,o,r)}}function hL(t,e,n,i,s){const a=e.serverCache,r=FE(e,a.getNode(),a.isFullyInitialized()||de(n),a.isFiltered());return XE(t,r,n,i,KE,s)}function fL(t,e,n,i,s,a){let r;if(ku(i,n)!=null)return e;{const o=new ty(i,e,s),l=e.eventCache.getNode();let u;if(de(n)||re(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ou(i,Js(e));else{const f=e.serverCache.getNode();D(f instanceof Q,"serverChildren would be complete if leaf node"),d=Jg(i,f)}d=d,u=t.filter.updateFullNode(l,d,a)}else{const d=re(n);let f=ey(i,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=t.filter.updateChild(l,d,f,Re(n),o,a):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,Q.EMPTY_NODE,Re(n),o,a):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=Ou(i,Js(e)),r.isLeafNode()&&(u=t.filter.updateFullNode(u,r,a)))}return r=e.serverCache.isFullyInitialized()||ku(i,ge())!=null,Co(e,u,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Wg(i.getIndex()),a=k4(i);this.processor_=rL(a);const r=n.serverCache,o=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,r.getNode(),null),u=a.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),d=new Zs(l,r.isFullyInitialized(),s.filtersNodes()),f=new Zs(u,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=bd(f,d),this.eventGenerator_=new V4(this.query_)}get query(){return this.query_}}function pL(t){return t.viewCache_.serverCache.getNode()}function gL(t,e){const n=Js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function yb(t){return t.eventRegistrations_.length===0}function yL(t,e){t.eventRegistrations_.push(e)}function xb(t,e,n){const i=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function vb(t,e,n,i){e.type===jn.MERGE&&e.source.queryId!==null&&(D(Js(t.viewCache_),"We should always have a full cache before handling merges"),D(Lm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=lL(t.processor_,s,e,n,i);return oL(t.processor_,a.viewCache),D(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,QE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function xL(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(a,r)=>{i.push(dr(a,r))}),n.isFullyInitialized()&&i.push(VE(n.getNode())),QE(t,i,n.getNode(),e)}function QE(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return B4(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;class vL{constructor(){this.views=new Map}}function bL(t){D(!Mu,"__referenceConstructor has already been defined"),Mu=t}function _L(){return D(Mu,"Reference.ts has not been loaded"),Mu}function wL(t){return t.views.size===0}function ny(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return D(a!=null,"SyncTree gave us an op for an invalid query."),vb(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(vb(r,e,n,i));return a}}function SL(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let o=Ou(n,s?i:null),l=!1;o?l=!0:i instanceof Q?(o=Jg(n,i),l=!1):(o=Q.EMPTY_NODE,l=!1);const u=bd(new Zs(o,l,!1),new Zs(i,s,!1));return new mL(e,u)}return r}function TL(t,e,n,i,s,a){const r=SL(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),yL(r,n),xL(r,n)}function EL(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const o=gs(t);if(s==="default")for(const[l,u]of t.views.entries())r=r.concat(xb(u,n,i)),yb(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=t.views.get(s);l&&(r=r.concat(xb(l,n,i)),yb(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!gs(t)&&a.push(new(_L())(e._repo,e._path)),{removed:a,events:r}}function ZE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ya(t,e){let n=null;for(const i of t.views.values())n=n||gL(i,e);return n}function JE(t,e){if(e._queryParams.loadsAllData())return _d(t);{const i=e._queryIdentifier;return t.views.get(i)}}function eN(t,e){return JE(t,e)!=null}function gs(t){return _d(t)!=null}function _d(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;function NL(t){D(!Lu,"__referenceConstructor has already been defined"),Lu=t}function CL(){return D(Lu,"Reference.ts has not been loaded"),Lu}let AL=1;class bb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ke(null),this.pendingWriteTree_=nL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tN(t,e,n,i,s){return $4(t.pendingWriteTree_,e,n,i,s),s?Al(t,new Qs(HE(),e,n)):[]}function Ms(t,e,n=!1){const i=q4(t.pendingWriteTree_,e);if(Y4(t.pendingWriteTree_,e)){let a=new ke(null);return i.snap!=null?a=a.set(ge(),!0):Gt(i.children,r=>{a=a.set(new Ae(r),!0)}),Al(t,new ju(i.path,a,n))}else return[]}function wd(t,e,n){return Al(t,new Qs(Xg(),e,n))}function RL(t,e,n){const i=ke.fromObject(n);return Al(t,new sl(Xg(),e,i))}function IL(t,e){return Al(t,new il(Xg(),e))}function jL(t,e,n){const i=sy(t,n);if(i){const s=ay(i),a=s.path,r=s.queryId,o=Pt(a,e),l=new il(Qg(r),o);return ry(t,a,l)}else return[]}function Bm(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let o=[];if(r&&(e._queryIdentifier==="default"||eN(r,e))){const l=EL(r,e,n,i);wL(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=l.removed;if(o=l.events,!s){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(h,m)=>gs(m));if(d&&!f){const h=t.syncPointTree_.subtree(a);if(!h.isEmpty()){const m=DL(h);for(let x=0;x<m.length;++x){const b=m[x],_=b.query,g=sN(t,b);t.listenProvider_.startListening(Ro(_),Uu(t,_),g.hashFn,g.onComplete)}}}!f&&u.length>0&&!i&&(d?t.listenProvider_.stopListening(Ro(e),null):u.forEach(h=>{const m=t.queryToTagMap.get(Sd(h));t.listenProvider_.stopListening(Ro(h),m)}))}ML(t,u)}return o}function OL(t,e,n,i){const s=sy(t,i);if(s!=null){const a=ay(s),r=a.path,o=a.queryId,l=Pt(r,e),u=new Qs(Qg(o),l,n);return ry(t,r,u)}else return[]}function kL(t,e,n,i){const s=sy(t,i);if(s){const a=ay(s),r=a.path,o=a.queryId,l=Pt(r,e),u=ke.fromObject(n),d=new sl(Qg(o),l,u);return ry(t,r,d)}else return[]}function _b(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(h,m)=>{const x=Pt(h,s);a=a||Ya(m,x),r=r||gs(m)});let o=t.syncPointTree_.get(s);o?(r=r||gs(o),a=a||Ya(o,ge())):(o=new vL,t.syncPointTree_=t.syncPointTree_.set(s,o));let l;a!=null?l=!0:(l=!1,a=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,x)=>{const b=Ya(x,ge());b&&(a=a.updateImmediateChild(m,b))}));const u=eN(o,e);if(!u&&!e._queryParams.loadsAllData()){const h=Sd(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=LL();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const d=Zg(t.pendingWriteTree_,s);let f=TL(o,e,n,d,a,l);if(!u&&!r&&!i){const h=JE(o,e);f=f.concat(UL(t,e,h))}return f}function iy(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,o)=>{const l=Pt(r,e),u=Ya(o,l);if(u)return u});return qE(s,e,a,n,!0)}function Al(t,e){return nN(e,t.syncPointTree_,null,Zg(t.pendingWriteTree_,ge()))}function nN(t,e,n,i){if(de(t.path))return iN(t,e,n,i);{const s=e.get(ge());n==null&&s!=null&&(n=Ya(s,ge()));let a=[];const r=re(t.path),o=t.operationForChild(r),l=e.children.get(r);if(l&&o){const u=n?n.getImmediateChild(r):null,d=YE(i,r);a=a.concat(nN(o,l,u,d))}return s&&(a=a.concat(ny(s,t,i,n))),a}}function iN(t,e,n,i){const s=e.get(ge());n==null&&s!=null&&(n=Ya(s,ge()));let a=[];return e.children.inorderTraversal((r,o)=>{const l=n?n.getImmediateChild(r):null,u=YE(i,r),d=t.operationForChild(r);d&&(a=a.concat(iN(d,o,l,u)))}),s&&(a=a.concat(ny(s,t,i,n))),a}function sN(t,e){const n=e.query,i=Uu(t,n);return{hashFn:()=>(pL(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?jL(t,n._path,i):IL(t,n._path);{const a=O3(s,n);return Bm(t,n,null,a)}}}}function Uu(t,e){const n=Sd(e);return t.queryToTagMap.get(n)}function Sd(t){return t._path.toString()+"$"+t._queryIdentifier}function sy(t,e){return t.tagToQueryMap.get(e)}function ay(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function ry(t,e,n){const i=t.syncPointTree_.get(e);D(i,"Missing sync point for query tag that we're tracking");const s=Zg(t.pendingWriteTree_,e);return ny(i,n,s,null)}function DL(t){return t.fold((e,n,i)=>{if(n&&gs(n))return[_d(n)];{let s=[];return n&&(s=ZE(n)),Gt(i,(a,r)=>{s=s.concat(r)}),s}})}function Ro(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CL())(t._repo,t._path):t}function ML(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Sd(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function LL(){return AL++}function UL(t,e,n){const i=e._path,s=Uu(t,e),a=sN(t,n),r=t.listenProvider_.startListening(Ro(e),s,a.hashFn,a.onComplete),o=t.syncPointTree_.subtree(i);if(s)D(!gs(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,d,f)=>{if(!de(u)&&d&&gs(d))return[_d(d).query];{let h=[];return d&&(h=h.concat(ZE(d).map(m=>m.query))),Gt(f,(m,x)=>{h=h.concat(x)}),h}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(Ro(d),Uu(t,d))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oy(n)}node(){return this.node_}}class ly{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=st(this.path_,e);return new ly(this.syncTree_,n)}node(){return iy(this.syncTree_,this.path_)}}const PL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wb=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return VL(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},VL=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&D(!1,"Unexpected increment value: "+i);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},BL=function(t,e,n,i){return cy(e,new ly(n,t),i)},aN=function(t,e,n){return cy(t,new oy(e),n)};function cy(t,e,n){const i=t.getPriority().val(),s=wb(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,o=wb(r.getValue(),e,n);return o!==r.getValue()||s!==r.getPriority().val()?new ot(o,gt(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new ot(s))),r.forEachChild(Fe,(o,l)=>{const u=cy(l,e.getImmediateChild(o),n);u!==l&&(a=a.updateImmediateChild(o,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function dy(t,e){let n=e instanceof Ae?e:new Ae(e),i=t,s=re(n);for(;s!==null;){const a=cr(i.node.children,s)||{children:{},childCount:0};i=new uy(s,i,a),n=Re(n),s=re(n)}return i}function Rr(t){return t.node.value}function rN(t,e){t.node.value=e,Hm(t)}function oN(t){return t.node.childCount>0}function HL(t){return Rr(t)===void 0&&!oN(t)}function Td(t,e){Gt(t.node.children,(n,i)=>{e(new uy(n,t,i))})}function lN(t,e,n,i){n&&e(t),Td(t,s=>{lN(s,e,!0)})}function FL(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Rl(t){return new Ae(t.parent===null?t.name:Rl(t.parent)+"/"+t.name)}function Hm(t){t.parent!==null&&GL(t.parent,t.name,t)}function GL(t,e,n){const i=HL(n),s=Ni(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Hm(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Hm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/[\[\].#$\/\u0000-\u001F\u007F]/,qL=/[\[\].#$\u0000-\u001F\u007F]/,Kh=10*1024*1024,cN=function(t){return typeof t=="string"&&t.length!==0&&!$L.test(t)},uN=function(t){return typeof t=="string"&&t.length!==0&&!qL.test(t)},YL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uN(t)},WL=function(t,e,n,i){hy(Lg(t,"value"),e,n)},hy=function(t,e,n){const i=n instanceof Ae?new d4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+js(i));if(typeof e=="function")throw new Error(t+"contains a function "+js(i)+" with contents = "+e.toString());if(uE(e))throw new Error(t+"contains "+e.toString()+" "+js(i));if(typeof e=="string"&&e.length>Kh/3&&yd(e)>Kh)throw new Error(t+"contains a string greater than "+Kh+" utf8 bytes "+js(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Gt(e,(r,o)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!cN(r)))throw new Error(t+" contains an invalid key ("+r+") "+js(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);h4(i,r),hy(t,o,i),f4(i)}),s&&a)throw new Error(t+' contains ".value" child '+js(i)+" in addition to actual children.")}},dN=function(t,e,n,i){if(!uN(n))throw new Error(Lg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KL=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dN(t,e,n)},hN=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},XL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YL(n))throw new Error(Lg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fy(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!$g(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function fN(t,e,n){fy(t,n),mN(t,i=>$g(i,e))}function wi(t,e,n){fy(t,n),mN(t,i=>In(i,e)||In(e,i))}function mN(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(ZL(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ZL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Eo&&Tt("event: "+n.toString()),Ar(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="repo_interrupt",e5=25;class t5{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Iu(),this.transactionQueueTree_=new uy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function n5(t,e,n){if(t.stats_=Fg(t.repoInfo_),t.forceRestClient_||L3())t.server_=new Ru(t.repoInfo_,(i,s,a,r)=>{Sb(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new fi(t.repoInfo_,e,(i,s,a,r)=>{Sb(t,i,s,a,r)},i=>{Tb(t,i)},i=>{s5(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=B3(t.repoInfo_,()=>new z4(t.stats_,t.server_)),t.infoData_=new D4,t.infoSyncTree_=new bb({startListening:(i,s,a,r)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=wd(t.infoSyncTree_,i._path,l),setTimeout(()=>{r("ok")},0)),o},stopListening:()=>{}}),py(t,"connected",!1),t.serverSyncTree_=new bb({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(o,l)=>{const u=r(o,l);wi(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function i5(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function my(t){return PL({timestamp:i5(t)})}function Sb(t,e,n,i,s){t.dataUpdateCount++;const a=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const l=Tu(n,u=>gt(u));r=kL(t.serverSyncTree_,a,l,s)}else{const l=gt(n);r=OL(t.serverSyncTree_,a,l,s)}else if(i){const l=Tu(n,u=>gt(u));r=RL(t.serverSyncTree_,a,l)}else{const l=gt(n);r=wd(t.serverSyncTree_,a,l)}let o=a;r.length>0&&(o=Ed(t,a)),wi(t.eventQueue_,o,r)}function Tb(t,e){py(t,"connected",e),e===!1&&r5(t)}function s5(t,e){Gt(e,(n,i)=>{py(t,n,i)})}function py(t,e,n){const i=new Ae("/.info/"+e),s=gt(n);t.infoData_.updateSnapshot(i,s);const a=wd(t.infoSyncTree_,i,s);wi(t.eventQueue_,i,a)}function pN(t){return t.nextWriteId_++}function a5(t,e,n,i,s){gy(t,"set",{path:e.toString(),value:n,priority:i});const a=my(t),r=gt(n,i),o=iy(t.serverSyncTree_,e),l=aN(r,o,a),u=pN(t),d=tN(t.serverSyncTree_,e,l,u,!0);fy(t.eventQueue_,d),t.server_.put(e.toString(),r.val(!0),(h,m)=>{const x=h==="ok";x||Ht("set at "+e+" failed: "+h);const b=Ms(t.serverSyncTree_,u,!x);wi(t.eventQueue_,e,b),c5(t,s,h,m)});const f=_N(t,e);Ed(t,f),wi(t.eventQueue_,f,[])}function r5(t){gy(t,"onDisconnectEvents");const e=my(t),n=Iu();Mm(t.onDisconnect_,ge(),(s,a)=>{const r=BL(s,a,t.serverSyncTree_,e);BE(n,s,r)});let i=[];Mm(n,ge(),(s,a)=>{i=i.concat(wd(t.serverSyncTree_,s,a));const r=_N(t,s);Ed(t,r)}),t.onDisconnect_=Iu(),wi(t.eventQueue_,ge(),i)}function o5(t,e,n){let i;re(e._path)===".info"?i=_b(t.infoSyncTree_,e,n):i=_b(t.serverSyncTree_,e,n),fN(t.eventQueue_,e._path,i)}function gN(t,e,n){let i;re(e._path)===".info"?i=Bm(t.infoSyncTree_,e,n):i=Bm(t.serverSyncTree_,e,n),fN(t.eventQueue_,e._path,i)}function l5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JL)}function gy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Tt(n,...e)}function c5(t,e,n,i){e&&Ar(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function yN(t,e,n){return iy(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function yy(t,e=t.transactionQueueTree_){if(e||Nd(t,e),Rr(e)){const n=vN(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&u5(t,Rl(e),n)}else oN(e)&&Td(e,n=>{yy(t,n)})}function u5(t,e,n){const i=n.map(u=>u.currentWriteId),s=yN(t,e,i);let a=s;const r=s.hash();for(let u=0;u<n.length;u++){const d=n[u];D(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Pt(e,d.path);a=a.updateChild(f,d.currentOutputSnapshotRaw)}const o=a.val(!0),l=e;t.server_.put(l.toString(),o,u=>{gy(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Ms(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Nd(t,dy(t.transactionQueueTree_,e)),yy(t,t.transactionQueueTree_),wi(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Ar(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ht("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Ed(t,e)}},r)}function Ed(t,e){const n=xN(t,e),i=Rl(n),s=vN(t,n);return d5(t,s,i),i}function d5(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=Pt(n,l.path);let d=!1,f;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=e5)d=!0,f="maxretry",s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0));else{const h=yN(t,l.path,r);l.currentInputSnapshot=h;const m=e[o].update(h.val());if(m!==void 0){hy("transaction failed: Data returned ",m,l.path);let x=gt(m);typeof m=="object"&&m!=null&&Ni(m,".priority")||(x=x.updatePriority(h.getPriority()));const _=l.currentWriteId,g=my(t),p=aN(x,h,g);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=p,l.currentWriteId=pN(t),r.splice(r.indexOf(_),1),s=s.concat(tN(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Ms(t.serverSyncTree_,_,!0))}else d=!0,f="nodata",s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0))}wi(t.eventQueue_,n,s),s=[],d&&(e[o].status=2,function(h){setTimeout(h,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(f),!1,null))))}Nd(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Ar(i[o]);yy(t,t.transactionQueueTree_)}function xN(t,e){let n,i=t.transactionQueueTree_;for(n=re(e);n!==null&&Rr(i)===void 0;)i=dy(i,n),e=Re(e),n=re(e);return i}function vN(t,e){const n=[];return bN(t,e,n),n.sort((i,s)=>i.order-s.order),n}function bN(t,e,n){const i=Rr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Td(e,s=>{bN(t,s,n)})}function Nd(t,e){const n=Rr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,rN(e,n.length>0?n:void 0)}Td(e,i=>{Nd(t,i)})}function _N(t,e){const n=Rl(xN(t,e)),i=dy(t.transactionQueueTree_,e);return FL(i,s=>{Xh(t,s)}),Xh(t,i),lN(i,s=>{Xh(t,s)}),n}function Xh(t,e){const n=Rr(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(D(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(D(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Ms(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?rN(e,void 0):n.length=a+1,wi(t.eventQueue_,Rl(e),s);for(let r=0;r<i.length;r++)Ar(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function f5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const Eb=function(t,e){const n=m5(t),i=n.namespace;n.domain==="firebase.com"&&_i(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&_i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||C3();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wE(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ae(n.pathString)}},m5=function(t){let e="",n="",i="",s="",a="",r=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=h5(t.substring(d,f)));const h=f5(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(r=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),a=i}"ns"in h&&(a=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:r,scheme:o,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class g5{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return de(this._path)?null:jE(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const e=cb(this._queryParams),n=Bg(e);return n==="{}"?"default":n}get _queryObject(){return cb(this._queryParams)}isEqual(e){if(e=We(e),!(e instanceof xy))return!1;const n=this._repo===e._repo,i=$g(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+u4(this._path)}}class _s extends xy{constructor(e,n){super(e,n,new Kg,!1)}get parent(){const e=kE(this._path);return e===null?null:new _s(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),i=Fm(this.ref,e);return new Pu(this._node.getChild(n),i,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Pu(s,Fm(this.ref,i),Fe)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Sn(t,e){return t=We(t),t._checkNotDeleted("ref"),e!==void 0?Fm(t._root,e):t._root}function Fm(t,e){return t=We(t),re(t._path)===null?KL("child","path",e):dN("child","path",e),new _s(t._repo,st(t._path,e))}function Nb(t){return hN("remove",t._path),ga(t,null)}function ga(t,e){t=We(t),hN("set",t._path),WL("set",e,t._path);const n=new gd;return a5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class vy{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new p5("value",this,new Pu(e.snapshotNode,new _s(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new g5(this,e,n):null}matches(e){return e instanceof vy?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function x5(t,e,n,i,s){const a=new y5(n,void 0),r=new vy(a);return o5(t._repo,t,r),()=>gN(t._repo,t,r)}function lc(t,e,n,i){return x5(t,"value",e)}function cc(t,e,n){gN(t._repo,t,null)}bL(_s);NL(_s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="FIREBASE_DATABASE_EMULATOR_HOST",Gm={};let b5=!1;function _5(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=bs(a);t.repoInfo_=new wE(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function w5(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||_i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=Eb(a,s),o=r.repoInfo,l;typeof process<"u"&&$v&&(l=$v[v5]),l?(a=`http://${l}?ns=${o.namespace}`,r=Eb(a,s),o=r.repoInfo):r.repoInfo.secure;const u=new P3(t.name,t.options,e);XL("Invalid Firebase Database URL",r),de(r.path)||_i("Database URL must point to the root of a Firebase Database (not including a child path).");const d=T5(o,t,u,new U3(t,n));return new E5(d,t)}function S5(t,e){const n=Gm[e];(!n||n[t.key]!==t)&&_i(`Database ${e}(${t.repoInfo_}) has already been deleted.`),l5(t),delete n[t.key]}function T5(t,e,n,i){let s=Gm[e.name];s||(s={},Gm[e.name]=s);let a=s[t.toURLString()];return a&&_i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new t5(t,b5,n,i),s[t.toURLString()]=a,a}class E5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(n5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(S5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_i("Cannot call "+e+" on a deleted database.")}}function N5(t=Vg(),e){const n=xd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=QT("database");i&&C5(n,...i)}return n}function C5(t,e,n,i={}){t=We(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ws(i,a.repoInfo_.emulatorOptions))return;_i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&_i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Dc(Dc.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:eE(i.mockUserToken,t.app.options.projectId);r=new Dc(o)}bs(e)&&(kg(e),Dg("Database",!0)),_5(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){_3(oa),Ks(new ms("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return w5(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),$n(qv,Yv,t),$n(qv,Yv,"esm2020")}fi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};A5();function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R5=wN,SN=new Tl("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Ug("@firebase/auth");function I5(t,...e){zu.logLevel<=Se.WARN&&zu.warn(`Auth (${oa}): ${t}`,...e)}function Mc(t,...e){zu.logLevel<=Se.ERROR&&zu.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw by(t,...e)}function qn(t,...e){return by(t,...e)}function TN(t,e,n){const i={...R5(),[e]:n};return new Tl("auth","Firebase",i).create(e,{appName:t.name})}function os(t){return TN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SN.create(t,...e)}function K(t,e,...n){if(!t)throw by(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mc(e),new Error(e)}function Si(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function j5(){return Cb()==="http:"||Cb()==="https:"}function Cb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j5()||XD()||"connection"in navigator)?navigator.onLine:!0}function k5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Mg()||tE()}get(){return O5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L5=new Il(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ws(t,e,n,i,s={}){return NN(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const o=Nr({key:t.config.apiKey,...r}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return KD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bs(t.emulatorConfig.host)&&(u.credentials="include"),EN.fetch()(await CN(t,t.config.apiHost,n,o),u)})}async function NN(t,e,n){t._canInitEmulator=!1;const i={...D5,...e};try{const s=new P5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw uc(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const o=a.ok?r.errorMessage:r.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",r);if(l==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",r);if(l==="USER_DISABLED")throw uc(t,"user-disabled",r);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw TN(t,d,u);Ln(t,d)}}catch(s){if(s instanceof Ei)throw s;Ln(t,"network-request-failed",{message:String(s)})}}async function Cd(t,e,n,i,s={}){const a=await ws(t,e,n,i,s);return"mfaPendingCredential"in a&&Ln(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function CN(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?_y(t.config,s):`${t.config.apiScheme}://${s}`;return M5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}function U5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),L5.get())})}}function uc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qn(t,e,i);return s.customData._tokenResponse=n,s}function Ab(t){return t!==void 0&&t.enterprise!==void 0}class z5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V5(t,e){return ws(t,"GET","/v2/recaptchaConfig",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function Vu(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H5(t,e=!1){const n=We(t),i=await n.getIdToken(e),s=wy(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Io(Qh(s.auth_time)),issuedAtTime:Io(Qh(s.iat)),expirationTime:Io(Qh(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qh(t){return Number(t)*1e3}function wy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Su(n);return s?JSON.parse(s):(Mc("Failed to decode base64 JWT payload"),null)}catch(s){return Mc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Rb(t){const e=wy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ei&&F5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function F5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var f;const e=t.auth,n=await t.getIdToken(),i=await al(t,Vu(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?AN(s.providerUserInfo):[],r=q5(t.providerData,a),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),u=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new qm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $5(t){const e=We(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q5(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function AN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){const n=await NN(t,{},async()=>{const i=Nr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await CN(t,s,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return t.emulatorConfig&&bs(t.emulatorConfig.host)&&(l.credentials="include"),EN.fetch()(r,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W5(t,e){return ws(t,"POST","/v2/accounts:revokeToken",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await Y5(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Wa;return i&&(K(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(K(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new G5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H5(this,e)}reload(){return $5(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await al(this,B5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:x,stsTokenManager:b}=n;K(f&&b,e,"internal-error");const _=Wa.fromJSON(this.name,b);K(typeof f=="string",e,"internal-error"),Ri(i,e.name),Ri(s,e.name),K(typeof h=="boolean",e,"internal-error"),K(typeof m=="boolean",e,"internal-error"),Ri(a,e.name),Ri(r,e.name),Ri(o,e.name),Ri(l,e.name),Ri(u,e.name),Ri(d,e.name);const g=new On({uid:f,auth:e,email:s,emailVerified:h,displayName:i,isAnonymous:m,photoURL:r,phoneNumber:a,tenantId:o,stsTokenManager:_,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(g.providerData=x.map(p=>({...p}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,i=!1){const s=new Wa;s.updateFromServerResponse(n);const a=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Bu(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?AN(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),o=new Wa;o.updateFromIdToken(i);const l=new On({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function li(t){Si(t instanceof Function,"Expected a class definition");let e=Ib.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ib.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RN.type="NONE";const jb=RN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Lc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Lc("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vu(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ka(li(jb),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||li(jb);const r=Lc(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(r);if(d){let f;if(typeof d=="string"){const h=await Vu(e,{idToken:d}).catch(()=>{});if(!h)break;f=await On._fromGetAccountInfoResponse(e,h,d)}else f=On._fromJSON(e,d);u!==a&&(o=f),a=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ka(a,e,i):(a=l[0],o&&await a._set(r,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(r)}catch{}})),new Ka(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MN(e))return"Blackberry";if(LN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||ON(e))&&!e.includes("edge/"))return"Chrome";if(DN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function IN(t=Ot()){return/firefox\//i.test(t)}function jN(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ON(t=Ot()){return/crios\//i.test(t)}function kN(t=Ot()){return/iemobile/i.test(t)}function DN(t=Ot()){return/android/i.test(t)}function MN(t=Ot()){return/blackberry/i.test(t)}function LN(t=Ot()){return/webos/i.test(t)}function Sy(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K5(t=Ot()){var e;return Sy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function X5(){return QD()&&document.documentMode===10}function UN(t=Ot()){return Sy(t)||DN(t)||LN(t)||MN(t)||/windows phone/i.test(t)||kN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e=[]){let n;switch(t){case"Browser":n=Ob(Ot());break;case"Worker":n=`${Ob(Ot())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,o)=>{try{const l=e(a);r(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e={}){return ws(t,"GET","/v2/passwordPolicy",ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=6;class e6{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kb(this),this.idTokenSubscription=new kb(this),this.beforeStateQueue=new Q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vu(this,{idToken:e}),i=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(mn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!r||r===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(os(this));const n=e?We(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z5(this),n=new e6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await W5(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{r=!0,l()}}else{const l=e.addObserver(n);return()=>{r=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&I5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ir(t){return We(t)}class kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=oM(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n6(t){Ad=t}function zN(t){return Ad.loadJS(t)}function i6(){return Ad.recaptchaEnterpriseScript}function s6(){return Ad.gapiScript}function a6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class r6{constructor(){this.enterprise=new o6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class o6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const l6="recaptcha-enterprise",VN="NO_RECAPTCHA";class c6{constructor(e){this.type=l6,this.auth=Ir(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(r,o)=>{V5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new z5(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,r(u.siteKey)}}).catch(l=>{o(l)})})}function s(a,r,o){const l=window.grecaptcha;Ab(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{r(u)}).catch(()=>{r(VN)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r6().execute("siteKey",{action:"verify"}):new Promise((a,r)=>{i(this.auth).then(o=>{if(!n&&Ab(window.grecaptcha))s(o,a,r);else{if(typeof window>"u"){r(new Error("RecaptchaVerifier is only supported in browser"));return}let l=i6();l.length!==0&&(l+=o),zN(l).then(()=>{s(o,a,r)}).catch(u=>{r(u)})}}).catch(o=>{r(o)})})}}async function Db(t,e,n,i=!1,s=!1){const a=new c6(t);let r;if(s)r=VN;else try{r=await a.verify(n)}catch{r=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mb(t,e,n,i,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Db(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Db(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e){const n=xd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ws(a,e??{}))return s;Ln(s,"already-initialized")}return n.initialize({options:e})}function d6(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function h6(t,e,n){const i=Ir(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=BN(e),{host:r,port:o}=f6(e),l=o===null?"":`:${o}`,u={url:`${a}//${r}${l}/`},d=Object.freeze({host:r,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Ws(u,i.config.emulator)&&Ws(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,bs(r)?(kg(`${a}//${r}${l}`),Dg("Auth",!0)):m6()}function BN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f6(t){const e=BN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Lb(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Lb(r)}}}function Lb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function p6(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function x6(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Ty{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mb(e,n,"signInWithPassword",g6);case"emailLink":return y6(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mb(e,i,"signUpPassword",p6);case"emailLink":return x6(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="http://localhost";class ea extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new ea(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:v6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _6(t){const e=to(no(t)).link,n=e?to(no(e)).deep_link_id:null,i=to(no(t)).deep_link_id;return(i?to(no(i)).link:null)||i||n||e||t}class Ey{constructor(e){const n=to(no(e)),i=n.apiKey??null,s=n.oobCode??null,a=b6(n.mode??null);K(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_6(e);try{return new Ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.providerId=jr.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ey.parseLink(n);return K(i,"argument-error"),rl._fromEmailAndCode(e,i.code,i.tenantId)}}jr.PROVIDER_ID="password";jr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends HN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends jl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends jl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends jl{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await On._fromIdTokenResponse(e,i,s),r=Ub(i);return new fr({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Ub(i);return new fr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Ub(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Ei{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Hu(e,n,i,s)}}function FN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(t,a,e,i):a})}async function w6(t,e,n=!1){const i=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(os(i));const s="reauthenticate";try{const a=await al(t,FN(i,s,e,t),n);K(a.idToken,i,"internal-error");const r=wy(a.idToken);K(r,i,"internal-error");const{sub:o}=r;return K(t.uid===o,i,"user-mismatch"),fr._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ln(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){if(mn(t.app))return Promise.reject(os(t));const i="signIn",s=await FN(t,i,e),a=await fr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function T6(t,e){return GN(Ir(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t){const e=Ir(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function N6(t,e,n){return mn(t.app)?Promise.reject(os(t)):T6(We(t),jr.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&E6(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){return We(t).setPersistence(e)}function A6(t,e,n,i){return We(t).onIdTokenChanged(e,n,i)}function R6(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function I6(t,e,n,i){return We(t).onAuthStateChanged(e,n,i)}function j6(t){return We(t).signOut()}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=1e3,k6=10;class qN extends $N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,o,l)=>{this.notifyListeners(r,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);X5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,k6):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qN.type="LOCAL";const YN=qN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN extends $N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WN.type="SESSION";const KN=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Rd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(r).map(async u=>u(n.origin,a)),l=await D6(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((o,l)=>{const u=Ny("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function L6(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function U6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function z6(){return XN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebaseLocalStorageDb",V6=1,Gu="firebaseLocalStorage",ZN="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Id(t,e){return t.transaction([Gu],e?"readwrite":"readonly").objectStore(Gu)}function B6(){const t=indexedDB.deleteDatabase(QN);return new Ol(t).toPromise()}function Ym(){const t=indexedDB.open(QN,V6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gu,{keyPath:ZN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gu)?e(i):(i.close(),await B6(),e(await Ym()))})})}async function Pb(t,e,n){const i=Id(t,!0).put({[ZN]:e,value:n});return new Ol(i).toPromise()}async function H6(t,e){const n=Id(t,!1).get(e),i=await new Ol(n).toPromise();return i===void 0?null:i.value}function zb(t,e){const n=Id(t,!0).delete(e);return new Ol(n).toPromise()}const F6=800,G6=3;class JN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>G6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new M6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await Pb(e,Fu,"1"),await zb(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>H6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Id(s,!1).getAll();return new Ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JN.type="LOCAL";const $6=JN;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e){return e?li(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y6(t){return GN(t.auth,new Cy(t),t.bypassAuthState)}function W6(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),S6(n,new Cy(t),t.bypassAuthState)}async function K6(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),w6(n,new Cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:o}=e;if(r){this.reject(r);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y6;case"linkViaPopup":case"linkViaRedirect":return K6;case"reauthViaPopup":case"reauthViaRedirect":return W6;default:Ln(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=new Il(2e3,1e4);class Ma extends eC{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X6.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="pendingRedirect",Uc=new Map;class Z6 extends eC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const i=await J6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J6(t,e){const n=nU(e),i=tU(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function eU(t,e){Uc.set(t._key(),e)}function tU(t){return li(t._redirectPersistence)}function nU(t){return Lc(Q6,t.config.apiKey,t.name)}async function iU(t,e,n=!1){if(mn(t.app))return Promise.reject(os(t));const i=Ir(t),s=q6(i,e),r=await new Z6(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=10*60*1e3;class aU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!tC(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cU=/^https?/;async function uU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oU(t);for(const n of e)try{if(dU(n))return}catch{}Ln(t,"unauthorized-domain")}function dU(t){const e=$m(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!cU.test(n))return!1;if(lU.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Il(3e4,6e4);function Bb(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fU(t){return new Promise((e,n)=>{var s,a,r;function i(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n(qn(t,"network-request-failed"))},timeout:hU.get()})}if((a=(s=Yn().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=Yn().gapi)!=null&&r.load)i();else{const o=a6("iframefcb");return Yn()[o]=()=>{gapi.load?i():n(qn(t,"network-request-failed"))},zN(`${s6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function mU(t){return Pc=Pc||fU(t),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new Il(5e3,15e3),gU="__/auth/iframe",yU="emulator/auth/iframe",xU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bU(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,yU):`https://${t.config.authDomain}/${gU}`,i={apiKey:e.apiKey,appName:t.name,v:oa},s=vU.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Nr(i).slice(1)}`}async function _U(t){const e=await mU(t),n=Yn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:bU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xU,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=qn(t,"network-request-failed"),o=Yn().setTimeout(()=>{a(r)},pU.get());function l(){Yn().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SU=500,TU=600,EU="_blank",NU="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CU(t,e,n,i=SU,s=TU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...wU,width:i.toString(),height:s.toString(),top:a,left:r},u=Ot().toLowerCase();n&&(o=ON(u)?EU:n),IN(u)&&(e=e||NU,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,x])=>`${h}${m}=${x},`,"");if(K5(u)&&o!=="_self")return AU(e||"",o),new Hb(null);const f=window.open(e||"",o,d);K(f,t,"popup-blocked");try{f.focus()}catch{}return new Hb(f)}function AU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="__/auth/handler",IU="emulator/auth/handler",jU=encodeURIComponent("fac");async function Fb(t,e,n,i,s,a){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oa,eventId:s};if(e instanceof HN){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Nm(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))r[d]=f}if(e instanceof jl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(r.scopes=d.join(","))}t.tenantId&&(r.tid=t.tenantId);const o=r;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${jU}=${encodeURIComponent(l)}`:"";return`${OU(t)}?${Nr(o).slice(1)}${u}`}function OU({config:t}){return t.emulator?_y(t,IU):`https://${t.authDomain}/${RU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class kU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KN,this._completeRedirectFn=iU,this._overrideRedirectResult=eU}async _openPopup(e,n,i,s){var r;Si((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Fb(e,n,i,$m(),s);return CU(e,a,Ny())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Fb(e,n,i,$m(),s);return L6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _U(e),i=new aU(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zh,{type:Zh},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Zh];a!==void 0&&n(!!a),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UN()||jN()||Sy()}}const DU=kU;var Gb="@firebase/auth",$b="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){Ks(new ms("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:o}=i.options;K(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PN(t)},u=new t6(i,s,a,l);return d6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ks(new ms("auth-internal",e=>{const n=Ir(e.getProvider("auth").getImmediate());return(i=>new MU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(Gb,$b,LU(t)),$n(Gb,$b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=5*60,zU=JT("authIdTokenMaxAge")||PU;let qb=null;const VU=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zU)return;const s=n==null?void 0:n.token;qb!==s&&(qb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BU(t=Vg()){const e=xd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u6(t,{popupRedirectResolver:DU,persistence:[$6,YN,KN]}),i=JT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=VU(a.toString());R6(n,r,()=>r(n.currentUser)),A6(n,o=>r(o))}}const s=XT("auth");return s&&h6(n,`http://${s}`),n}function HU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}n6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=qn("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",HU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");const nC={apiKey:"AIzaSyC9LA_PFA6KZ7s8IlQdJuolA0gaBm8kgNI",authDomain:"simply-louie.firebaseapp.com",databaseURL:"https://simply-louie-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"simply-louie",storageBucket:"simply-louie.firebasestorage.app",messagingSenderId:"822487405638",appId:"1:822487405638:web:f72ec1e2a915e470266647"},iC=zg(nC),Tn=N5(iC),io=BU(iC);C6(io,YN);const Jh={login:async(t,e)=>(await N6(io,t,e)).user,logout:async()=>{await j6(io)},getCurrentUser:()=>io.currentUser,onAuthStateChange:t=>I6(io,t)},Nt={saveRSVP:async t=>{const e=Sn(Tn,`rsvps/${t.id}`);await ga(e,t)},subscribeToRSVPs:t=>{const e=Sn(Tn,"rsvps");return lc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>cc(e)},deleteRSVP:async t=>{const e=Sn(Tn,`rsvps/${t}`);await Nb(e)},updateContent:async t=>{const e=Sn(Tn,"content");await ga(e,t)},subscribeToContent:t=>{const e=Sn(Tn,"content");return lc(e,n=>{const i=n.val();i&&t(i)}),()=>cc(e)},saveNote:async t=>{const e=Sn(Tn,`notes/${t.id}`);await ga(e,t)},deleteNote:async t=>{const e=Sn(Tn,`notes/${t}`);await ga(e,null)},subscribeToNotes:t=>{const e=Sn(Tn,"notes");return lc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>cc(e)},saveGuestbookEntry:async t=>{const e=Sn(Tn,`guestbook/${t.id}`);await ga(e,t)},deleteGuestbookEntry:async t=>{const e=Sn(Tn,`guestbook/${t}`);await Nb(e)},subscribeToGuestbook:t=>{const e=Sn(Tn,"guestbook");return lc(e,n=>{const i=n.val(),s=i?Object.values(i):[];s.sort((a,r)=>new Date(r.date).getTime()-new Date(a.date).getTime()),t(s)}),()=>cc(e)}},FU=({isDarkMode:t})=>{const[e,n]=E.useState([]),[i,s]=E.useState(""),[a,r]=E.useState(""),[o,l]=E.useState(!1),[u,d]=E.useState(!1);E.useEffect(()=>{const h=Nt.subscribeToGuestbook(n);return()=>h()},[]);const f=async h=>{if(h.preventDefault(),!i||!a)return;l(!0);const m={id:Date.now().toString(),name:i,message:a,date:new Date().toISOString(),isApproved:!0};try{await Nt.saveGuestbookEntry(m),s(""),r(""),d(!1)}catch(x){console.error("Error saving guestbook entry:",x)}finally{l(!1)}};return c.jsxs("section",{id:"guestbook",className:"container mx-auto px-6 max-w-5xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Words of Love"}),c.jsx("h2",{className:`text-4xl md:text-5xl font-serif-sc uppercase transition-colors duration-300 ${t?"text-white":"text-gray-800"}`,children:"Guestbook"}),c.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mt-4 mb-8"}),u?c.jsx(k.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:f,className:`max-w-xl mx-auto p-8 border border-gold/10 rounded-sm shadow-xl ${t?"bg-[#262626]":"bg-white"}`,children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("input",{required:!0,type:"text",value:i,onChange:h=>s(h.target.value),placeholder:"Your Name",className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent ${t?"border-gray-700 text-white":"border-gray-100"}`}),c.jsx("textarea",{required:!0,value:a,onChange:h=>r(h.target.value),placeholder:"Your message for the couple...",rows:4,className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent resize-none ${t?"border-gray-700 text-white":"border-gray-100"}`}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gold text-white py-3 rounded-full text-[10px] font-black uppercase tracking-widest disabled:opacity-50",children:o?"Sending...":"Post Message"}),c.jsx("button",{type:"button",onClick:()=>d(!1),className:`px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest border ${t?"border-gray-700 text-gray-400":"border-gray-100 text-gray-400"}`,children:"Cancel"})]})]})}):c.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!0),className:"bg-gold text-white px-8 py-3 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Leave a Message"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.jsx(Be,{mode:"popLayout",children:e.map(h=>c.jsxs(k.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`p-8 rounded-sm border-l-4 border-gold shadow-sm transition-all hover:shadow-md ${t?"bg-[#262626]":"bg-gold/5"}`,children:[c.jsxs("p",{className:`text-sm italic mb-6 leading-relaxed font-body ${t?"text-gray-300":"text-gray-700"}`,children:['"',h.message,'"']}),c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-serif text-gold text-lg",children:h.name}),c.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold",children:new Date(h.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]}),h.reaction==="heart"?c.jsxs(k.div,{initial:{scale:0},animate:{scale:1},className:"flex flex-col items-center gap-1",children:[c.jsx("i",{className:"fa-solid fa-heart text-red-500 text-xl drop-shadow-[0_0_8px_rgba(239,68,68,0.4)] animate-pulse"}),c.jsx("span",{className:"text-[8px] font-black uppercase tracking-tighter text-red-500/80",children:"Loved"})]}):c.jsx("i",{className:"fa-solid fa-quote-right text-gold/20 text-2xl"})]}),h.reply&&c.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-6 p-4 rounded-sm border-l-2 border-gold/40 relative group ${t?"bg-black/20":"bg-white"}`,children:[c.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-gold rounded-full flex items-center justify-center shadow-sm",children:c.jsx("i",{className:"fa-solid fa-crown text-[10px] text-white"})}),c.jsx("div",{className:"text-gold text-[8px] font-black uppercase tracking-widest mb-1 pl-2",children:"The Couple's Reply"}),c.jsxs("p",{className:`text-xs italic font-body ${t?"text-gray-400":"text-gray-600"}`,children:['"',h.reply,'"']})]})]},h.id))})}),e.length===0&&!u&&c.jsxs("div",{className:"text-center py-20 opacity-30",children:[c.jsx("i",{className:"fa-solid fa-feather-pointed text-4xl text-gold mb-4"}),c.jsx("p",{className:"text-sm italic uppercase tracking-widest",children:"No messages yet. Be the first!"})]})]})},ef=({children:t,id:e})=>{const n=E.useRef(null),i=kD(n,{once:!0,margin:"-100px"});return c.jsx(k.section,{ref:n,id:e,initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:"easeOut"},children:t})},GU=({src:t,index:e,setSelectedImageIndex:n})=>{const[i,s]=E.useState(!1),[a,r]=E.useState(!1);return c.jsxs(k.div,{whileHover:{y:-5,scale:1.02},onClick:()=>!a&&n(e),className:`aspect-square overflow-hidden relative shadow-lg rounded-sm bg-gray-100 ${a?"cursor-not-allowed":"cursor-pointer"}`,children:[!i&&!a&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 animate-shimmer",style:{backgroundSize:"200% 100%"}}),a?c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 text-gray-400",children:[c.jsx("i",{className:"fa-solid fa-image-slash text-3xl mb-2"}),c.jsx("span",{className:"text-xs",children:"Image unavailable"})]}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:t,alt:`Gallery ${e}`,className:`w-full h-full object-cover transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onError:()=>r(!0),loading:"lazy"}),c.jsx("div",{className:"absolute inset-0 bg-gold/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:c.jsx("i",{className:"fa-solid fa-expand text-white text-2xl"})})]})]})},$U=({content:t,isDarkMode:e})=>{const[n,i]=E.useState(null);E.useEffect(()=>{const r=o=>{n!==null&&(o.key==="Escape"&&i(null),o.key==="ArrowRight"&&s(),o.key==="ArrowLeft"&&a())};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n]);const s=()=>{n!==null&&i((n+1)%t.galleryImages.length)},a=()=>{n!==null&&i((n-1+t.galleryImages.length)%t.galleryImages.length)};return c.jsxs("div",{className:"space-y-24",children:[c.jsx(ef,{id:"story",children:c.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:c.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[c.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Chapter One"}),c.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Story"}),c.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mb-10"}),c.jsx("p",{className:`text-lg md:text-xl leading-relaxed font-light ${e?"text-gray-300":"text-gray-700"}`,style:{whiteSpace:"pre-line"},children:t.ourStory})]})})}),c.jsx(ef,{id:"timeline",children:c.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:c.jsxs("div",{className:"container mx-auto max-w-5xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Grand Affair"}),c.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Timeline"}),c.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-px bg-gold/20"}),t.timelineItems&&t.timelineItems.map((r,o)=>c.jsxs(k.div,{initial:{opacity:0,x:o%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:o*.1},className:`relative flex items-center mb-16 ${o%2===0?"md:flex-row-reverse md:text-left":"md:flex-row md:text-right"}`,children:[c.jsx("div",{className:"w-full md:w-5/12 px-6",children:c.jsxs("div",{className:`p-6 rounded-lg border ${e?"bg-[#1a1a1a] border-gold/20":"bg-champagne/10 border-gold/30"} backdrop-blur-sm`,children:[c.jsx("span",{className:"text-gold text-xs uppercase tracking-widest font-bold font-body block mb-2",children:r.time}),c.jsx("h3",{className:`text-2xl font-cursive mb-2 ${e?"text-white":"text-gray-800"}`,children:r.event}),c.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.description})]})}),c.jsx("div",{className:`w-4 h-4 rounded-full bg-gold border-4 absolute left-1/2 transform -translate-x-1/2 z-10 ${e?"border-[#262626]":"border-white"}`}),c.jsx("div",{className:"hidden md:block w-5/12"})]},o))]})]})})}),c.jsx(ef,{id:"gallery",children:c.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:c.jsxs("div",{className:"container mx-auto max-w-6xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Captured Moments"}),c.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Gallery"}),c.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.galleryImages.map((r,o)=>c.jsx(GU,{src:r,index:o,setSelectedImageIndex:i},o))}),t.googlePhotosLink&&c.jsx("div",{className:"text-center mt-12",children:t.googlePhotosLinkEnabled!==!1?c.jsxs("a",{href:t.googlePhotosLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gold text-white px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 transition-all",children:[c.jsx("i",{className:"fa-brands fa-google mr-2"}),"View Shared Album"]}):c.jsxs(k.button,{whileTap:{x:[-10,10,-10,10,0]},transition:{duration:.4},className:"inline-block bg-gray-400 text-gray-600 px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg cursor-not-allowed opacity-60",title:"Album is currently locked",children:[c.jsx("i",{className:"fa-solid fa-lock mr-2"}),"Shared Album Locked"]})})]})})}),c.jsx(FU,{isDarkMode:e}),c.jsx(Be,{children:n!==null&&c.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(null),className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4",children:[c.jsx("button",{onClick:r=>{r.stopPropagation(),i(null)},className:"absolute top-4 right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:c.jsx("i",{className:"fa-solid fa-xmark"})}),c.jsx("button",{onClick:r=>{r.stopPropagation(),a()},className:"absolute left-4 text-white text-4xl hover:text-gold transition-colors z-10",children:c.jsx("i",{className:"fa-solid fa-chevron-left"})}),c.jsx("button",{onClick:r=>{r.stopPropagation(),s()},className:"absolute right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:c.jsx("i",{className:"fa-solid fa-chevron-right"})}),c.jsx("img",{src:t.galleryImages[n],alt:`Gallery ${n}`,className:"max-w-full max-h-full object-contain",onClick:r=>r.stopPropagation()})]})})]})},qU=({onAddRSVP:t,isDarkMode:e})=>{const[n,i]=E.useState({name:"",email:"",status:ee.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),[s,a]=E.useState({}),[r,o]=E.useState(!1),l=h=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h),u=()=>{const m=Date.now()+3e3,x={startVelocity:30,spread:360,ticks:60,zIndex:0},b=(g,p)=>Math.random()*(p-g)+g,_=setInterval(function(){const g=m-Date.now();if(g<=0)return clearInterval(_);const p=50*(g/3e3),y=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Ga({...x,particleCount:p,origin:{x:b(.1,.3),y:Math.random()-.2},colors:y}),Ga({...x,particleCount:p,origin:{x:b(.7,.9),y:Math.random()-.2},colors:y})},250);Ga({particleCount:150,spread:70,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},d=h=>{h.preventDefault();const m={};if(n.name.trim().length<3&&(m.name="Please enter your full name (minimum 3 characters)."),n.status===ee.UNDECIDED&&(l(n.email)||(m.email="Please enter a valid email address.")),n.plusOne&&!n.plusOneName.trim()&&(m.plusOneName="Please enter your guest's name."),Object.keys(m).length>0){a(m);return}const x={id:Date.now().toString(),...n,timestamp:new Date().toISOString()};t(x),o(!0),n.status===ee.ATTENDING&&u()},f=()=>{i({name:"",email:"",status:ee.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),a({}),o(!1)};return c.jsx("div",{className:"container mx-auto px-6 max-w-2xl",children:c.jsx(Be,{mode:"wait",children:r?c.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-16 shadow-[0_50px_100px_rgba(212,175,55,0.2)] border border-gold/30 text-center rounded-sm relative overflow-hidden ${e?"bg-[#262626]":"bg-white"}`,children:[c.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-24 h-24 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner border border-gold/20",children:c.jsx("i",{className:"fa-solid fa-crown text-gold text-4xl"})}),c.jsx("h2",{className:`text-4xl font-serif mb-6 tracking-tight ${e?"text-white":"text-gray-800"}`,children:"Response Recorded"}),c.jsx("div",{className:"w-12 h-px bg-gold mx-auto mb-8"}),c.jsx("p",{className:"text-gray-500 mb-10 leading-relaxed font-light italic max-w-sm mx-auto font-body",children:n.status===ee.ATTENDING?"We are delighted to have you join us. Your seat in the Grand Ballroom has been reserved with honor.":n.status===ee.NOT_ATTENDING?"We are sorry you can't make it. Your well wishes are deeply appreciated and will be shared with the couple.":"We've recorded your status as undecided. We'll be in touch soon to confirm your attendance!"}),c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gold font-black flex items-center gap-3 font-body",children:[c.jsx("span",{className:"w-2 h-2 bg-gold rounded-full animate-ping"}),"Invitation Status Updated"]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-gold text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body",children:"Enter Portal"}),c.jsxs("a",{href:"https://calendar.google.com/calendar/render?action=TEMPLATE&text=Florie+%26+Louie%27s+Wedding&dates=20260704T150000Z/20260704T230000Z&details=A+Celebration+of+Love&location=Archdiocesan+Shrine+of+St.+Therese,+Cebu+City",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body flex items-center gap-2",children:[c.jsx("i",{className:"fa-brands fa-google"})," Add to Calendar"]}),c.jsx("button",{onClick:f,className:"bg-transparent border border-gold/20 text-gold px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-gold/5 transition-all font-body",children:"Edit Response"})]})]})]},"success"):c.jsxs(k.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9,filter:"blur(10px)"},className:`p-10 md:p-16 shadow-[0_40px_100px_rgba(0,0,0,0.1)] relative border border-gold/5 rounded-sm overflow-hidden transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:[c.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gold/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Union of Souls"}),c.jsx("h2",{className:`text-4xl md:text-5xl font-serif mb-4 ${e?"text-white":"text-gray-800"}`,children:"Reservation"}),c.jsx("div",{className:"w-12 h-px bg-gold/30 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest italic font-body",children:"Kindly respond by April 15, 2026"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-10",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Guest Full Name"}),c.jsx("input",{required:!0,type:"text",value:n.name,onChange:h=>{i(m=>({...m,name:h.target.value})),s.name&&a(m=>{const x={...m};return delete x.name,x})},className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-lg font-serif bg-transparent placeholder:text-gray-500 ${s.name?"border-red-500/50":e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"e.g. Florie Mae Faciol"}),c.jsx(Be,{children:s.name&&c.jsx(k.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-[9px] font-bold uppercase tracking-widest mt-2",children:s.name})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-4 font-black text-gray-400 font-body",children:"Attendance Selection"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"With Pleasure",value:ee.ATTENDING,icon:"fa-heart"},{label:"With Regret",value:ee.NOT_ATTENDING,icon:"fa-envelope-open"},{label:"Undecided",value:ee.UNDECIDED,icon:"fa-hourglass"}].map(h=>c.jsxs("button",{type:"button",onClick:()=>i(m=>({...m,status:h.value})),className:`flex flex-col items-center justify-center py-6 px-4 border-2 transition-all duration-300 rounded-sm group ${n.status===h.value?"bg-gold border-gold text-white shadow-lg scale-105":e?"bg-[#1a1a1a] border-gray-700 text-gray-400 hover:border-gold/30 hover:text-gold":"bg-white border-gray-50 text-gray-400 hover:border-gold/30 hover:text-gold"}`,children:[c.jsx("i",{className:`fa-solid ${h.icon} mb-3 text-lg ${n.status===h.value?"text-white":"text-gold/30 group-hover:text-gold"}`}),c.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest font-body",children:h.label})]},h.value))})]}),n.status===ee.UNDECIDED&&c.jsxs("div",{className:"group ring-1 ring-gold/5 p-6 rounded-sm bg-gold/[0.02]",children:[c.jsxs("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{required:!0,type:"email",value:n.email,onChange:h=>{i(m=>({...m,email:h.target.value})),s.email&&a(m=>{const x={...m};return delete x.email,x})},className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-sm font-serif bg-transparent placeholder:text-gray-500 ${s.email?"border-red-500/50":e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"your@email.com"}),c.jsx(Be,{children:s.email&&c.jsx(k.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-[9px] font-bold uppercase tracking-widest mt-2",children:s.email})}),c.jsx("p",{className:"text-[9px] text-gray-400 mt-3 italic uppercase tracking-wider opacity-60",children:"Required so we can follow up with you later."})]}),n.status===ee.ATTENDING&&c.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-6",children:[c.jsxs("div",{className:`flex items-center gap-3 p-6 border-l-4 border-gold rounded-sm ${e?"bg-[#1a1a1a]":"bg-gray-50"}`,children:[c.jsx("input",{type:"checkbox",id:"plusOne",checked:n.plusOne,onChange:h=>i(m=>({...m,plusOne:h.target.checked})),className:"accent-gold h-5 w-5 cursor-pointer"}),c.jsx("label",{htmlFor:"plusOne",className:"text-[11px] uppercase tracking-[0.2em] font-bold text-gray-500 cursor-pointer font-body",children:"I will be accompanied by a guest (+1)"})]}),n.plusOne&&c.jsxs(k.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group pl-6",children:[c.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Plus One Name"}),c.jsx("input",{required:!0,type:"text",value:n.plusOneName,onChange:h=>{i(m=>({...m,plusOneName:h.target.value})),s.plusOneName&&a(m=>{const x={...m};return delete x.plusOneName,x})},className:`w-full border-b-2 py-2 focus:border-gold outline-none transition-all text-base font-serif bg-transparent placeholder:text-gray-500 ${s.plusOneName?"border-red-500/50":e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"Companion's full name"}),c.jsx(Be,{children:s.plusOneName&&c.jsx(k.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-red-500 text-[9px] font-bold uppercase tracking-widest mt-2",children:s.plusOneName})})]})]}),n.status===ee.NOT_ATTENDING&&c.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-6 border-l-4 border-gold/30 rounded-sm italic text-gray-400 text-sm font-body ${e?"bg-black/20":"bg-gray-50"}`,children:c.jsx("p",{className:"leading-relaxed",children:`"We'll miss you, but we'll carry your well-wishes in our hearts. Pour a glass for us at home! "`})}),n.status===ee.UNDECIDED&&c.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-6 border-l-4 border-gold/30 rounded-sm italic text-gray-400 text-sm font-body ${e?"bg-black/20":"bg-gray-50"}`,children:c.jsx("p",{className:"leading-relaxed",children:`"Take your time! We'll reach out via email to follow up on your attendance status later. "`})}),c.jsxs("button",{type:"submit",className:"w-full py-6 bg-gold text-white uppercase tracking-[0.5em] font-black hover:bg-[#b8962d] shadow-[0_20px_40px_rgba(212,175,55,0.3)] transition-all transform hover:-translate-y-1 rounded-sm text-xs flex items-center justify-center gap-4 font-body",children:["Submit Response ",c.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})]},"form")})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebasestorage.googleapis.com",aC="storageBucket",YU=2*60*1e3,WU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Ei{constructor(e,n,i=0){super(tf(e),`Firebase Storage: ${n} (${tf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function tf(t){return"storage/"+t}function Ay(){const t="An unknown error occurred, please check the error payload for server response.";return new $e(Ge.UNKNOWN,t)}function KU(t){return new $e(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XU(t){return new $e(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Ge.UNAUTHENTICATED,t)}function ZU(){return new $e(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JU(t){return new $e(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eP(){return new $e(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tP(){return new $e(Ge.CANCELED,"User canceled the upload/download.")}function nP(t){return new $e(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function iP(t){return new $e(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sP(){return new $e(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aC+"' property when initializing the app?")}function aP(){return new $e(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rP(){return new $e(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oP(t){return new $e(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wm(t){return new $e(Ge.INVALID_ARGUMENT,t)}function rC(){return new $e(Ge.APP_DELETED,"The Firebase app was deleted.")}function lP(t){return new $e(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jo(t,e){return new $e(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yr(t){throw new $e(Ge.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=jt.makeFromUrl(e,n)}catch{return new jt(e,"")}if(i.path==="")return i;throw iP(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const r="(/(.*))?$",o=new RegExp("^gs://"+s+r,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${s}/o${h}`,"i"),x={bucket:1,path:3},b=n===sC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${b}/${s}/${_}`,"i"),y=[{regex:o,indices:l,postModify:a},{regex:m,indices:x,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<y.length;w++){const N=y[w],j=N.regex.exec(e);if(j){const A=j[N.indices.bucket];let C=j[N.indices.path];C||(C=""),i=new jt(A,C),N.postModify(i);break}}if(i==null)throw nP(e);return i}}class cP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e,n){let i=1,s=null,a=null,r=!1,o=0;function l(){return o===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(m,l())},_)}function h(){a&&clearTimeout(a)}function m(_,...g){if(u){h();return}if(_){h(),d.call(null,_,...g);return}if(l()||r){h(),d.call(null,_,...g);return}i<64&&(i*=2);let y;o===1?(o=2,y=0):y=(i+Math.random())*1e3,f(y)}let x=!1;function b(_){x||(x=!0,h(),!u&&(s!==null?(_||(o=2),clearTimeout(s),f(0)):_||(o=1)))}return f(0),a=setTimeout(()=>{r=!0,b(!0)},n),b}function dP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){return t!==void 0}function fP(t){return typeof t=="object"&&!Array.isArray(t)}function Ry(t){return typeof t=="string"||t instanceof String}function Yb(t){return Iy()&&t instanceof Blob}function Iy(){return typeof Blob<"u"}function Km(t,e,n,i){if(i<e)throw Wm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Wm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function oC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Hs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hs||(Hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,i,s,a,r,o,l,u,d,f,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=r,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new dc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const r=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(r),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(r),this.pendingConnection_=null;const o=a.getErrorCode()===Hs.NO_ERROR,l=a.getStatus();if(!o||mP(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Hs.ABORT;i(!1,new dc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new dc(u,a))})},n=(i,s)=>{const a=this.resolve_,r=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());hP(l)?a(l):a()}catch(l){r(l)}else if(o!==null){const l=Ay();l.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,l)):r(l)}else if(s.canceled){const l=this.appDelete_?rC():tP();r(l)}else{const l=eP();r(l)}};this.canceled_?n(!1,new dc(!1,null,!0)):this.backoffId_=uP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function gP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bP(t,e,n,i,s,a,r=!0,o=!1){const l=oC(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return xP(d,e),gP(d,n),yP(d,a),vP(d,i),new pP(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wP(...t){const e=_P();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Iy())return new Blob(t);throw new $e(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){if(typeof atob>"u")throw oP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nf{constructor(e,n){this.data=e,this.contentType=n||null}}function EP(t,e){switch(t){case Hn.RAW:return new nf(lC(e));case Hn.BASE64:case Hn.BASE64URL:return new nf(cC(t,e));case Hn.DATA_URL:return new nf(CP(e),AP(e))}throw Ay()}function lC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=i,r=t.charCodeAt(++n);i=65536|(a&1023)<<10|r&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function NP(t){let e;try{e=decodeURIComponent(t)}catch{throw jo(Hn.DATA_URL,"Malformed data URL.")}return lC(e)}function cC(t,e){switch(t){case Hn.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw jo(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw jo(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TP(e)}catch(s){throw s.message.includes("polyfill")?s:jo(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class uC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jo(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=RP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function CP(t){const e=new uC(t);return e.base64?cC(Hn.BASE64,e.rest):NP(e.rest)}function AP(t){return new uC(t).contentType}function RP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){let i=0,s="";Yb(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Yb(this.data_)){const i=this.data_,s=SP(i,e,n);return s===null?null:new Hi(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Hi(i,!0)}}static getBlob(...e){if(Iy()){const n=e.map(i=>i instanceof Hi?i.data_:i);return new Hi(wP.apply(null,n))}else{const n=e.map(r=>Ry(r)?EP(Hn.RAW,r).data:r.data_);let i=0;n.forEach(r=>{i+=r.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(r=>{for(let o=0;o<r.length;o++)s[a++]=r[o]}),new Hi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){let e;try{e=JSON.parse(t)}catch{return null}return fP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jP(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function dC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){return e}class Et{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||OP}}let hc=null;function kP(t){return!Ry(t)||t.length<2?t:dC(t)}function hC(){if(hc)return hc;const t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));function e(a,r){return kP(r)}const n=new Et("name");n.xform=e,t.push(n);function i(a,r){return r!==void 0?Number(r):r}const s=new Et("size");return s.xform=i,t.push(s),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),hc=t,hc}function DP(t,e){function n(){const i=t.bucket,s=t.fullPath,a=new jt(i,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function MP(t,e,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const r=n[a];i[r.local]=r.xform(i,e[r.server])}return DP(i,t),i}function fC(t,e,n){const i=jy(e);return i===null?null:MP(t,i,n)}function LP(t,e,n,i){const s=jy(e);if(s===null||!Ry(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const r=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+r(d)+"/o/"+r(f),m=kl(h,n,i),x=oC({alt:"media",token:u});return m+x})[0]}function UP(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="prefixes",Kb="items";function PP(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Wb])for(const s of n[Wb]){const a=s.replace(/\/$/,""),r=t._makeStorageReference(new jt(e,a));i.prefixes.push(r)}if(n[Kb])for(const s of n[Kb]){const a=t._makeStorageReference(new jt(e,s.name));i.items.push(a)}return i}function zP(t,e,n){const i=jy(n);return i===null?null:PP(t,e,i)}class jd{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){if(!t)throw Ay()}function VP(t,e){function n(i,s){const a=fC(t,s,e);return Oy(a!==null),a}return n}function BP(t,e){function n(i,s){const a=zP(t,e,s);return Oy(a!==null),a}return n}function HP(t,e){function n(i,s){const a=fC(t,s,e);return Oy(a!==null),LP(a,s,t.host,t._protocol)}return n}function ky(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ZU():s=QU():n.getStatus()===402?s=XU(t.bucket):n.getStatus()===403?s=JU(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function mC(t){const e=ky(t);function n(i,s){let a=e(i,s);return i.getStatus()===404&&(a=KU(t.path)),a.serverResponse=s.serverResponse,a}return n}function FP(t,e,n,i,s){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),i&&(a.pageToken=i),s&&(a.maxResults=s);const r=e.bucketOnlyServerUrl(),o=kl(r,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new jd(o,l,BP(t,e.bucket),u);return d.urlParams=a,d.errorHandler=ky(e),d}function GP(t,e,n){const i=e.fullServerUrl(),s=kl(i,t.host,t._protocol),a="GET",r=t.maxOperationRetryTime,o=new jd(s,a,HP(t,n),r);return o.errorHandler=mC(e),o}function $P(t,e){const n=e.fullServerUrl(),i=kl(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function r(l,u){}const o=new jd(i,s,r,a);return o.successCodes=[200,204],o.errorHandler=mC(e),o}function qP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YP(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=qP(null,e)),i}function WP(t,e,n,i,s){const a=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function o(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=o();r["Content-Type"]="multipart/related; boundary="+l;const u=YP(e,i,s),d=UP(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Hi.getBlob(f,i,h);if(m===null)throw aP();const x={name:u.fullPath},b=kl(a,t.host,t._protocol),_="POST",g=t.maxUploadRetryTime,p=new jd(b,_,VP(t,n),g);return p.urlParams=x,p.headers=r,p.body=m.uploadData(),p.errorHandler=ky(e),p}class KP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s,a){if(this.sent_)throw Yr("cannot .send() more than once");if(bs(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const r in a)a.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,a[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XP extends KP{initXhr(){this.xhr_.responseType="text"}}function Od(){return new XP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof jt?this._location=n:this._location=jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dC(this._location.path)}get storage(){return this._service}get parent(){const e=IP(this._location.path);if(e===null)return null;const n=new jt(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lP(e)}}function QP(t,e,n){t._throwIfRoot("uploadBytes");const i=WP(t.storage,t._location,hC(),new Hi(e,!0),n);return t.storage.makeRequestWithTokens(i,Od).then(s=>({metadata:s,ref:t}))}function ZP(t){const e={prefixes:[],items:[]};return pC(t,e).then(()=>e)}async function pC(t,e,n){const s=await JP(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await pC(t,e,s.nextPageToken)}function JP(t,e){e!=null&&typeof e.maxResults=="number"&&Km("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=FP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Od)}function e8(t){t._throwIfRoot("getDownloadURL");const e=GP(t.storage,t._location,hC());return t.storage.makeRequestWithTokens(e,Od).then(n=>{if(n===null)throw rP();return n})}function t8(t){t._throwIfRoot("deleteObject");const e=$P(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Od)}function n8(t,e){const n=jP(t._location.path,e),i=new jt(t._location.bucket,n);return new ta(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t){return/^[A-Za-z]+:\/\//.test(t)}function s8(t,e){return new ta(t,e)}function gC(t,e){if(t instanceof Dy){const n=t;if(n._bucket==null)throw sP();const i=new ta(n,n._bucket);return e!=null?gC(i,e):i}else return e!==void 0?n8(t,e):t}function a8(t,e){if(e&&i8(e)){if(t instanceof Dy)return s8(t,e);throw Wm("To use ref(service, url), the first argument must be a Storage instance.")}else return gC(t,e)}function Xb(t,e){const n=e==null?void 0:e[aC];return n==null?null:jt.makeFromBucketSpec(n,t)}function r8(t,e,n,i={}){t.host=`${e}:${n}`;const s=bs(e);s&&(kg(`https://${t.host}/b`),Dg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:eE(a,t.app.options.projectId))}class Dy{constructor(e,n,i,s,a,r=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=r,this._bucket=null,this._host=sC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=WU,this._requests=new Set,s!=null?this._bucket=jt.makeFromBucketSpec(s,this._host):this._bucket=Xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jt.makeFromBucketSpec(this._url,e):this._bucket=Xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Km("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Km("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new cP(rC());{const r=bP(e,this._appId,i,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const Qb="@firebase/storage",Zb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="storage";function o8(t,e,n){return t=We(t),QP(t,e,n)}function l8(t){return t=We(t),ZP(t)}function Jb(t){return t=We(t),e8(t)}function c8(t){return t=We(t),t8(t)}function sf(t,e){return t=We(t),a8(t,e)}function u8(t=Vg(),e){t=We(t);const i=xd(t,yC).getImmediate({identifier:e}),s=QT("storage");return s&&d8(i,...s),i}function d8(t,e,n,i={}){r8(t,e,n,i)}function h8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Dy(n,i,s,e,oa)}function f8(){Ks(new ms(yC,h8,"PUBLIC").setMultipleInstances(!0)),$n(Qb,Zb,""),$n(Qb,Zb,"esm2020")}f8();const m8=zg(nC),af=u8(m8),e_={uploadGalleryImage:async t=>{const n=`${Date.now()}_${t.name}`,i=sf(af,`gallery/${n}`);return await o8(i,t),await Jb(i)},deleteGalleryImage:async t=>{try{const n=decodeURIComponent(t).match(/\/o\/(.+?)\?/);if(n&&n[1]){const i=n[1],s=sf(af,i);await c8(s)}else throw new Error("Invalid image URL format")}catch(e){throw console.error("Error deleting image:",e),e}},listGalleryImages:async()=>{const t=sf(af,"gallery/"),n=(await l8(t)).items.map(s=>Jb(s));return await Promise.all(n)}},En=({icon:t,title:e,description:n,isDarkMode:i})=>c.jsxs("div",{className:`mb-6 flex items-start gap-4 p-5 rounded-2xl border-l-4 border-gold shadow-sm transition-colors ${i?"bg-black/40 border-gold/50":"bg-gray-50 border-gold"}`,children:[c.jsx("div",{className:"text-gold text-2xl mt-1",children:c.jsx("i",{className:`fa-solid ${t}`})}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm font-bold uppercase tracking-widest font-body ${i?"text-white":"text-gray-800"}`,children:e}),c.jsx("p",{className:`text-xs mt-1 leading-relaxed ${i?"text-gray-400":"text-gray-500"}`,children:n})]})]}),an=({label:t,value:e,onChange:n,placeholder:i,isDarkMode:s})=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-[10px] uppercase font-bold font-body ${s?"text-gray-400":"text-gray-500"}`,children:t}),c.jsx("input",{type:"text",value:e,onChange:n,className:`w-full border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${s?"bg-black/20 border-white/10 text-white focus:border-gold focus:ring-1 focus:ring-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold"}`,placeholder:i})]}),p8=({content:t,onUpdateContent:e,rsvps:n,notes:i,onAddNote:s,onDeleteNote:a,onSendReminder:r,onBatchReminders:o,onDeleteRSVP:l,guestbookEntries:u,onDeleteGuestbookEntry:d,onUpdateGuestbookEntry:f,onClose:h,isDarkMode:m})=>{var My;const[x,b]=E.useState("content"),[_,g]=E.useState(""),[p,y]=E.useState(""),[w,N]=E.useState(!1),[j,A]=E.useState(null),[C,L]=E.useState(null),[I,X]=E.useState(null),[le,tt]=E.useState(""),[Ke,_t]=E.useState("all"),[M,B]=E.useState("name-asc"),[U,ae]=E.useState(new Set),[T,S]=E.useState(null),[P,F]=E.useState(null),[q,Y]=E.useState(null),[te,G]=E.useState(""),[ie,pe]=E.useState(!1),[O,H]=E.useState(0),[W,me]=E.useState(!1),$=E.useMemo(()=>{const v=n.reduce((St,bn)=>St+(bn.status===ee.ATTENDING?1+(bn.plusOne?1:0):0),0),V=n.filter(St=>St.status===ee.ATTENDING).length,J=n.filter(St=>St.status===ee.NOT_ATTENDING).length,mt=n.filter(St=>St.status===ee.UNDECIDED).length,wt=n.filter(St=>St.status===ee.ATTENDING&&St.plusOne).length;return{totalGuests:v,attendingCount:V,declinedCount:J,pendingCount:mt,plusOneCount:wt}},[n]),Ee=E.useMemo(()=>{let v=n.filter(V=>{var wt;const J=V.name.toLowerCase().includes(le.toLowerCase())||((wt=V.email)==null?void 0:wt.toLowerCase().includes(le.toLowerCase()))||!1,mt=Ke==="all"||V.status===Ke;return J&&mt});return v.sort((V,J)=>{switch(M){case"name-asc":return V.name.localeCompare(J.name);case"name-desc":return J.name.localeCompare(V.name);case"recent":return new Date(J.timestamp||0).getTime()-new Date(V.timestamp||0).getTime();case"status":{const mt={[ee.ATTENDING]:0,[ee.UNDECIDED]:1,[ee.NOT_ATTENDING]:2};return mt[V.status]-mt[J.status]}default:return 0}}),v},[n,le,Ke,M]),je=E.useCallback((v,V="success")=>{S({show:!0,message:v,type:V}),setTimeout(()=>S(null),3e3)},[]),qt=E.useCallback(()=>{const v=["Name","Email","Status","Plus One","Notes","Date"],V=Ee.map(bn=>[bn.name,bn.email,bn.status,bn.plusOne?"Yes":"No",bn.notes||"",bn.timestamp||""]),J=[v,...V].map(bn=>bn.map(_C=>`"${_C}"`).join(",")).join(`
`),mt=new Blob([J],{type:"text/csv"}),wt=URL.createObjectURL(mt),St=document.createElement("a");St.href=wt,St.download=`guest-list-${new Date().toISOString().split("T")[0]}.csv`,St.click(),URL.revokeObjectURL(wt),je("Guest list exported successfully!","success")},[Ee,je]),vn=E.useCallback(()=>{U.size===Ee.length?ae(new Set):ae(new Set(Ee.map(v=>v.id)))},[Ee,U]),Pn=E.useCallback(v=>{const V=new Set(U);V.has(v)?V.delete(v):V.add(v),ae(V)},[U]),sn=E.useCallback(()=>{U.size!==0&&confirm(`Delete ${U.size} selected guests?`)&&(U.forEach(v=>l(v)),ae(new Set),je(`${U.size} guests deleted`,"success"))},[U,l,je]),kd=E.useCallback(()=>{if(U.size===0)return;const v=n.filter(V=>U.has(V.id));X({show:!0,recipients:v,subject:"Update: Louie & Florie's Wedding",message:`Hi!

We're reaching out with some updates about our wedding...

Best,
Louie & Florie`})},[U,n]),Ne=(v,V)=>{e({...t,[v]:V})},Or=(v,V,J,mt)=>{const wt=[...t[v]];wt[V]={...wt[V],[J]:mt},Ne(v,wt)},Dl=(v,V)=>{const J=[...t[v]||[],V];Ne(v,J)},Dd=(v,V,J)=>{A({show:!0,field:v,index:V,itemName:J})},Ml=()=>{if(!j)return;const{field:v,index:V}=j,J=t[v];if(Array.isArray(J)){const mt=J.filter((wt,St)=>St!==V);Ne(v,mt)}A(null)},Md=(v,V,J)=>{Dd(v,V,J)},Ld=()=>{P&&(l(P.guestId),je(`${P.guestName} deleted from list`,"success"),F(null))},Ll=()=>{if(!p.trim())return;const v={id:Date.now().toString(),text:p,completed:!1};Ne("checklist",[...t.checklist||[],v]),y("")},Ul=v=>{const V=(t.checklist||[]).map(J=>J.id===v?{...J,completed:!J.completed}:J);Ne("checklist",V)},kr=v=>{const V=(t.checklist||[]).filter(J=>J.id!==v);Ne("checklist",V)},Ud=()=>{N(!0),setTimeout(()=>N(!1),3e3)},Pl=async v=>{if(!(!v||v.length===0)){pe(!0),H(0);try{const V=[];for(let J=0;J<v.length;J++){const mt=v[J];if(!mt.type.startsWith("image/")){je(`${mt.name} is not an image file`,"error");continue}const wt=await e_.uploadGalleryImage(mt);V.push(wt),H((J+1)/v.length*100)}if(V.length>0){const J=[...t.galleryImages||[],...V];Ne("galleryImages",J),je(`Successfully uploaded ${V.length} image(s)!`,"success")}}catch(V){console.error("Upload error:",V),je("Failed to upload images. Please try again.","error")}finally{pe(!1),H(0)}}},Pd=v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?me(!0):v.type==="dragleave"&&me(!1)},vC=v=>{v.preventDefault(),v.stopPropagation(),me(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0&&Pl(v.dataTransfer.files)},bC=async(v,V)=>{try{await e_.deleteGalleryImage(v);const J=t.galleryImages.filter((mt,wt)=>wt!==V);Ne("galleryImages",J),je("Image deleted successfully","success")}catch(J){console.error("Delete error:",J),je("Failed to delete image","error")}},Ci={...t,venues:t.venues||[],socialLinks:Array.isArray(t.socialLinks)?t.socialLinks:[],checklist:t.checklist||[],openingScreen:t.openingScreen||{}};return c.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 backdrop-blur-xl relative overflow-hidden",children:[c.jsx(Be,{children:(T==null?void 0:T.show)&&c.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-24 left-1/2 -translate-x-1/2 px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest ${T.type==="success"?"bg-green-600 text-white":T.type==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:[c.jsx("i",{className:`fa-solid ${T.type==="success"?"fa-circle-check":T.type==="error"?"fa-circle-xmark":"fa-circle-info"}`})," ",T.message]})}),c.jsx(Be,{children:w&&c.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-1/2 -translate-x-1/2 bg-green-600 text-white px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest",children:[c.jsx("i",{className:"fa-solid fa-circle-check"})," Changes Published Successfully"]})}),c.jsx(Be,{children:(j==null?void 0:j.show)&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>A(null),children:c.jsx(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:`${m?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-md w-full shadow-2xl border`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("i",{className:"fa-solid fa-trash-can text-red-500 text-xl md:text-2xl"})}),c.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900 mb-3",children:"Confirm Deletion"}),c.jsx("p",{className:"text-sm md:text-base text-gray-500 mb-2 font-body",children:"Are you sure you want to delete:"}),c.jsxs("p",{className:"text-gold font-bold text-base md:text-lg mb-6 font-body",children:['"',j.itemName,'"']}),c.jsx("p",{className:"text-[10px] md:text-sm text-gray-400 mb-8",children:"This action cannot be undone."}),c.jsxs("div",{className:"flex gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>A(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),c.jsx("button",{onClick:Ml,className:"flex-1 bg-red-500 text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete"})]})]})})})}),c.jsx(Be,{children:(P==null?void 0:P.show)&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>F(null),children:c.jsx(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:`${m?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-md w-full shadow-2xl border`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors",children:c.jsx("i",{className:"fa-solid fa-user-minus text-red-500 text-xl md:text-2xl"})}),c.jsx("h3",{className:`text-xl md:text-2xl font-serif mb-3 transition-colors ${m?"text-white":"text-gray-900"}`,children:"Remove Guest"}),c.jsx("p",{className:`text-sm md:text-base mb-2 font-body transition-colors ${m?"text-gray-400":"text-gray-500"}`,children:"Are you sure you want to remove:"}),c.jsxs("p",{className:"text-gold font-bold text-base md:text-lg mb-6 font-body",children:['"',P.guestName,'"']}),c.jsx("p",{className:`text-[10px] md:text-sm mb-8 transition-colors ${m?"text-gray-500":"text-gray-400"}`,children:"This action will delete their RSVP and cannot be reversed."}),c.jsxs("div",{className:"flex gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>F(null),className:`flex-1 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest transition-all ${m?"bg-white/5 text-gray-300 hover:bg-white/10":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Keep Guest"}),c.jsx("button",{onClick:Ld,className:"flex-1 bg-red-500 text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete Now"})]})]})})})}),c.jsx(Be,{children:(C==null?void 0:C.show)&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>L(null),children:c.jsx(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:`${m?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border`,children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fa-solid fa-pen text-gold text-lg md:text-xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Edit Image URL"}),c.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Image #",C.index+1]})]})]}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx(an,{label:"Image URL",value:C.newUrl,onChange:v=>L({...C,newUrl:v.target.value}),placeholder:"https://images.unsplash.com/..."}),C.newUrl&&C.newUrl!==C.currentUrl&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 md:p-4",children:c.jsxs("p",{className:"text-[10px] md:text-xs text-blue-800 font-body",children:[c.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),'Press "Save Changes" to update the image URL']})})]}),c.jsxs("div",{className:"flex gap-3 md:gap-4",children:[c.jsx("button",{onClick:()=>L(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),c.jsx("button",{onClick:()=>{if(C.newUrl&&C.newUrl.trim()!==""&&C.newUrl!==C.currentUrl){const v=[...Ci.galleryImages];v[C.index]=C.newUrl,Ne("galleryImages",v)}L(null)},disabled:!C.newUrl||C.newUrl.trim()===""||C.newUrl===C.currentUrl,className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 transition-all shadow-lg shadow-gold/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})})}),c.jsx(Be,{children:(I==null?void 0:I.show)&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>X(null),children:c.jsxs(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},onClick:v=>v.stopPropagation(),className:`${m?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border flex flex-col max-h-[90vh]`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 shrink-0",children:[c.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fa-solid fa-paper-plane text-gold text-lg md:text-xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Send Email"}),c.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Targeting ",I.recipients.length," guests"]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6 md:mb-8 overflow-y-auto pr-2",children:[c.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 md:p-4 border border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 cursor-pointer",onClick:()=>{const v=document.getElementById("recipient-list");v&&v.classList.toggle("hidden")},children:[c.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body",children:"Recipients"}),c.jsx("i",{className:"fa-solid fa-chevron-down text-gray-400 text-xs"})]}),c.jsx("div",{id:"recipient-list",className:"hidden flex flex-wrap gap-2 transition-all",children:I.recipients.map(v=>c.jsx("span",{className:`text-[10px] px-2 py-1 rounded border ${m?"bg-white/10 border-white/10 text-gray-300":"bg-white border-gray-200 text-gray-600"}`,children:v.name},v.id))}),I.recipients.length>0&&c.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[I.recipients.slice(0,3).map(v=>v.name).join(", ")," ",I.recipients.length>3&&`+ ${I.recipients.length-3} others`]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Subject Line"}),c.jsx("input",{type:"text",value:I.subject,onChange:v=>X({...I,subject:v.target.value}),className:`w-full border p-3 md:p-4 rounded-xl outline-none transition-all text-sm mb-2 ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Message Body"}),c.jsx("textarea",{rows:6,value:I.message,onChange:v=>X({...I,message:v.target.value}),className:`w-full border p-3 md:p-4 rounded-xl outline-none transition-all text-sm resize-none font-body leading-relaxed ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]})]}),c.jsxs("div",{className:"flex gap-3 md:gap-4 shrink-0",children:[c.jsx("button",{onClick:()=>X(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),c.jsx("button",{onClick:()=>{o(I.recipients.map(v=>v.id)),je(`Sent ${I.recipients.length} emails successfully!`,"success"),X(null)},className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 shadow-lg shadow-gold/30 transition-all",children:"Send"})]})]})})}),c.jsxs("div",{className:`flex flex-col h-full ${m?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:[c.jsxs("div",{className:`backdrop-blur-md border-b p-4 md:p-8 flex justify-between items-center shrink-0 transition-colors ${m?"bg-[#1a1a1a]/80 border-white/5":"bg-white/80 border-gray-100"}`,children:[c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl md:text-3xl font-serif leading-tight ${m?"text-white":"text-gray-900"}`,children:t.adminPanelTitle||"Wedding CMS"}),c.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-gold font-bold mt-1",children:t.adminPanelSubtitle||"Digital Experience Architect"})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsxs("button",{onClick:Ud,className:"bg-gold text-white px-3 md:px-6 py-2 md:py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:scale-105 transition-all flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-cloud-arrow-up"}),c.jsx("span",{className:"hidden sm:inline",children:"Publish"})]}),c.jsx("button",{onClick:h,className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all group ${m?"bg-white/5 hover:bg-white/10":"bg-gray-100 hover:bg-gray-200"}`,children:c.jsx("i",{className:`fa-solid fa-xmark group-hover:text-red-500 transition-colors ${m?"text-gray-500":"text-gray-400"}`})})]})]}),c.jsxs("div",{className:`w-full max-w-[95vw] h-full ${m?"bg-[#1a1a1a]":"bg-[#fcfaf7]"} overflow-hidden flex flex-col md:flex-row transition-colors duration-300`,children:[c.jsxs("div",{className:`hidden md:flex md:w-80 ${m?"bg-[#262626] border-white/5":"bg-white border-gray-100"} border-r p-10 flex-col transition-colors duration-300 shadow-xl z-10`,children:[c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:`text-2xl font-serif mb-2 ${m?"text-white":"text-gray-900"}`,children:"Admin Panel"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),c.jsx("span",{className:`text-[10px] uppercase tracking-widest font-bold ${m?"text-gray-400":"text-gray-500"}`,children:"System Online"})]})]}),c.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"content",label:"Wedding Details",icon:"fa-gem"},{id:"guests",label:"Guest List",icon:"fa-users"},{id:"lists",label:"Venue & Events",icon:"fa-location-dot"},{id:"notes",label:"Checklist & Notes",icon:"fa-clipboard-list"},{id:"guestbook",label:"Guestbook",icon:"fa-book-open"}].map(v=>c.jsxs("button",{onClick:()=>b(v.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl transition-all font-bold text-xs uppercase tracking-widest ${x===v.id?"bg-gold text-white shadow-lg shadow-gold/20 translate-x-1":m?"text-gray-400 hover:bg-white/5 hover:text-gold":"text-gray-500 hover:bg-gray-50 hover:text-gold"}`,children:[c.jsx("i",{className:`fa-solid ${v.icon} w-5`}),v.label]},v.id))}),c.jsxs("button",{onClick:h,className:`mt-10 flex items-center gap-4 px-6 py-4 rounded-2xl transition-all font-bold text-xs uppercase tracking-widest ${m?"text-gray-500 hover:bg-red-500/10 hover:text-red-400":"text-gray-400 hover:bg-red-50 hover:text-red-600"}`,children:[c.jsx("i",{className:"fa-solid fa-right-from-bracket w-5"}),"Logout"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 custom-scrollbar",children:c.jsx("div",{className:"max-w-6xl mx-auto pb-20",children:c.jsxs(Be,{mode:"wait",children:[x==="content"&&c.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-camera-retro",title:"Ceremony Media",description:"Manage your wedding's primary visual and audio assets.",isDarkMode:m}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx(an,{label:"Music URL (MP3)",value:t.musicUrl,onChange:v=>Ne("musicUrl",v.target.value),placeholder:"Direct link to mp3",isDarkMode:m}),c.jsx(an,{label:"Hero Background Image URL",value:t.heroImageUrl,onChange:v=>Ne("heroImageUrl",v.target.value),placeholder:"https://unsplash.com/...",isDarkMode:m})]})]}),c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-gem",title:"Wedding Foundation",description:"Update the key details that anchor your entire website.",isDarkMode:m}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[c.jsx(an,{label:"Hero Section Title",value:t.heroTitle,onChange:v=>Ne("heroTitle",v.target.value),isDarkMode:m}),c.jsx(an,{label:"Seal Initials (SL/FL)",value:(My=t.openingScreen)==null?void 0:My.sealInitials,onChange:v=>Ne("openingScreen",{...t.openingScreen,sealInitials:v.target.value}),isDarkMode:m}),c.jsx(an,{label:"Admin Panel Header Title",value:t.adminPanelTitle,onChange:v=>Ne("adminPanelTitle",v.target.value),isDarkMode:m}),c.jsx(an,{label:"Admin Panel Header Subtitle",value:t.adminPanelSubtitle,onChange:v=>Ne("adminPanelSubtitle",v.target.value),isDarkMode:m})]})]}),c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-music",title:"Background Music",description:"Choose from curated romantic tracks or add your own custom music URL.",isDarkMode:m}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] uppercase font-bold font-body mb-4 block ${m?"text-gray-400":"text-gray-500"}`,children:"Curated Wedding Tracks"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Romantic Piano",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",icon:"fa-piano"},{name:"Classical Romance",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",icon:"fa-violin"},{name:"Acoustic Love",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",icon:"fa-guitar"},{name:"Elegant Strings",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",icon:"fa-music"}].map(v=>c.jsx("button",{onClick:()=>Ne("musicUrl",v.url),className:`p-4 rounded-xl border-2 transition-all text-left group hover:border-gold hover:bg-gold/5 ${t.musicUrl===v.url?"border-gold bg-gold/10":m?"border-white/10 bg-white/5":"border-gray-200 bg-gray-50"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center transition-all ${t.musicUrl===v.url?"bg-gold text-white":m?"bg-white/10 text-gray-400 group-hover:bg-gold/20 group-hover:text-gold":"bg-white text-gray-400 group-hover:bg-gold/20 group-hover:text-gold"}`,children:c.jsx("i",{className:`fa-solid ${v.icon}`})}),c.jsxs("div",{children:[c.jsx("div",{className:`font-bold text-sm ${m?"text-white":"text-gray-800"}`,children:v.name}),c.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:"Preview Available"})]}),t.musicUrl===v.url&&c.jsx("i",{className:"fa-solid fa-check text-gold ml-auto"})]})},v.url))})]}),c.jsxs("div",{children:[c.jsx("label",{className:`text-[10px] uppercase font-bold font-body mb-2 block ${m?"text-gray-400":"text-gray-500"}`,children:"Custom Music URL"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("input",{type:"text",value:t.musicUrl,onChange:v=>Ne("musicUrl",v.target.value),placeholder:"https://your-music-url.com/song.mp3",className:`flex-1 border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${m?"bg-black/20 border-white/10 text-white focus:border-gold focus:ring-1 focus:ring-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold"}`}),c.jsxs("button",{onClick:()=>{if(t.musicUrl){const v=new Audio(t.musicUrl);v.volume=.5,v.play().catch(()=>je("Could not play audio","error")),setTimeout(()=>v.pause(),5e3)}},className:"w-full sm:w-auto px-6 py-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-sm font-bold",title:"Preview 5 seconds",children:[c.jsx("i",{className:"fa-solid fa-play"})," Preview"]})]}),c.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[c.jsx("i",{className:"fa-solid fa-info-circle mr-1"}),"Supports MP3, OGG, and WAV formats. Use a direct file URL."]})]}),t.musicUrl&&c.jsxs("div",{className:`border rounded-xl p-4 md:p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 ${m?"bg-gold/10 border-gold/20":"bg-gold/5 border-gold/20"}`,children:[c.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/20 rounded-full flex items-center justify-center shrink-0",children:c.jsx("i",{className:"fa-solid fa-music text-gold text-lg md:text-xl"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-[10px] uppercase tracking-widest font-bold mb-1 ${m?"text-gray-400":"text-gray-500"}`,children:"Currently Selected"}),c.jsx("div",{className:`text-xs md:text-sm font-mono truncate ${m?"text-gold":"text-gray-800"}`,children:t.musicUrl})]}),c.jsxs("button",{onClick:()=>Ne("musicUrl",""),className:`w-full sm:w-auto px-4 py-2 rounded-lg transition-all text-[10px] font-bold uppercase ${m?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:[c.jsx("i",{className:"fa-solid fa-trash mr-2"}),"Remove"]})]})]})]}),c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-map-marked-alt",title:"Venue Orchestration",description:"Manage ceremony and reception locations.",isDarkMode:m}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[c.jsx(an,{label:"Couple Names",value:t.coupleNames,onChange:v=>Ne("coupleNames",v.target.value),isDarkMode:m}),c.jsx(an,{label:"Public Date String",value:t.weddingDate,onChange:v=>Ne("weddingDate",v.target.value),isDarkMode:m}),c.jsx(an,{label:"Wedding Time",value:t.weddingTime,onChange:v=>Ne("weddingTime",v.target.value),placeholder:"3:00 PM",isDarkMode:m}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:`text-[10px] uppercase font-bold font-body ${m?"text-gray-400":"text-gray-500"}`,children:"Countdown Timer (Asia/Manila Time)"}),c.jsx("input",{type:"datetime-local",value:t.countdownDate.substring(0,16),onChange:v=>Ne("countdownDate",v.target.value),className:`w-full border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(an,{label:"Footer Text",value:t.footerText||"",onChange:v=>Ne("footerText",v.target.value),placeholder:"Handcrafted with love for the celebration of a lifetime",isDarkMode:m})})]})]})]},"content-tab"),x==="lists"&&c.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[c.jsx(En,{icon:"fa-clock",title:"Timeline Orchestrator",description:"Manage the moments of your celebration.",isDarkMode:m}),c.jsx("button",{onClick:()=>Dl("timelineItems",{time:"0:00 PM",event:"New Event",description:"Detail"}),className:"w-full sm:w-auto bg-gold text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Add Event"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Ci.timelineItems.map((v,V)=>c.jsxs("div",{className:`p-4 md:p-6 border rounded-2xl relative group transition-colors ${m?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[c.jsx("button",{onClick:()=>Md("timelineItems",V,v.event||"Event"),className:`absolute top-4 right-4 transition-all opacity-100 sm:opacity-0 group-hover:opacity-100 ${m?"text-white/20 hover:text-red-400":"text-gray-300 hover:text-red-500"}`,children:c.jsx("i",{className:"fa-solid fa-trash-can"})}),c.jsx("input",{value:v.time,onChange:J=>Or("timelineItems",V,"time",J.target.value),className:`w-full mb-2 font-bold rounded px-3 py-2 outline-none focus:border-gold text-sm ${m?"bg-black/20 border-white/10 text-gold":"bg-white border-gray-200 text-gold"}`}),c.jsx("input",{value:v.event,onChange:J=>Or("timelineItems",V,"event",J.target.value),className:`w-full mb-3 text-lg font-cursive rounded px-3 py-2 outline-none focus:border-gold ${m?"bg-black/20 border-white/10 text-white":"bg-white border-gray-200 text-gray-800"}`}),c.jsx("textarea",{value:v.description,onChange:J=>Or("timelineItems",V,"description",J.target.value),className:`w-full text-xs rounded px-3 py-2 outline-none focus:border-gold resize-none ${m?"bg-black/20 border-white/10 text-gray-400":"bg-white border-gray-200 text-gray-600"}`,rows:2})]},V))})]}),c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[c.jsxs("div",{className:"shrink-0",children:[c.jsx(En,{icon:"fa-images",title:"Gallery Curator",description:"Upload photos or link to external albums.",isDarkMode:m}),c.jsxs("div",{className:`mt-2 text-xs font-body ${m?"text-gray-500":"text-gray-400"}`,children:[c.jsx("i",{className:"fa-solid fa-image mr-2"}),Ci.galleryImages.length," ",Ci.galleryImages.length===1?"image":"images"," in gallery"]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:flex gap-3 w-full md:w-auto items-end",children:[c.jsx("div",{className:"flex-grow",children:c.jsx(an,{label:"Google Photos Shared Link",value:t.googlePhotosLink,onChange:v=>Ne("googlePhotosLink",v.target.value),placeholder:"https://photos.app.goo.gl/...",isDarkMode:m})}),c.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:c.jsxs("button",{onClick:()=>Ne("googlePhotosLinkEnabled",!(t.googlePhotosLinkEnabled??!0)),className:`flex-1 sm:flex-none px-4 py-4 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all sm:h-[58px] flex items-center justify-center gap-2 ${t.googlePhotosLinkEnabled!==!1?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,title:t.googlePhotosLinkEnabled!==!1?"Album link is visible to guests":"Album link is hidden from guests",children:[c.jsx("i",{className:`fa-solid ${t.googlePhotosLinkEnabled!==!1?"fa-lock-open":"fa-lock"}`}),c.jsx("span",{className:"sm:hidden lg:inline",children:t.googlePhotosLinkEnabled!==!1?"Unlocked":"Locked"})]})})]})]}),c.jsxs("div",{className:`relative mb-8 border-2 border-dashed rounded-2xl p-8 text-center transition-all ${W?"border-gold bg-gold/5":m?"border-white/10 hover:border-gold/50":"border-gray-200 hover:border-gold/50"} ${ie?"opacity-50 pointer-events-none":""}`,onDragEnter:Pd,onDragLeave:Pd,onDragOver:Pd,onDrop:vC,children:[c.jsx("input",{type:"file",id:"gallery-upload",multiple:!0,accept:"image/*",onChange:v=>Pl(v.target.files),className:"hidden",disabled:ie}),ie?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gold/20 rounded-full flex items-center justify-center mx-auto",children:c.jsx("i",{className:"fa-solid fa-spinner fa-spin text-gold text-2xl"})}),c.jsx("p",{className:`text-sm font-bold ${m?"text-white":"text-gray-700"}`,children:"Uploading to Firebase Storage..."}),c.jsx("div",{className:`w-full rounded-full h-2 max-w-xs mx-auto ${m?"bg-white/10":"bg-gray-200"}`,children:c.jsx("div",{className:"bg-gold h-2 rounded-full transition-all duration-300",style:{width:`${O}%`}})}),c.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(O),"%"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${m?"bg-white/5":"bg-gray-100"}`,children:c.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-gray-400 text-2xl"})}),c.jsx("h3",{className:`text-lg font-serif mb-2 ${m?"text-white":"text-gray-800"}`,children:"Upload Images"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop images here, or click to browse"}),c.jsxs("label",{htmlFor:"gallery-upload",className:"inline-block bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 cursor-pointer transition-all",children:[c.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Select Images"]}),c.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supports JPG, PNG, WebP  Max 10MB per file"})]})]}),Ci.galleryImages.length===0?c.jsxs("div",{className:`text-center py-20 border-2 border-dashed rounded-2xl ${m?"border-white/5":"border-gray-200"}`,children:[c.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${m?"bg-white/5":"bg-gray-100"}`,children:c.jsx("i",{className:"fa-solid fa-image text-gray-400 text-2xl"})}),c.jsx("h3",{className:`text-lg font-serif mb-2 ${m?"text-gray-500":"text-gray-600"}`,children:"No Images Yet"}),c.jsx("p",{className:"text-sm text-gray-400 mb-6",children:'Click "Add Photo" to start building your gallery'})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ci.galleryImages.map((v,V)=>c.jsxs("div",{className:`relative group aspect-square rounded-xl overflow-hidden shadow-sm border-2 transition-all ${m?"border-white/5 hover:border-gold/30":"border-gray-100 hover:border-gold/30"}`,children:[c.jsx("img",{src:v,className:"w-full h-full object-cover",alt:"Gallery preview",loading:"lazy"}),c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all flex flex-col p-3 justify-between",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("span",{className:"text-white text-xs bg-black/50 px-2 py-1 rounded font-body",children:["#",V+1]}),c.jsx("button",{onClick:()=>bC(v,V),className:"text-white hover:text-red-400 bg-black/50 w-8 h-8 rounded-full flex items-center justify-center transition-all",children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]}),c.jsx("div",{className:"space-y-2",children:c.jsxs("button",{onClick:J=>{J.stopPropagation(),L({show:!0,index:V,currentUrl:v,newUrl:v})},className:`w-full px-3 py-2 rounded text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all shadow-sm ${m?"bg-white/10 hover:bg-white/20 text-white":"bg-white/90 hover:bg-white text-gray-800"}`,children:[c.jsx("i",{className:"fa-solid fa-pen"})," Edit URL"]})})]})]},V))})]})]},"lists-tab"),x==="guests"&&c.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-chart-pie",title:"Guest Analytics",description:"Live statistics of your wedding attendance.",isDarkMode:m}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[{label:"Total Souls",value:$.totalGuests,color:"text-gold",icon:"fa-users",bg:"bg-gold/10"},{label:"Attending",value:$.attendingCount,color:"text-green-500",icon:"fa-heart",bg:m?"bg-green-500/10":"bg-green-50"},{label:"Declined",value:$.declinedCount,color:"text-red-400",icon:"fa-heart-crack",bg:m?"bg-red-500/10":"bg-red-50"},{label:"Pending",value:$.pendingCount,color:"text-gray-400",icon:"fa-question",bg:m?"bg-white/5":"bg-gray-50"},{label:"Plus Ones",value:$.plusOneCount,color:"text-blue-500",icon:"fa-user-plus",bg:m?"bg-blue-500/10":"bg-blue-50"}].map(v=>c.jsxs("div",{className:`p-6 ${v.bg} rounded-2xl border flex flex-col items-center transition-all hover:scale-105 ${m?"border-white/5":"border-gray-100"}`,children:[c.jsx("i",{className:`fa-solid ${v.icon} ${v.color} mb-3 text-xl`}),c.jsx("div",{className:`text-3xl font-serif-sc mb-1 ${m?"text-white":"text-gray-900"}`,children:v.value}),c.jsx("div",{className:"text-[10px] uppercase tracking-widest font-bold text-gray-500",children:v.label})]},v.label))})]}),c.jsxs("div",{className:`${m?"bg-[#262626] border-white/5":"bg-white border-gray-100"} rounded-3xl p-10 shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-users-gear",title:"Guest List Management",description:"Advanced search, filter, and bulk operations.",isDarkMode:m}),c.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("i",{className:`fa-solid fa-search absolute left-4 top-1/2 transform -translate-y-1/2 ${m?"text-white/30":"text-black/50"}`}),c.jsx("input",{type:"text",placeholder:"Search by name or email...",value:le,onChange:v=>tt(v.target.value),className:`w-full pl-12 pr-10 py-3 rounded-xl outline-none transition-all text-sm ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),le&&c.jsx("button",{onClick:()=>tt(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gold",children:c.jsx("i",{className:"fa-solid fa-xmark"})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2",children:[c.jsxs("select",{value:Ke,onChange:v=>_t(v.target.value),className:`flex-1 md:flex-none px-3 md:px-4 py-3 rounded-xl outline-none text-xs md:text-sm transition-colors ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-100 text-gray-900 focus:border-gold"}`,children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:ee.ATTENDING,children:"Attending"}),c.jsx("option",{value:ee.NOT_ATTENDING,children:"Declined"}),c.jsx("option",{value:ee.UNDECIDED,children:"Pending"})]}),c.jsxs("select",{value:M,onChange:v=>B(v.target.value),className:`flex-1 md:flex-none px-3 md:px-4 py-3 rounded-xl outline-none text-xs md:text-sm transition-colors ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-100 text-gray-900 focus:border-gold"}`,children:[c.jsx("option",{value:"name-asc",children:"Name A-Z"}),c.jsx("option",{value:"name-desc",children:"Name Z-A"}),c.jsx("option",{value:"recent",children:"Recent First"}),c.jsx("option",{value:"status",children:"By Status"})]}),c.jsxs("button",{onClick:qt,className:"col-span-2 md:col-span-1 px-4 md:px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-xs md:text-sm font-bold shadow-lg shadow-green-500/20",children:[c.jsx("i",{className:"fa-solid fa-download"}),c.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),c.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),U.size>0&&c.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`border rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 ${m?"bg-gold/10 border-gold/30 text-white":"bg-gold/10 border-gold/30 text-gray-900"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("i",{className:"fa-solid fa-check-double text-gold"}),c.jsxs("span",{className:"font-bold text-xs md:text-sm",children:[U.size," guest",U.size>1?"s":""," selected"]})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap w-full md:w-auto",children:[c.jsxs("button",{onClick:kd,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[c.jsx("i",{className:"fa-solid fa-paper-plane"}),c.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),c.jsxs("button",{onClick:sn,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[c.jsx("i",{className:"fa-solid fa-trash"}),c.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),c.jsx("button",{onClick:()=>ae(new Set),className:`flex-1 md:flex-none px-3 md:px-4 py-2 rounded-lg transition-all text-[10px] md:text-xs font-bold uppercase ${m?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Clear"})]})]}),$.pendingCount>0&&c.jsxs("div",{className:`border rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 ${m?"bg-yellow-500/10 border-yellow-500/20 text-yellow-500":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("i",{className:"fa-solid fa-clock"}),c.jsxs("span",{className:"text-xs md:text-sm",children:[$.pendingCount," guest",$.pendingCount>1?"s":""," haven't responded yet"]})]}),c.jsxs("button",{onClick:()=>{const v=n.filter(V=>V.status===ee.UNDECIDED);X({show:!0,recipients:v,subject:"Quick Reminder: Louie & Florie's Wedding",message:`Hi!

We hope you're doing well. We're finalizing our wedding numbers and wanted to check if you'll be able to join us.

Please let us know by visiting our website.

Best,
Louie & Florie`})},className:"w-full md:w-auto px-4 md:px-6 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[c.jsx("i",{className:"fa-solid fa-paper-plane"})," Follow Up All"]})]}),c.jsx("div",{className:"hidden md:block overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b text-left transition-colors ${m?"border-white/5":"border-gray-100"}`,children:[c.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:c.jsx("input",{type:"checkbox",checked:U.size===Ee.length&&Ee.length>0,onChange:vn,className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer transition-colors ${m?"bg-black/40 border-white/20":""}`})}),c.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Guest"}),c.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Status"}),c.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Email"}),c.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black text-right",children:"Actions"})]})}),c.jsxs("tbody",{children:[Ee.map(v=>c.jsxs("tr",{className:`border-b transition-colors ${m?"border-white/5 hover:bg-white/5":"border-gray-50 hover:bg-gray-50"}`,children:[c.jsx("td",{className:"py-5 pl-4",children:c.jsx("input",{type:"checkbox",checked:U.has(v.id),onChange:()=>Pn(v.id),className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer transition-colors ${m?"bg-black/40 border-white/20":""}`})}),c.jsxs("td",{className:"py-5 pl-4",children:[c.jsx("div",{className:`font-bold ${m?"text-white":"text-gray-800"}`,children:v.name}),v.plusOne&&c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[c.jsx("i",{className:"fa-solid fa-user-plus text-[10px]"})," +1 Guest"]})]}),c.jsx("td",{className:"py-5",children:c.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${v.status===ee.ATTENDING?"bg-green-100 text-green-600":v.status===ee.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:v.status===ee.ATTENDING?"Accepted":v.status===ee.NOT_ATTENDING?"Declined":"Pending"})}),c.jsx("td",{className:`py-5 text-sm font-body ${m?"text-gray-400":"text-gray-500"}`,children:v.email}),c.jsx("td",{className:"py-5 text-right",children:c.jsxs("div",{className:"flex gap-2 items-center justify-end",children:[v.notes&&c.jsxs("div",{className:"text-xs italic max-w-xs truncate mr-2 text-gray-500",title:v.notes,children:['"',v.notes,'"']}),c.jsx("button",{onClick:()=>r(v.id),className:`transition-colors p-2 ${m?"text-gray-600 hover:text-gold":"text-gray-300 hover:text-gold"}`,title:"Send Reminder",children:c.jsx("i",{className:"fa-solid fa-bell"})}),c.jsx("button",{onClick:()=>F({show:!0,guestId:v.id,guestName:v.name}),className:`transition-colors p-2 ${m?"text-gray-600 hover:text-red-500":"text-gray-300 hover:text-red-500"}`,title:"Delete Guest",children:c.jsx("i",{className:"fa-solid fa-trash-can"})})]})})]},v.id)),Ee.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-20 text-center text-gray-300 italic",children:le||Ke!=="all"?"No guests match your filters":"No responses recorded yet."})})]})]})}),c.jsx("div",{className:"md:hidden space-y-4",children:Ee.length>0?Ee.map(v=>c.jsxs("div",{className:`p-5 rounded-2xl border transition-colors ${m?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[c.jsx("div",{className:"flex justify-between items-start mb-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:U.has(v.id),onChange:()=>Pn(v.id),className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer ${m?"bg-black/40 border-white/20":""}`}),c.jsxs("div",{children:[c.jsx("div",{className:`font-bold transition-colors ${m?"text-white":"text-gray-800"}`,children:v.name}),c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${v.status===ee.ATTENDING?"bg-green-100 text-green-600":v.status===ee.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:v.status===ee.ATTENDING?"Accepted":v.status===ee.NOT_ATTENDING?"Declined":"Pending"})]})]})}),v.notes&&c.jsxs("div",{className:`rounded-lg p-3 mb-3 transition-colors ${m?"bg-black/20":"bg-gray-50"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold mb-1",children:"Notes"}),c.jsxs("div",{className:`text-xs italic ${m?"text-gray-400":"text-gray-600"}`,children:['"',v.notes,'"']})]}),c.jsxs("div",{className:`flex gap-2 pt-2 border-t transition-colors ${m?"border-white/5":"border-gray-100"}`,children:[c.jsxs("button",{onClick:()=>r(v.id),className:"flex-1 bg-gold/10 text-gold px-4 py-2 rounded-lg hover:bg-gold/20 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[c.jsx("i",{className:"fa-solid fa-bell"})," Remind"]}),c.jsxs("button",{onClick:()=>F({show:!0,guestId:v.id,guestName:v.name}),className:"flex-1 bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[c.jsx("i",{className:"fa-solid fa-trash-can"})," Delete"]})]})]},v.id)):c.jsxs("div",{className:`rounded-xl p-12 text-center transition-colors ${m?"bg-white/5":"bg-gray-50"}`,children:[c.jsx("i",{className:"fa-solid fa-users-slash text-4xl text-gray-300 mb-4"}),c.jsx("p",{className:"text-gray-400 italic",children:le||Ke!=="all"?"No guests match your filters":"No responses recorded yet."})]})})]}),c.jsxs("div",{className:"mt-6 text-xs text-gray-400 text-center",children:["Showing ",Ee.length," of ",n.length," total guests"]})]},"guests-tab"),x==="notes"&&c.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-list-check",title:"Planning Checklist",description:"Manage tasks with completion status.",isDarkMode:m}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 mb-8",children:[c.jsx("input",{value:p,onChange:v=>y(v.target.value),placeholder:"Add a new task...",className:`flex-1 border p-4 rounded-xl outline-none transition-all text-sm ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),c.jsx("button",{onClick:Ll,className:"w-full sm:w-auto bg-gold text-white px-8 py-4 rounded-xl font-bold text-[10px] uppercase tracking-widest shadow-lg shadow-gold/20 transition-all",children:"Add Task"})]}),c.jsxs("div",{className:"space-y-4",children:[Ci.checklist.map(v=>c.jsxs("div",{className:`flex items-center justify-between p-4 md:p-5 rounded-2xl border-2 transition-all duration-300 ${v.completed?m?"bg-green-500/10 border-green-500/20 opacity-60":"bg-green-50 border-green-100 opacity-60":m?"bg-white/5 border-white/5":"bg-gray-50 border-gray-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 md:gap-4 cursor-pointer",onClick:()=>Ul(v.id),children:[c.jsx("button",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${v.completed?"bg-green-500 border-green-500 text-white":m?"border-gray-600 bg-black/20 hover:border-gold":"border-gray-300 bg-white hover:border-gold"}`,children:v.completed&&c.jsx("i",{className:"fa-solid fa-check text-[8px] md:text-[10px]"})}),c.jsx("span",{className:`text-xs md:text-sm transition-all select-none ${v.completed?"line-through text-gray-400 italic":m?"text-white font-medium":"text-gray-700 font-medium"}`,children:v.text})]}),c.jsx("button",{onClick:()=>kr(v.id),className:"text-gray-300 hover:text-red-500 transition-colors p-2",children:c.jsx("i",{className:"fa-solid fa-xmark"})})]},v.id)),Ci.checklist.length===0&&c.jsx("p",{className:`text-center italic py-10 ${m?"text-gray-600":"text-gray-300"}`,children:"No items in your checklist."})]})]}),c.jsxs("div",{className:"space-y-6 md:space-y-8",children:[c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300`,children:[c.jsx(En,{icon:"fa-pen-fancy",title:"Meeting Notes",description:"Keep track of conversations with vendors.",isDarkMode:m}),c.jsx("textarea",{rows:5,value:_,onChange:v=>g(v.target.value),placeholder:"Type notes here...",className:`w-full border p-4 md:p-5 rounded-2xl outline-none transition-all mb-4 md:mb-6 resize-none text-sm leading-relaxed ${m?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),c.jsx("button",{onClick:()=>{_.trim()&&(s(_),g(""))},className:"w-full bg-gold text-white py-4 md:py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-gold/20 transition-all hover:bg-gold/90",children:"Store Note"})]}),c.jsx("div",{className:"space-y-6",children:i.map(v=>c.jsxs("div",{className:`p-8 rounded-3xl border relative group transition-colors ${m?"bg-white/5 border-white/5":"bg-white border-gray-50"}`,children:[c.jsx("button",{onClick:()=>a(v.id),className:"absolute top-6 right-6 text-gray-200 hover:text-red-500 opacity-0 group-hover:opacity-100",children:c.jsx("i",{className:"fa-solid fa-trash-can"})}),c.jsx("div",{className:"text-gold text-[10px] font-black uppercase mb-4 tracking-widest",children:v.date}),c.jsxs("div",{className:`italic font-body whitespace-pre-wrap leading-relaxed ${m?"text-gray-400":"text-gray-600"}`,children:['"',v.content,'"']})]},v.id))})]})]},"notes-tab"),x==="guestbook"&&c.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:c.jsxs("div",{className:`${m?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300 mb-10`,children:[c.jsx(En,{icon:"fa-book-open",title:"Guestbook Entries",description:"Manage public messages from your guests.",isDarkMode:m}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.map(v=>c.jsxs("div",{className:`p-6 border rounded-2xl relative group transition-all shadow-sm ${m?"bg-black/20 border-white/5 hover:bg-black/30":"bg-gray-50 border-gray-100 hover:bg-white"}`,children:[c.jsx("button",{onClick:()=>d(v.id),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:c.jsx("i",{className:"fa-solid fa-trash-can"})}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h4",{className:"font-serif text-gold text-lg",children:v.name}),c.jsx("span",{className:`text-[9px] uppercase tracking-widest font-bold ${m?"text-gray-500":"text-gray-400"}`,children:new Date(v.date).toLocaleDateString()})]}),c.jsxs("p",{className:`text-sm italic font-body mb-6 ${m?"text-gray-400":"text-gray-600"}`,children:['"',v.message,'"']}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-white/5",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>{const V={...v,reaction:v.reaction==="heart"?null:"heart"};f(V)},className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all group ${v.reaction==="heart"?"bg-red-50 text-red-500 border border-red-100 dark:bg-red-500/10 dark:border-red-500/20":m?"bg-white/5 text-gray-400 hover:text-red-400":"bg-gray-100 text-gray-500 hover:text-red-500"}`,children:[c.jsx(k.div,{animate:v.reaction==="heart"?{scale:[1,1.4,1]}:{},transition:{duration:.4},children:c.jsx("i",{className:`fa-solid fa-heart ${v.reaction==="heart"?"text-red-500":"opacity-30 group-hover:opacity-100 transition-opacity"}`})}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:v.reaction==="heart"?"Loved":"Love"})]}),c.jsxs("button",{onClick:()=>{Y(v.id),G(v.reply||"")},className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all hover:bg-gold/10 hover:text-gold ${v.reply?"bg-gold/5 text-gold":m?"bg-white/5 text-gray-400":"bg-gray-100 text-gray-500"}`,children:[c.jsx("i",{className:"fa-solid fa-reply text-xs"}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:v.reply?"Edit Reply":"Reply"})]})]}),v.reaction==="heart"&&c.jsxs(k.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"text-[9px] text-red-500 font-bold uppercase tracking-widest italic flex items-center gap-2",children:[c.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full animate-pulse"}),"Acknowledged"]})]}),c.jsx(Be,{children:q===v.id&&c.jsxs(k.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-6 pt-6 border-t border-dashed border-gray-100 dark:border-white/5",children:[c.jsx("textarea",{value:te,onChange:V=>G(V.target.value),placeholder:"Write your reply...",className:`w-full p-4 rounded-xl text-sm font-body transition-all outline-none border ${m?"bg-black/20 border-white/5 text-white":"bg-white border-gray-100 text-gray-700"} focus:border-gold`,rows:3}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsx("button",{onClick:()=>{const V={...v,reply:te.trim()||null,replyDate:te.trim()?new Date().toISOString():null};f(V),Y(null),G(""),je("Reply updated","success")},className:"bg-gold text-white px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest shadow-lg hover:bg-gold/90",children:"Post Reply"}),c.jsx("button",{onClick:()=>{Y(null),G("")},className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest border ${m?"border-white/10 text-gray-400":"border-gray-100 text-gray-500"}`,children:"Cancel"})]})]})}),v.reply&&q!==v.id&&c.jsxs("div",{className:"mt-6 p-4 rounded-xl relative bg-gold/5 border border-gold/10",children:[c.jsxs("div",{className:"text-gold text-[8px] font-black uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-crown text-[10px]"}),"Your Reply"]}),c.jsxs("p",{className:`text-xs italic font-body ${m?"text-gray-300":"text-gray-700"}`,children:['"',v.reply,'"']})]})]},v.id)),u.length===0&&c.jsx("div",{className:`col-span-full py-20 text-center italic ${m?"text-gray-600":"text-gray-300"}`,children:"No guestbook entries yet."})]})]})},"guestbook-tab")]})})})]}),c.jsx("div",{className:`md:hidden border-t py-2 px-2 safe-bottom z-[60] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] shrink-0 transition-colors relative ${m?"bg-[#1a1a1a] border-white/5":"bg-white border-gray-100"}`,children:c.jsxs("div",{className:"flex justify-around items-center relative",children:[c.jsx(k.div,{className:"absolute h-1 top-[-8px] bg-gold rounded-full shadow-[0_0_10px_rgba(212,175,55,0.4)]",initial:!1,animate:{left:`${["content","lists","guests","guestbook","notes"].indexOf(x)*20+4}%`,width:"12%"},transition:{type:"spring",stiffness:400,damping:35}}),[{id:"content",label:"Core",icon:"fa-pen-nib"},{id:"lists",label:"Lists",icon:"fa-list-check"},{id:"guests",label:"Guests",icon:"fa-users-gear"},{id:"guestbook",label:"Book",icon:"fa-book-open"},{id:"notes",label:"Notes",icon:"fa-flask"}].map(v=>c.jsxs("button",{onClick:()=>b(v.id),className:`flex flex-col items-center gap-1 transition-all w-full relative group py-2 ${x===v.id?"text-gold":m?"text-gray-500":"text-gray-400"}`,children:[c.jsx(k.div,{className:`p-2 rounded-xl transition-all ${x===v.id?"bg-gold/10":"group-hover:bg-gray-100/50 group-active:scale-90"}`,whileTap:{scale:.9},children:c.jsx("i",{className:`fa-solid ${v.icon} ${x===v.id?"text-lg":"text-base opacity-70"}`})}),c.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest transition-all ${x===v.id?"opacity-100 translate-y-0":"opacity-40 translate-y-0.5"}`,children:v.label})]},v.id))]})})]})]})},g8=({content:t,rsvps:e,initialName:n,onClose:i,onUpdateRSVP:s,isDarkMode:a})=>{const[r,o]=E.useState(n||""),[l,u]=E.useState(null),[d,f]=E.useState(!1),[h,m]=E.useState(null),[x,b]=E.useState(null);E.useEffect(()=>{n&&_(n)},[n]);const _=I=>{b(null);const X=I||r;if(!X.trim()&&!I){b("Please enter your name to continue.");return}const le=e.find(tt=>tt.name.toLowerCase().trim()===X.toLowerCase().trim());le?u(le):I||b("No RSVP found for that name. Have you responded yet?")},g=I=>{m(I),f(!0)},p=I=>{if(I.includes("/maps/embed"))return I;if(I.includes("maps.app.goo.gl")||I.includes("goo.gl"))return`https://www.google.com/maps?q=${encodeURIComponent((h==null?void 0:h.name)||"")}&output=embed`;if(I.includes("google.com/maps")){const X=I.match(/place\/([^\/]+)/);if(X)return`https://www.google.com/maps?q=${encodeURIComponent(X[1].replace(/\+/g," "))}&output=embed`;const le=I.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(le)return`https://www.google.com/maps?q=${le[1]},${le[2]}&output=embed`}return I},y=()=>{var B;const I=new Date(t.countdownDate),X=I.toISOString().replace(/-|:|\.\d\d\d/g,""),le=new Date(I.getTime()+6*60*60*1e3).toISOString().replace(/-|:|\.\d\d\d/g,""),tt=encodeURIComponent(`${t.coupleNames}'s Wedding`),Ke=(B=t.venues)==null?void 0:B[0],_t=encodeURIComponent(Ke?`${Ke.name}, ${Ke.address}`:"Venue TBD"),M=encodeURIComponent("Join us for a beautiful celebration of love.");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${tt}&dates=${X}/${le}&details=${M}&location=${_t}`},w=t.venues||[],[N,j]=E.useState(!1),[A,C]=E.useState(!1),L=async I=>{if(!l)return;j(!0);const X={...l,status:I,timestamp:new Date().toISOString()};try{await s(X),u(X),C(!0),setTimeout(()=>C(!1),3e3)}catch(le){console.error("Failed to update RSVP:",le),alert("Something went wrong. Please try again.")}finally{j(!1)}};return c.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-xl flex items-center justify-center p-3 md:p-8",children:[c.jsxs(k.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},className:`w-full max-w-2xl rounded-3xl overflow-hidden shadow-[0_50px_100px_rgba(0,0,0,0.6)] border flex flex-col max-h-[95vh] md:max-h-[90vh] ${a?"bg-[#1a1a1a] border-white/5":"bg-white border-gold/10"}`,children:[c.jsxs("div",{className:`${a?"bg-black/40":"bg-neutral-900"} px-6 py-8 md:p-12 text-white relative shrink-0`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-gold via-[#f7e7ce] to-gold"}),c.jsx("button",{onClick:i,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white/50 hover:text-gold hover:bg-white/10 transition-all z-10",children:c.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),c.jsx("br",{}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gold/10 border border-gold/20 flex items-center justify-center text-gold shadow-inner",children:c.jsx("i",{className:"fa-solid fa-unlock-keyhole text-2xl"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl md:text-4xl font-serif mb-1 uppercase tracking-tight",children:"Guest Portal"}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3",children:[c.jsx("span",{className:"h-px w-6 bg-gold/50"}),c.jsx("p",{className:"text-gold uppercase tracking-[0.5em] text-[10px] font-black",children:"Private Invitation"}),c.jsx("span",{className:"h-px w-6 bg-gold/50"})]})]})]})]}),c.jsx("div",{className:"p-6 md:p-12 overflow-y-auto custom-scrollbar flex-1",children:l?c.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-10",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start text-center md:text-left gap-6 border-b pb-10 border-gray-100 dark:border-white/5",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-gold font-cursive text-3xl mb-1",children:"Welcome"}),c.jsx("h3",{className:`text-4xl font-serif ${a?"text-white":"text-gray-800"}`,children:l.name}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mt-4",children:[c.jsx("span",{className:`text-[10px] uppercase font-black px-5 py-2 rounded-full tracking-widest shadow-sm ${l.status===ee.ATTENDING?"bg-green-600 text-white":l.status===ee.NOT_ATTENDING?"bg-red-600 text-white":"bg-amber-500 text-white"}`,children:l.status.replace("_"," ")}),l.plusOne&&c.jsx("span",{className:"text-[10px] text-gold font-black uppercase tracking-[0.2em] bg-gold/5 px-5 py-2 rounded-full border border-gold/10",children:"Guest Included"})]})]}),c.jsxs("button",{onClick:()=>u(null),className:"text-gray-400 text-[10px] uppercase tracking-widest border border-gray-100 dark:border-white/10 px-6 py-3 rounded-full hover:bg-gold/5 hover:text-gold transition-all font-bold",children:[c.jsx("i",{className:"fa-solid fa-arrow-left-long mr-2"})," Switch User"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-[11px] uppercase font-black text-gray-400 tracking-[0.4em] flex items-center gap-3",children:[c.jsx("span",{className:"w-8 h-px bg-gray-200 dark:bg-white/10"}),"Event Details"]}),c.jsxs("ul",{className:"space-y-6",children:[c.jsxs("li",{className:"flex gap-5 items-center group",children:[c.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:c.jsx("i",{className:"fa-solid fa-calendar-days text-lg"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Wedding Date"}),c.jsx("span",{className:`font-serif text-lg ${a?"text-gray-200":"text-gray-700"}`,children:t.weddingDate})]})]}),c.jsxs("li",{className:"flex gap-5 items-center group",children:[c.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:c.jsx("i",{className:"fa-solid fa-clock text-lg"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Ceremony Time"}),c.jsx("span",{className:`font-serif text-lg ${a?"text-gray-200":"text-gray-700"}`,children:t.weddingTime})]})]}),w.length>0?w.map((I,X)=>c.jsxs("li",{className:"flex gap-5 items-start group",children:[c.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm mt-1 transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:c.jsx("i",{className:"fa-solid fa-location-dot text-lg"})}),c.jsxs("div",{className:"flex flex-col flex-1",children:[c.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Location"}),c.jsxs("button",{onClick:()=>g(I),className:`text-left text-sm md:text-base leading-relaxed hover:text-gold transition-colors ${a?"text-gray-300":"text-gray-600"}`,children:[c.jsx("strong",{className:`${a?"text-white":"text-gray-900"}`,children:I.name}),c.jsx("br",{}),c.jsx("span",{className:"opacity-70",children:I.address}),c.jsx("i",{className:"fa-solid fa-map-location-dot ml-2 text-xs text-gold opacity-60"})]})]})]},X)):c.jsxs("li",{className:"flex gap-5 items-center",children:[c.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold opacity-50 ${a?"bg-white/5":"bg-gray-50"}`,children:c.jsx("i",{className:"fa-solid fa-map-pin"})}),c.jsx("span",{className:"text-gray-400 text-sm italic",children:"Details to follow."})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsxs("div",{className:`p-8 rounded-3xl border flex-grow flex flex-col justify-center relative overflow-hidden ${a?"bg-white/5 border-white/5":"bg-gold/5 border-gold/10"}`,children:[c.jsx("div",{className:"absolute -right-4 -top-4 text-gold/5 text-8xl transform rotate-12",children:c.jsx("i",{className:"fa-solid fa-quote-right"})}),c.jsxs("h4",{className:"font-black text-[10px] uppercase tracking-[0.4em] text-gold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),"Couple's Note"]}),c.jsx("p",{className:`text-base italic leading-relaxed font-serif relative z-10 ${a?"text-gray-300":"text-gray-600"}`,children:l.status===ee.UNDECIDED?"Your attendance status is still pending. We've reserved a tentative place for you and cannot wait to celebrate together.":l.status===ee.ATTENDING?"We are delighted to confirm your presence. Our finest arrangements are being tailored for your arrival at the venue.":"We have received your regrets. While your presence will be missed, we remain deeply grateful for your warmth and well wishes."})]}),l.status===ee.UNDECIDED&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:`text-[10px] uppercase font-black text-center tracking-[0.2em] mb-4 ${a?"text-gray-500":"text-gray-400"}`,children:"Ready to decide?"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{disabled:N,onClick:()=>L(ee.ATTENDING),className:`py-4 px-2 rounded-xl text-[10px] md:text-[11px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-3 ${a?"bg-green-600/20 text-green-400 border border-green-500/20 hover:bg-green-600/30":"bg-green-50 text-green-700 border border-green-100 hover:bg-green-100"}`,children:[c.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center shrink-0 ${a?"bg-green-400/20":"bg-green-600/10"}`,children:N?c.jsx("i",{className:"fa-solid fa-spinner fa-spin text-[10px]"}):c.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),c.jsx("span",{children:"I'll Be There"})]}),c.jsxs("button",{disabled:N,onClick:()=>L(ee.NOT_ATTENDING),className:`py-4 px-2 rounded-xl text-[10px] md:text-[11px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-3 ${a?"bg-red-600/20 text-red-400 border border-red-500/20 hover:bg-red-600/30":"bg-red-50 text-red-700 border border-red-100 hover:bg-red-100"}`,children:[c.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center shrink-0 ${a?"bg-red-400/20":"bg-red-600/10"}`,children:N?c.jsx("i",{className:"fa-solid fa-spinner fa-spin text-[10px]"}):c.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})}),c.jsx("span",{children:"Declined"})]})]})]}),A&&c.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-green-500 text-white text-[10px] font-black uppercase tracking-widest py-3 rounded-lg text-center shadow-lg",children:[c.jsx("i",{className:"fa-solid fa-circle-check mr-2"}),"RSVP Updated Successfully"]}),l.status===ee.ATTENDING&&c.jsxs("a",{href:y(),target:"_blank",rel:"noopener noreferrer",className:"w-full py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black transition-all text-center flex items-center justify-center gap-4 shadow-xl active:scale-95 group bg-gold text-white hover:bg-[#b8962d]",children:[c.jsx("i",{className:"fa-solid fa-calendar-circle-plus text-lg group-hover:scale-125 transition-transform"}),"Add to Calendar"]})]})]}),c.jsxs("div",{className:"text-center pt-8 border-t border-gray-100 dark:border-white/5",children:[c.jsx("div",{className:"font-cursive text-2xl text-gold mb-2",children:"Louie & Florie"}),c.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-[0.6em] font-medium leading-loose",children:" July 4, 2026  Cebu City "})]})]}):c.jsxs("div",{className:"text-center py-6 md:py-10 max-w-sm mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("i",{className:"fa-solid fa-address-card text-gold text-xl"})}),c.jsx("h3",{className:`text-2xl font-serif mb-3 tracking-wide ${a?"text-white":"text-gray-800"}`,children:"Verify Invitation"}),c.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] leading-relaxed",children:"Enter your name to unlock your private itinerary"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:"text",value:r,onChange:I=>{o(I.target.value),x&&b(null)},onKeyDown:I=>I.key==="Enter"&&_(),placeholder:"Search name",className:`w-full bg-transparent border-b-2 outline-none py-4 px-2 transition-all font-serif text-2xl text-center placeholder:opacity-20 ${a?"border-white/10 text-white focus:border-gold":"border-gray-100 text-gray-800 focus:border-gold text-center"}`}),c.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gold group-hover:w-full transition-all duration-500"})]}),c.jsx(Be,{mode:"wait",children:x&&c.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 text-[10px] font-bold uppercase tracking-widest flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-circle-exclamation"}),x]})}),c.jsxs("button",{onClick:()=>_(),className:"w-full bg-gold text-white py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black hover:bg-[#b8962d] transition-all shadow-xl shadow-gold/20 hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-3",children:[c.jsx("i",{className:"fa-solid fa-key text-[10px]"}),"Identify Guest"]})]}),c.jsxs("p",{className:"mt-12 text-[9px] text-gray-500 uppercase tracking-widest leading-loose max-w-[200px] mx-auto opacity-50 font-medium",children:["Missing from the list?",c.jsx("br",{}),c.jsx("span",{className:"italic",children:"Reach out to the couple."})]})]})})]}),d&&h&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1),className:"fixed inset-0 z-[70] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:c.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:I=>I.stopPropagation(),className:`w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl ${a?"bg-[#1a1a1a]":"bg-white"}`,children:[c.jsxs("div",{className:`${a?"bg-black/40":"bg-neutral-900"} p-6 flex items-center justify-between`,children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-serif text-white mb-1",children:h.name}),c.jsx("p",{className:"text-white/60 text-sm",children:h.address})]}),c.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors",children:c.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),c.jsx("div",{className:"relative w-full h-[500px]",children:c.jsx("iframe",{src:p(h.mapUrl),width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map to ${h.name}`})}),c.jsx("div",{className:`p-4 flex justify-end ${a?"bg-black/20":"bg-gray-50"}`,children:c.jsxs("a",{href:h.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gold/90 transition-all",children:[c.jsx("i",{className:"fa-solid fa-external-link mr-2"}),"Open in Maps"]})})]})})]})},y8=({count:t=20,type:e="petals"})=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=E.useMemo(()=>n?[]:Array.from({length:t}).map((s,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,size:Math.random()*(e==="sparkles"?4:15)+(e==="sparkles"?2:5),duration:Math.random()*20+20,delay:Math.random()*20,rotate:Math.random()*360})),[t,e,n]);return n?null:c.jsx("div",{className:"fixed inset-0 pointer-events-none z-[1] overflow-hidden",children:i.map(s=>c.jsxs(k.div,{className:"absolute",initial:{x:`${s.x}vw`,y:"-10vh",rotate:s.rotate,opacity:0},animate:{y:"110vh",x:[`${s.x}vw`,`${s.x+(Math.random()*10-5)}vw`],rotate:s.rotate+(Math.random()*360+360),opacity:[0,.4,.4,0]},transition:{duration:s.duration,repeat:1/0,delay:s.delay,ease:"linear"},style:{width:s.size,height:s.size},children:[e==="petals"&&c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-rose-200/40",children:c.jsx("path",{d:"M12 2C12 2 15 7 15 12C15 17 12 22 12 22C12 22 9 17 9 12C9 7 12 2 12 2Z",fill:"currentColor"})}),e==="sparkles"&&c.jsx("div",{className:"w-full h-full bg-gold/30 rounded-full blur-[1px]"}),e==="dust"&&c.jsx("div",{className:"w-full h-full bg-white/20 rounded-full"})]},s.id))})},x8=({content:t,onAdminClick:e,isDarkMode:n})=>{var a,r;const i=(o,l)=>{const u=o.toLowerCase(),d=l.toLowerCase();return u.includes("instagram")||d.includes("instagram")?"fa-brands fa-instagram":u.includes("facebook")||d.includes("facebook")?"fa-brands fa-facebook":u.includes("pinterest")||d.includes("pinterest")?"fa-brands fa-pinterest":u.includes("twitter")||d.includes("twitter")||u.includes("x")?"fa-brands fa-x-twitter":u.includes("tiktok")||d.includes("tiktok")?"fa-brands fa-tiktok":"fa-solid fa-link"},s=Array.isArray(t.socialLinks)?t.socialLinks:[];return c.jsxs("footer",{className:`py-24 border-t text-center relative overflow-hidden transition-colors duration-300 ${n?"bg-[#1a1a1a] border-gray-800":"bg-white border-gray-100"}`,children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-gold/5 rounded-full blur-3xl -z-10"}),c.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[c.jsx("div",{className:"text-5xl md:text-6xl font-serif text-gold mb-8 italic tracking-widest",children:t.coupleNames?t.coupleNames.split("&").map(o=>o.trim().charAt(0)).join(" & "):"A & I"}),c.jsxs("p",{className:"max-w-md mx-auto text-gray-400 uppercase tracking-[0.4em] text-[10px] font-bold mb-12",children:[t.weddingDate," ",c.jsx("span",{className:"mx-3 text-gold/30",children:""})," ",t.venues&&t.venues.length>0?t.venues[0].name:"Location TBD"]}),c.jsx("div",{className:"flex justify-center flex-wrap gap-10 mb-20",children:s.map((o,l)=>c.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-gold transition-all transform hover:scale-125",title:o.label,children:c.jsx("i",{className:`${i(o.label,o.url)} text-xl`})},l))}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-gray-400 font-medium",children:t.footerText||`Handcrafted with love for the ${t.coupleNames?(a=t.coupleNames.split("&")[1])==null?void 0:a.trim():"Couple"}`}),c.jsxs("div",{className:"flex justify-center items-center gap-4 text-[9px] uppercase tracking-widest text-gray-300",children:[c.jsxs("span",{children:[" 2026 ",((r=t.openingScreen)==null?void 0:r.brand)||t.coupleNames]}),c.jsx("span",{className:"w-1 h-1 bg-gray-200 rounded-full"}),c.jsxs("button",{onClick:e,className:"hover:text-gold transition-colors font-bold flex items-center gap-1",children:[c.jsx("i",{className:"fa-solid fa-lock text-[8px]"})," Management"]})]})]})]})]})};class rf{static getRSVPConfirmationMailto(e){const n=encodeURIComponent("RSVP Confirmation - Louie & Florie Wedding"),i=e.status===ee.ATTENDING?"Yes":e.status===ee.NOT_ATTENDING?"No":"Maybe",s=encodeURIComponent(`Dear ${e.name},

Thank you for your RSVP!

**Your RSVP Details:**
Name: ${e.name}
Email: ${e.email||"Not provided"}
Attending: ${i}
${e.plusOne?`Plus One: ${e.plusOneName||"Yes"}
`:""}
${e.dietary?`Dietary Restrictions: ${e.dietary}
`:""}
${e.notes?`Message: ${e.notes}
`:""}

We look forward to celebrating with you on July 4, 2026!

**Event Details:**
Date: July 4, 2026
Time: TBD
Venue: TBD

For any questions or changes, please reply to this email.

With love,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${s}`}static getFollowUpReminderMailto(e){const n=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),i=encodeURIComponent(`Dear ${e.name},

We hope this email finds you well!

We noticed you haven't confirmed your attendance for our wedding yet. We'd love to have you celebrate with us on July 4, 2026.

Please let us know if you'll be able to join us by visiting our wedding website:
[Your Website URL]

If you have any questions or need more information, feel free to reach out!

Looking forward to hearing from you.

Warmest regards,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${i}`}static getBatchReminderMailto(e){const n=e.map(a=>a.email).join(","),i=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),s=encodeURIComponent(`Dear Friends and Family,

We hope this email finds you well!

We're reaching out to remind you about our upcoming wedding on July 4, 2026. If you haven't already, please RSVP through our wedding website at your earliest convenience.

We can't wait to celebrate this special day with you!

If you need any additional information, please don't hesitate to reach out.

With love,
Louie & Florie`);return`mailto:?bcc=${n}&subject=${i}&body=${s}`}static sendRSVPConfirmation(e){const n=this.getRSVPConfirmationMailto(e);window.open(n,"_blank")}static sendFollowUpReminder(e){const n=this.getFollowUpReminderMailto(e);window.open(n,"_blank")}static sendBatchReminders(e){const n=this.getBatchReminderMailto(e);window.open(n,"_blank")}}const v8=()=>{const[t,e]=E.useState(!0),[n,i]=E.useState(!1),[s,a]=E.useState(!1),[r,o]=E.useState(!1),[l,u]=E.useState(""),[d,f]=E.useState(""),[h,m]=E.useState(!1),x="admin@simplylouie.com",[b,_]=E.useState(""),[g,p]=E.useState(!0),[y,w]=E.useState(!0),[N,j]=E.useState(()=>{const O=localStorage.getItem("wedding_content");return O?JSON.parse(O):DD}),[A,C]=E.useState(()=>{const O=localStorage.getItem("wedding_rsvps");return O?JSON.parse(O):[]}),[L,I]=E.useState(()=>{const O=localStorage.getItem("wedding_notes");return O?JSON.parse(O):[]}),[X,le]=E.useState([]),tt=E.useRef(null),{scrollYProgress:Ke}=FT(),_t=ID(Ke,{stiffness:100,damping:30,restDelta:.001});E.useEffect(()=>{var H,W;if(N.coupleNames==="Florie & Louie"||((H=N.openingScreen)==null?void 0:H.brand)==="Florie & Louie"||N.coupleNames==="Simply Louie"||((W=N.openingScreen)==null?void 0:W.brand)==="Simply Louie"){const me={...N,coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",openingScreen:{...N.openingScreen,title:"Louie & Florie",brand:"Louie & Florie",sealInitials:"LF"},adminPanelTitle:"Louie & Florie CMS"};j(me),Nt.updateContent(me)}},[N]),E.useEffect(()=>{const O=Nt.subscribeToContent($=>{j($),localStorage.setItem("wedding_content",JSON.stringify($))}),H=Nt.subscribeToRSVPs($=>{C($),localStorage.setItem("wedding_rsvps",JSON.stringify($))}),W=Nt.subscribeToNotes($=>{I($),localStorage.setItem("wedding_notes",JSON.stringify($))}),me=Nt.subscribeToGuestbook($=>{le($)});return()=>{O(),H(),W(),me()}},[]),E.useEffect(()=>{localStorage.setItem("wedding_content",JSON.stringify(N)),localStorage.setItem("wedding_rsvps",JSON.stringify(A)),localStorage.setItem("wedding_notes",JSON.stringify(L))},[N,A,L]),E.useEffect(()=>{const O=()=>{m(window.scrollY>400)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const M=()=>{tt.current&&(g?tt.current.play().catch(O=>console.log("Audio play blocked",O)):tt.current.pause(),p(!g))},B=()=>{requestAnimationFrame(()=>{w(O=>!O)})},U=O=>{C(H=>[...H,O]),Nt.saveRSVP(O),O.email&&O.status!==ee.UNDECIDED&&rf.sendRSVPConfirmation(O),setTimeout(()=>{_(O.name),a(!0)},2500)},ae=O=>(C(H=>H.map(W=>W.id===O.id?O:W)),Nt.saveRSVP(O)),T=O=>{j(O),Nt.updateContent(O).catch(console.error)},S=O=>{const H=A.find(W=>W.id===O);H&&(rf.sendFollowUpReminder(H),C(W=>W.map(me=>me.id===O?{...me,reminderSent:!0}:me)))},P=O=>{const H=A.filter(W=>O.includes(W.id));rf.sendBatchReminders(H),C(W=>W.map(me=>O.includes(me.id)?{...me,reminderSent:!0}:me))},F=O=>{C(H=>H.filter(W=>W.id!==O)),Nt.deleteRSVP(O)},q=O=>{const H={id:Date.now().toString(),content:O,date:new Date().toLocaleDateString()};I(W=>[H,...W]),Nt.saveNote(H)},Y=O=>{I(H=>H.filter(W=>W.id!==O)),Nt.deleteNote(O)};E.useEffect(()=>{const O=Jh.onAuthStateChange(H=>{H?(i(!0),o(!1)):i(!1)});return()=>O()},[]);const te=()=>{o(!0),f(""),u("")},G=async O=>{O.preventDefault(),f("");try{await Jh.login(x,l),i(!0),o(!1),window.scrollTo(0,0)}catch(H){console.error("Login error:",H),H.code==="auth/invalid-credential"||H.code==="auth/wrong-password"?f("Incorrect password"):H.code==="auth/user-not-found"?f("Admin account not configured"):H.code==="auth/too-many-requests"?f("Too many failed attempts. Try again later."):f("Authentication failed. Please try again.")}},ie=async()=>{await Jh.logout(),i(!1)},pe=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?c.jsx(MD,{content:N,onComplete:()=>e(!1)}):c.jsxs("div",{className:`min-height-screen transition-colors duration-700 relative overflow-hidden ${y?"bg-[#1a1a1a] text-white/90":"bg-[#fcfaf7] text-gray-800"}`,children:[c.jsx(y8,{count:25,type:"petals"}),c.jsx("audio",{ref:tt,loop:!0,preload:"auto",children:c.jsx("source",{src:N.musicUrl,type:"audio/mpeg"})},N.musicUrl),c.jsx(k.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gold z-[100] origin-left",style:{scaleX:_t}}),c.jsx(LD,{onAdminClick:te,onGuestDashboardClick:()=>{_(""),a(!0)},isMuted:g,onToggleMusic:M,isDarkMode:y,onToggleTheme:B,hidden:n||s||r}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx(UD,{content:N}),c.jsxs("main",{className:"flex-grow",children:[c.jsx($U,{content:N,isDarkMode:y}),c.jsxs("div",{id:"rsvp",className:`py-20 relative transition-colors duration-300 ${y?"bg-black/20":"bg-champagne/10"}`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gold/30 to-transparent"}),c.jsx(qU,{onAddRSVP:U,isDarkMode:y})]})]}),c.jsx(x8,{content:N,onAdminClick:te,isDarkMode:y}),c.jsx(Be,{children:h&&c.jsx(k.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:pe,className:"fixed bottom-8 left-8 z-40 w-12 h-12 bg-white text-gold rounded-full shadow-lg border border-gold/20 flex items-center justify-center hover:bg-gold hover:text-white transition-colors duration-300",children:c.jsx("i",{className:"fa-solid fa-arrow-up"})})}),c.jsx(Be,{children:s&&c.jsx(g8,{content:N,rsvps:A,initialName:b,onClose:()=>a(!1),onUpdateRSVP:ae,isDarkMode:y})}),c.jsx(Be,{children:r&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>o(!1),children:c.jsxs(k.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`p-8 md:p-12 rounded-sm shadow-2xl max-w-md w-full relative border-t-4 border-gold ${y?"bg-[#262626] text-white":"bg-white text-gray-800"}`,onClick:O=>O.stopPropagation(),children:[c.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 transition-colors",children:c.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("i",{className:"fa-solid fa-lock text-3xl text-gold"})}),c.jsx("h3",{className:`text-2xl font-serif ${y?"text-white":"text-gray-800"}`,children:"Admin Access"}),c.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2",children:"Enter Your Password"})]}),c.jsxs("form",{onSubmit:G,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold block mb-2",children:"Password"}),c.jsx("input",{autoFocus:!0,type:"password",value:l,onChange:O=>u(O.target.value),placeholder:"Enter your admin password",required:!0,className:`w-full text-center border-2 py-4 px-4 text-lg outline-none focus:border-gold transition-all rounded-xl font-body bg-transparent placeholder:text-gray-400 ${y?"border-gray-700 text-white":"border-gray-200 text-gray-800"}`})]}),d&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:c.jsxs("p",{className:"text-red-600 text-xs text-center font-bold flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-circle-exclamation"}),d]})}),c.jsxs("button",{type:"submit",className:"w-full bg-gold text-white py-4 rounded-xl text-[10px] uppercase font-bold tracking-[0.2em] hover:bg-[#b8962d] transition-all shadow-lg shadow-gold/20 flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fa-solid fa-unlock"}),"Unlock Admin Panel"]}),c.jsx("div",{className:"text-center pt-2",children:c.jsxs("p",{className:"text-xs text-gray-400",children:[c.jsx("i",{className:"fa-solid fa-shield-halved mr-1"}),"Secured with Firebase Authentication"]})})]})]})})}),c.jsx(Be,{children:n&&c.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 md:p-8",onClick:()=>i(!1),children:c.jsx(k.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"w-full max-w-[90vw] h-[90vh] rounded-3xl shadow-2xl relative overflow-hidden",onClick:O=>O.stopPropagation(),children:c.jsx(p8,{content:N,onUpdateContent:T,rsvps:A,notes:L,onAddNote:q,onDeleteNote:Y,onSendReminder:S,onBatchReminders:P,onDeleteRSVP:F,guestbookEntries:X,onDeleteGuestbookEntry:O=>Nt.deleteGuestbookEntry(O),onUpdateGuestbookEntry:O=>{le(H=>H.map(W=>W.id===O.id?O:W)),Nt.saveGuestbookEntry(O)},onClose:ie,isDarkMode:y})})},"admin-modal")})]})]})},xC=document.getElementById("root");if(!xC)throw new Error("Could not find root element to mount to");const b8=bR.createRoot(xC);b8.render(c.jsx(VC.StrictMode,{children:c.jsx(v8,{})}));
