(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kb={exports:{}},Bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN=Symbol.for("react.transitional.element"),mN=Symbol.for("react.fragment");function Xb(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:hN,type:t,key:i,ref:e!==void 0?e:null,props:n}}Bu.Fragment=mN;Bu.jsx=Xb;Bu.jsxs=Xb;Kb.exports=Bu;var u=Kb.exports,Qb={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Symbol.for("react.transitional.element"),pN=Symbol.for("react.portal"),gN=Symbol.for("react.fragment"),yN=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),xN=Symbol.for("react.consumer"),bN=Symbol.for("react.context"),_N=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),SN=Symbol.for("react.memo"),Zb=Symbol.for("react.lazy"),TN=Symbol.for("react.activity"),Ry=Symbol.iterator;function EN(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var Jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function hr(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Jb}hr.prototype.isReactComponent={};hr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n_(){}n_.prototype=hr.prototype;function qm(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Jb}var Ym=qm.prototype=new n_;Ym.constructor=qm;e_(Ym,hr.prototype);Ym.isPureReactComponent=!0;var Dy=Array.isArray;function th(){}var Ie={H:null,A:null,T:null,S:null},i_=Object.prototype.hasOwnProperty;function Wm(t,e,n){var i=n.ref;return{$$typeof:Gm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function CN(t,e){return Wm(t.type,e,t.props)}function $m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gm}function NN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iy=/\/+/g;function Od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NN(""+t.key):e.toString(36)}function AN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(th,th):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fa(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Gm:case pN:r=!0;break;case Zb:return r=t._init,fa(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Od(t,0):i,Dy(s)?(n="",r!=null&&(n=r.replace(Iy,"$&/")+"/"),fa(s,e,n,"",function(c){return c})):s!=null&&($m(s)&&(s=CN(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Iy,"$&/")+"/")+r)),e.push(s)),1;r=0;var o=i===""?".":i+":";if(Dy(t))for(var l=0;l<t.length;l++)i=t[l],a=o+Od(i,l),r+=fa(i,e,n,a,s);else if(l=EN(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,a=o+Od(i,l++),r+=fa(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return fa(AN(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function jl(t,e,n){if(t==null)return t;var i=[],s=0;return fa(t,i,"","",function(a){return e.call(n,a,s++)}),i}function RN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ky=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},DN={map:jl,forEach:function(t,e,n){jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jl(t,function(){e++}),e},toArray:function(t){return jl(t,function(e){return e})||[]},only:function(t){if(!$m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Activity=TN;te.Children=DN;te.Component=hr;te.Fragment=gN;te.Profiler=vN;te.PureComponent=qm;te.StrictMode=yN;te.Suspense=wN;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;te.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ie.H.useMemoCache(t)}};te.cache=function(t){return function(){return t.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=e_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!i_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];i.children=r}return Wm(t.type,s,i)};te.createContext=function(t){return t={$$typeof:bN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:xN,_context:t},t};te.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)i_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Wm(t,a,s)};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:_N,render:t}};te.isValidElement=$m;te.lazy=function(t){return{$$typeof:Zb,_payload:{_status:-1,_result:t},_init:RN}};te.memo=function(t,e){return{$$typeof:SN,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Ie.T,n={};Ie.T=n;try{var i=t(),s=Ie.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(th,ky)}catch(a){ky(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ie.T=e}};te.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()};te.use=function(t){return Ie.H.use(t)};te.useActionState=function(t,e,n){return Ie.H.useActionState(t,e,n)};te.useCallback=function(t,e){return Ie.H.useCallback(t,e)};te.useContext=function(t){return Ie.H.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t,e){return Ie.H.useDeferredValue(t,e)};te.useEffect=function(t,e){return Ie.H.useEffect(t,e)};te.useEffectEvent=function(t){return Ie.H.useEffectEvent(t)};te.useId=function(){return Ie.H.useId()};te.useImperativeHandle=function(t,e,n){return Ie.H.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Ie.H.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Ie.H.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Ie.H.useMemo(t,e)};te.useOptimistic=function(t,e){return Ie.H.useOptimistic(t,e)};te.useReducer=function(t,e,n){return Ie.H.useReducer(t,e,n)};te.useRef=function(t){return Ie.H.useRef(t)};te.useState=function(t){return Ie.H.useState(t)};te.useSyncExternalStore=function(t,e,n){return Ie.H.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Ie.H.useTransition()};te.version="19.2.3";Qb.exports=te;var E=Qb.exports;const IN=$b(E);var s_={exports:{}},Hu={},a_={exports:{}},r_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,U){var P=I.length;I.push(U);e:for(;0<P;){var ue=P-1>>>1,T=I[ue];if(0<s(T,U))I[ue]=U,I[P]=T,P=ue;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var U=I[0],P=I.pop();if(P!==U){I[0]=P;e:for(var ue=0,T=I.length,S=T>>>1;ue<S;){var z=2*(ue+1)-1,G=I[z],q=z+1,W=I[q];if(0>s(G,P))q<T&&0>s(W,G)?(I[ue]=W,I[q]=P,ue=q):(I[ue]=G,I[z]=P,ue=z);else if(q<T&&0>s(W,P))I[ue]=W,I[q]=P,ue=q;else break e}}return U}function s(I,U){var P=I.sortIndex-U.sortIndex;return P!==0?P:I.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();t.unstable_now=function(){return r.now()-o}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,_=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(I){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=I)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function C(I){if(_=!1,b(I),!v)if(n(l)!==null)v=!0,D||(D=!0,Oe());else{var U=n(c);U!==null&&Nt(C,U.startTime-I)}}var D=!1,A=-1,N=5,M=-1;function L(){return w?!0:!(t.unstable_now()-M<N)}function ve(){if(w=!1,D){var I=t.unstable_now();M=I;var U=!0;try{e:{v=!1,_&&(_=!1,p(A),A=-1),m=!0;var P=f;try{t:{for(b(I),h=n(l);h!==null&&!(h.expirationTime>I&&L());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var T=ue(h.expirationTime<=I);if(I=t.unstable_now(),typeof T=="function"){h.callback=T,b(I),U=!0;break t}h===n(l)&&i(l),b(I)}else i(l);h=n(l)}if(h!==null)U=!0;else{var S=n(c);S!==null&&Nt(C,S.startTime-I),U=!1}}break e}finally{h=null,f=P,m=!1}U=void 0}}finally{U?Oe():D=!1}}}var Oe;if(typeof y=="function")Oe=function(){y(ve)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Ht=Bt.port2;Bt.port1.onmessage=ve,Oe=function(){Ht.postMessage(null)}}else Oe=function(){g(ve,0)};function Nt(I,U){A=g(function(){I(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var P=f;f=U;try{return I()}finally{f=P}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=f;f=I;try{return U()}finally{f=P}},t.unstable_scheduleCallback=function(I,U,P){var ue=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ue+P:ue):P=ue,I){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=P+T,I={id:d++,callback:U,priorityLevel:I,startTime:P,expirationTime:T,sortIndex:-1},P>ue?(I.sortIndex=P,e(c,I),n(l)===null&&I===n(c)&&(_?(p(A),A=-1):_=!0,Nt(C,P-ue))):(I.sortIndex=T,e(l,I),v||m||(v=!0,D||(D=!0,Oe()))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var U=f;return function(){var P=f;f=U;try{return I.apply(this,arguments)}finally{f=P}}}})(r_);a_.exports=r_;var kN=a_.exports,o_={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON=E;function l_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ni(){}var _t={d:{f:Ni,r:function(){throw Error(l_(522))},D:Ni,C:Ni,L:Ni,m:Ni,X:Ni,S:Ni,M:Ni},p:0,findDOMNode:null},MN=Symbol.for("react.portal");function jN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:MN,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var so=ON.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(l_(299));return jN(t,e,null,n)};Ct.flushSync=function(t){var e=so.T,n=_t.p;try{if(so.T=null,_t.p=2,t)return t()}finally{so.T=e,_t.p=n,_t.d.f()}};Ct.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,_t.d.C(t,e))};Ct.prefetchDNS=function(t){typeof t=="string"&&_t.d.D(t)};Ct.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Fu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?_t.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&_t.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ct.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Fu(e.as,e.crossOrigin);_t.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&_t.d.M(t)};Ct.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Fu(n,e.crossOrigin);_t.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ct.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Fu(e.as,e.crossOrigin);_t.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else _t.d.m(t)};Ct.requestFormReset=function(t){_t.d.r(t)};Ct.unstable_batchedUpdates=function(t,e){return t(e)};Ct.useFormState=function(t,e,n){return so.H.useFormState(t,e,n)};Ct.useFormStatus=function(){return so.H.useHostTransitionStatus()};Ct.version="19.2.3";function c_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c_)}catch(t){console.error(t)}}c_(),o_.exports=Ct;var LN=o_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=kN,u_=E,UN=LN;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(ol(t)!==t)throw Error(R(188))}function PN(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Oy(s),t;if(a===i)return Oy(s),e;a=a.sibling}throw Error(R(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function m_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=m_(t),e!==null)return e;t=t.sibling}return null}var ke=Object.assign,VN=Symbol.for("react.element"),Ll=Symbol.for("react.transitional.element"),$r=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),g_=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),ih=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),Xm=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),ah=Symbol.for("react.activity"),zN=Symbol.for("react.memo_cache_sentinel"),My=Symbol.iterator;function Mr(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var BN=Symbol.for("react.client.reference");function rh(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===BN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case nh:return"Profiler";case p_:return"StrictMode";case ih:return"Suspense";case sh:return"SuspenseList";case ah:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $r:return"Portal";case ii:return t.displayName||"Context";case g_:return(t._context.displayName||"Context")+".Consumer";case Km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xm:return e=t.displayName||null,e!==null?e:rh(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return rh(t(e))}catch{}}return null}var Kr=Array.isArray,Z=u_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=UN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,js={pending:!1,data:null,method:null,action:null},oh=[],ya=-1;function Wn(t){return{current:t}}function ct(t){0>ya||(t.current=oh[ya],oh[ya]=null,ya--)}function Ne(t,e){ya++,oh[ya]=t.current,t.current=e}var Hn=Wn(null),ko=Wn(null),$i=Wn(null),jc=Wn(null);function Lc(t,e){switch(Ne($i,e),Ne(ko,t),Ne(Hn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?z0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=z0(e),t=L1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ct(Hn),Ne(Hn,t)}function Xa(){ct(Hn),ct(ko),ct($i)}function lh(t){t.memoizedState!==null&&Ne(jc,t);var e=Hn.current,n=L1(e,t.type);e!==n&&(Ne(ko,t),Ne(Hn,n))}function Uc(t){ko.current===t&&(ct(Hn),ct(ko)),jc.current===t&&(ct(jc),Fo._currentValue=js)}var Md,jy;function Ts(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||"",jy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Md+t+jy}var jd=!1;function Ld(t,e){if(!t||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var d=`
`+l[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ts(n):""}function HN(t,e){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==e&&e!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return Ld(t.type,!1);case 11:return Ld(t.type.render,!1);case 1:return Ld(t.type,!0);case 31:return Ts("Activity");default:return""}}function Ly(t){try{var e="",n=null;do e+=HN(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ch=Object.prototype.hasOwnProperty,Qm=et.unstable_scheduleCallback,Ud=et.unstable_cancelCallback,FN=et.unstable_shouldYield,GN=et.unstable_requestPaint,Xt=et.unstable_now,qN=et.unstable_getCurrentPriorityLevel,y_=et.unstable_ImmediatePriority,v_=et.unstable_UserBlockingPriority,Pc=et.unstable_NormalPriority,YN=et.unstable_LowPriority,x_=et.unstable_IdlePriority,WN=et.log,$N=et.unstable_setDisableYieldValue,ll=null,Qt=null;function Hi(t){if(typeof WN=="function"&&$N(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ll,t)}catch{}}var Zt=Math.clz32?Math.clz32:QN,KN=Math.log,XN=Math.LN2;function QN(t){return t>>>=0,t===0?32:31-(KN(t)/XN|0)|0}var Ul=256,Pl=262144,Vl=4194304;function Es(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?s=Es(i):(r&=o,r!==0?s=Es(r):n||(n=o&~t,n!==0&&(s=Es(n))))):(o=i&~a,o!==0?s=Es(o):r!==0?s=Es(r):n||(n=i&~t,n!==0&&(s=Es(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function cl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ZN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b_(){var t=Vl;return Vl<<=1,!(Vl&62914560)&&(Vl=4194304),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function JN(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Zt(n),h=1<<d;o[d]=0,l[d]=-1;var f=c[d];if(f!==null)for(c[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}i!==0&&__(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function __(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function w_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Zt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function S_(t,e){var n=e&-e;return n=n&42?1:Zm(n),n&(t.suspendedLanes|e)?0:n}function Zm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function T_(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:W1(t.type))}function Uy(t,e){var n=ge.p;try{return ge.p=t,e()}finally{ge.p=n}}var gs=Math.random().toString(36).slice(2),ft="__reactFiber$"+gs,Pt="__reactProps$"+gs,mr="__reactContainer$"+gs,uh="__reactEvents$"+gs,eA="__reactListeners$"+gs,tA="__reactHandles$"+gs,Py="__reactResources$"+gs,dl="__reactMarker$"+gs;function ep(t){delete t[ft],delete t[Pt],delete t[uh],delete t[eA],delete t[tA]}function va(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[ft])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function pr(t){if(t=t[ft]||t[mr]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function ja(t){var e=t[Py];return e||(e=t[Py]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function rt(t){t[dl]=!0}var E_=new Set,C_={};function ta(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(C_[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var nA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vy={},zy={};function iA(t){return ch.call(zy,t)?!0:ch.call(Vy,t)?!1:nA.test(t)?zy[t]=!0:(Vy[t]=!0,!1)}function cc(t,e,n){if(iA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function zl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sA(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){if(!t._valueTracker){var e=N_(t)?"checked":"value";t._valueTracker=sA(t,e,""+t[e])}}function A_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=N_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Vc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var aA=/[\n"\\]/g;function cn(t){return t.replace(aA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fh(t,e,n,i,s,a,r,o){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rn(e)):t.value!==""+rn(e)&&(t.value=""+rn(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?hh(t,r,rn(e)):n!=null?hh(t,r,rn(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+rn(o):t.removeAttribute("name")}function R_(t,e,n,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){dh(t);return}n=n!=null?""+rn(n):"",e=e!=null?""+rn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),dh(t)}function hh(t,e,n){e==="number"&&Vc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function La(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function D_(t,e,n){if(e!=null&&(e=""+rn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+rn(n):""}function I_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Kr(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=rn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),dh(t)}function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function By(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||rA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function k_(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&By(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&By(t,a,e[a])}function tp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(t){return lA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var mh=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xa=null,Ua=null;function Hy(t){var e=pr(t);if(e&&(t=e.stateNode)){var n=t[Pt]||null;e:switch(t=e.stateNode,e.type){case"input":if(fh(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Pt]||null;if(!s)throw Error(R(90));fh(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&A_(i)}break e;case"textarea":D_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&La(t,!!n.multiple,e,!1)}}}var Vd=!1;function O_(t,e,n){if(Vd)return t(e,n);Vd=!0;try{var i=t(e);return i}finally{if(Vd=!1,(xa!==null||Ua!==null)&&(nd(),xa&&(e=xa,t=Ua,Ua=xa=null,Hy(e),t)))for(e=0;e<t.length;e++)Hy(t[e])}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Pt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(mi)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ph=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ph=!1}var Fi=null,ip=null,dc=null;function M_(){if(dc)return dc;var t,e=ip,n=e.length,i,s="value"in Fi?Fi.value:Fi.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return dc=s.slice(t,1<i?1-i:void 0)}function fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function Fy(){return!1}function zt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bl:Fy,this.isPropagationStopped=Fy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=zt(na),fl=ke({},na,{view:0,detail:0}),cA=zt(fl),zd,Bd,Lr,Yu=ke({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(zd=t.screenX-Lr.screenX,Bd=t.screenY-Lr.screenY):Bd=zd=0,Lr=t),zd)},movementY:function(t){return"movementY"in t?t.movementY:Bd}}),Gy=zt(Yu),uA=ke({},Yu,{dataTransfer:0}),dA=zt(uA),fA=ke({},fl,{relatedTarget:0}),Hd=zt(fA),hA=ke({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=zt(hA),pA=ke({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gA=zt(pA),yA=ke({},na,{data:0}),qy=zt(yA),vA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bA[t])?!!e[t]:!1}function sp(){return _A}var wA=ke({},fl,{key:function(t){if(t.key){var e=vA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sp,charCode:function(t){return t.type==="keypress"?fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SA=zt(wA),TA=ke({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=zt(TA),EA=ke({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sp}),CA=zt(EA),NA=ke({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),AA=zt(NA),RA=ke({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DA=zt(RA),IA=ke({},na,{newState:0,oldState:0}),kA=zt(IA),OA=[9,13,27,32],ap=mi&&"CompositionEvent"in window,ao=null;mi&&"documentMode"in document&&(ao=document.documentMode);var MA=mi&&"TextEvent"in window&&!ao,j_=mi&&(!ap||ao&&8<ao&&11>=ao),Wy=" ",$y=!1;function L_(t,e){switch(t){case"keyup":return OA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function jA(t,e){switch(t){case"compositionend":return U_(e);case"keypress":return e.which!==32?null:($y=!0,Wy);case"textInput":return t=e.data,t===Wy&&$y?null:t;default:return null}}function LA(t,e){if(ba)return t==="compositionend"||!ap&&L_(t,e)?(t=M_(),dc=ip=Fi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var UA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UA[t.type]:e==="textarea"}function P_(t,e,n,i){xa?Ua?Ua.push(i):Ua=[i]:xa=i,e=iu(e,"onChange"),0<e.length&&(n=new qu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ro=null,Mo=null;function PA(t){O1(t,0)}function Wu(t){var e=Xr(t);if(A_(e))return t}function Xy(t,e){if(t==="change")return e}var V_=!1;if(mi){var Fd;if(mi){var Gd="oninput"in document;if(!Gd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Gd=typeof Qy.oninput=="function"}Fd=Gd}else Fd=!1;V_=Fd&&(!document.documentMode||9<document.documentMode)}function Zy(){ro&&(ro.detachEvent("onpropertychange",z_),Mo=ro=null)}function z_(t){if(t.propertyName==="value"&&Wu(Mo)){var e=[];P_(e,Mo,t,np(t)),O_(PA,e)}}function VA(t,e,n){t==="focusin"?(Zy(),ro=e,Mo=n,ro.attachEvent("onpropertychange",z_)):t==="focusout"&&Zy()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(Mo)}function BA(t,e){if(t==="click")return Wu(e)}function HA(t,e){if(t==="input"||t==="change")return Wu(e)}function FA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:FA;function jo(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!ch.call(e,s)||!en(t[s],e[s]))return!1}return!0}function Jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e0(t,e){var n=Jy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function B_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Vc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vc(t.document)}return e}function rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var GA=mi&&"documentMode"in document&&11>=document.documentMode,_a=null,gh=null,oo=null,yh=!1;function t0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yh||_a==null||_a!==Vc(i)||(i=_a,"selectionStart"in i&&rp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oo&&jo(oo,i)||(oo=i,i=iu(gh,"onSelect"),0<i.length&&(e=new qu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_a)))}function ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},qd={},F_={};mi&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function ia(t){if(qd[t])return qd[t];if(!wa[t])return t;var e=wa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F_)return qd[t]=e[n];return t}var G_=ia("animationend"),q_=ia("animationiteration"),Y_=ia("animationstart"),qA=ia("transitionrun"),YA=ia("transitionstart"),WA=ia("transitioncancel"),W_=ia("transitionend"),$_=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function Ln(t,e){$_.set(t,e),ta(e,[t])}var zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Sa=0,op=0;function $u(){for(var t=Sa,e=op=Sa=0;e<t;){var n=an[e];an[e++]=null;var i=an[e];an[e++]=null;var s=an[e];an[e++]=null;var a=an[e];if(an[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&K_(n,s,a)}}function Ku(t,e,n,i){an[Sa++]=t,an[Sa++]=e,an[Sa++]=n,an[Sa++]=i,op|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function lp(t,e,n,i){return Ku(t,e,n,i),Bc(t)}function sa(t,e){return Ku(t,null,null,e),Bc(t)}function K_(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-Zt(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function Bc(t){if(50<yo)throw yo=0,Vh=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ta={};function $A(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,i){return new $A(t,e,n,i)}function cp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function X_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function hc(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")cp(t)&&(r=1);else if(typeof t=="string")r=JR(t,n,Hn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ah:return t=$t(31,n,e,s),t.elementType=ah,t.lanes=a,t;case ga:return Ls(n.children,s,a,e);case p_:r=8,s|=24;break;case nh:return t=$t(12,n,e,s|2),t.elementType=nh,t.lanes=a,t;case ih:return t=$t(13,n,e,s),t.elementType=ih,t.lanes=a,t;case sh:return t=$t(19,n,e,s),t.elementType=sh,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ii:r=10;break e;case g_:r=9;break e;case Km:r=11;break e;case Xm:r=14;break e;case Ii:r=16,i=null;break e}r=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=$t(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Ls(t,e,n,i){return t=$t(7,t,i,e),t.lanes=n,t}function Yd(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Q_(t){var e=$t(18,null,null,0);return e.stateNode=t,e}function Wd(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n0=new WeakMap;function un(t,e){if(typeof t=="object"&&t!==null){var n=n0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ly(e)},n0.set(t,e),e)}return{value:t,source:e,stack:Ly(e)}}var Ea=[],Ca=0,Hc=null,Lo=0,on=[],ln=0,os=null,Pn=1,Vn="";function ti(t,e){Ea[Ca++]=Lo,Ea[Ca++]=Hc,Hc=t,Lo=e}function Z_(t,e,n){on[ln++]=Pn,on[ln++]=Vn,on[ln++]=os,os=t;var i=Pn;t=Vn;var s=32-Zt(i)-1;i&=~(1<<s),n+=1;var a=32-Zt(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Pn=1<<32-Zt(e)+s|n<<s|i,Vn=a+t}else Pn=1<<a|n<<s|i,Vn=t}function up(t){t.return!==null&&(ti(t,1),Z_(t,1,0))}function dp(t){for(;t===Hc;)Hc=Ea[--Ca],Ea[Ca]=null,Lo=Ea[--Ca],Ea[Ca]=null;for(;t===os;)os=on[--ln],on[ln]=null,Vn=on[--ln],on[ln]=null,Pn=on[--ln],on[ln]=null}function J_(t,e){on[ln++]=Pn,on[ln++]=Vn,on[ln++]=os,Pn=e.id,Vn=e.overflow,os=t}var ht=null,De=null,fe=!1,Ki=null,dn=!1,xh=Error(R(519));function ls(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(un(e,t)),xh}function i0(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ft]=t,e[Pt]=i,n){case"dialog":oe("cancel",e),oe("close",e);break;case"iframe":case"object":case"embed":oe("load",e);break;case"video":case"audio":for(n=0;n<Bo.length;n++)oe(Bo[n],e);break;case"source":oe("error",e);break;case"img":case"image":case"link":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"input":oe("invalid",e),R_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":oe("invalid",e);break;case"textarea":oe("invalid",e),I_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||j1(e.textContent,n)?(i.popover!=null&&(oe("beforetoggle",e),oe("toggle",e)),i.onScroll!=null&&oe("scroll",e),i.onScrollEnd!=null&&oe("scrollend",e),i.onClick!=null&&(e.onclick=si),e=!0):e=!1,e||ls(t,!0)}function s0(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:ht=ht.return}}function ca(t){if(t!==ht)return!1;if(!fe)return s0(t),fe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Gh(t.type,t.memoizedProps)),n=!n),n&&De&&ls(t),s0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));De=G0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));De=G0(t)}else e===27?(e=De,ys(t.type)?(t=$h,$h=null,De=t):De=e):De=ht?pn(t.stateNode.nextSibling):null;return!0}function Hs(){De=ht=null,fe=!1}function $d(){var t=Ki;return t!==null&&(It===null?It=t:It.push.apply(It,t),Ki=null),t}function Uo(t){Ki===null?Ki=[t]:Ki.push(t)}var bh=Wn(null),aa=null,ai=null;function Oi(t,e,n){Ne(bh,e._currentValue),e._currentValue=n}function ui(t){t._currentValue=bh.current,ct(bh)}function _h(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function wh(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=s;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),_h(a.return,n,t),i||(r=null);break e}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(R(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),_h(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function gr(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(R(387));if(r=r.memoizedProps,r!==null){var o=s.type;en(s.pendingProps.value,r.value)||(t!==null?t.push(o):t=[o])}}else if(s===jc.current){if(r=s.alternate,r===null)throw Error(R(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Fo):t=[Fo])}s=s.return}t!==null&&wh(e,t,n,i),e.flags|=262144}function Fc(t){for(t=t.firstContext;t!==null;){if(!en(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){aa=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return ew(aa,t)}function Hl(t,e){return aa===null&&Fs(t),ew(t,e)}function ew(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(R(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var KA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},XA=et.unstable_scheduleCallback,QA=et.unstable_NormalPriority,$e={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fp(){return{controller:new KA,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&XA(QA,function(){t.controller.abort()})}var lo=null,Sh=0,Ja=0,Pa=null;function ZA(t,e){if(lo===null){var n=lo=[];Sh=0,Ja=Up(),Pa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Sh++,e.then(a0,a0),e}function a0(){if(--Sh===0&&lo!==null){Pa!==null&&(Pa.status="fulfilled");var t=lo;lo=null,Ja=0,Pa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JA(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var r0=Z.S;Z.S=function(t,e){m1=Xt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ZA(t,e),r0!==null&&r0(t,e)};var Us=Wn(null);function hp(){var t=Us.current;return t!==null?t:Te.pooledCache}function mc(t,e){e===null?Ne(Us,Us.current):Ne(Us,e.pool)}function tw(){var t=hp();return t===null?null:{parent:$e._currentValue,pool:t}}var yr=Error(R(460)),mp=Error(R(474)),Xu=Error(R(542)),Gc={then:function(){}};function o0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nw(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(si,si),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c0(t),t;default:if(typeof e.status=="string")e.then(si,si);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c0(t),t}throw Ps=e,yr}}function Cs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ps=n,yr):n}}var Ps=null;function l0(){if(Ps===null)throw Error(R(459));var t=Ps;return Ps=null,t}function c0(t){if(t===yr||t===Xu)throw Error(R(483))}var Va=null,Po=0;function Fl(t){var e=Po;return Po+=1,Va===null&&(Va=[]),nw(Va,t,e)}function Ur(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Gl(t,e){throw e.$$typeof===VN?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iw(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function i(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(g,p){return g=ci(g,p),g.index=0,g.sibling=null,g}function a(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=67108866,p):y):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function r(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function o(g,p,y,b){return p===null||p.tag!==6?(p=Yd(y,g.mode,b),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,b){var C=y.type;return C===ga?d(g,p,y.props.children,b,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ii&&Cs(C)===p.type)?(p=s(p,y.props),Ur(p,y),p.return=g,p):(p=hc(y.type,y.key,y.props,null,g.mode,b),Ur(p,y),p.return=g,p)}function c(g,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Wd(y,g.mode,b),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,b,C){return p===null||p.tag!==7?(p=Ls(y,g.mode,b,C),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Yd(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ll:return y=hc(p.type,p.key,p.props,null,g.mode,y),Ur(y,p),y.return=g,y;case $r:return p=Wd(p,g.mode,y),p.return=g,p;case Ii:return p=Cs(p),h(g,p,y)}if(Kr(p)||Mr(p))return p=Ls(p,g.mode,y,null),p.return=g,p;if(typeof p.then=="function")return h(g,Fl(p),y);if(p.$$typeof===ii)return h(g,Hl(g,p),y);Gl(g,p)}return null}function f(g,p,y,b){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:o(g,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ll:return y.key===C?l(g,p,y,b):null;case $r:return y.key===C?c(g,p,y,b):null;case Ii:return y=Cs(y),f(g,p,y,b)}if(Kr(y)||Mr(y))return C!==null?null:d(g,p,y,b,null);if(typeof y.then=="function")return f(g,p,Fl(y),b);if(y.$$typeof===ii)return f(g,p,Hl(g,y),b);Gl(g,y)}return null}function m(g,p,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(y)||null,o(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ll:return g=g.get(b.key===null?y:b.key)||null,l(p,g,b,C);case $r:return g=g.get(b.key===null?y:b.key)||null,c(p,g,b,C);case Ii:return b=Cs(b),m(g,p,y,b,C)}if(Kr(b)||Mr(b))return g=g.get(y)||null,d(p,g,b,C,null);if(typeof b.then=="function")return m(g,p,y,Fl(b),C);if(b.$$typeof===ii)return m(g,p,y,Hl(p,b),C);Gl(p,b)}return null}function v(g,p,y,b){for(var C=null,D=null,A=p,N=p=0,M=null;A!==null&&N<y.length;N++){A.index>N?(M=A,A=null):M=A.sibling;var L=f(g,A,y[N],b);if(L===null){A===null&&(A=M);break}t&&A&&L.alternate===null&&e(g,A),p=a(L,p,N),D===null?C=L:D.sibling=L,D=L,A=M}if(N===y.length)return n(g,A),fe&&ti(g,N),C;if(A===null){for(;N<y.length;N++)A=h(g,y[N],b),A!==null&&(p=a(A,p,N),D===null?C=A:D.sibling=A,D=A);return fe&&ti(g,N),C}for(A=i(A);N<y.length;N++)M=m(A,g,N,y[N],b),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?N:M.key),p=a(M,p,N),D===null?C=M:D.sibling=M,D=M);return t&&A.forEach(function(ve){return e(g,ve)}),fe&&ti(g,N),C}function _(g,p,y,b){if(y==null)throw Error(R(151));for(var C=null,D=null,A=p,N=p=0,M=null,L=y.next();A!==null&&!L.done;N++,L=y.next()){A.index>N?(M=A,A=null):M=A.sibling;var ve=f(g,A,L.value,b);if(ve===null){A===null&&(A=M);break}t&&A&&ve.alternate===null&&e(g,A),p=a(ve,p,N),D===null?C=ve:D.sibling=ve,D=ve,A=M}if(L.done)return n(g,A),fe&&ti(g,N),C;if(A===null){for(;!L.done;N++,L=y.next())L=h(g,L.value,b),L!==null&&(p=a(L,p,N),D===null?C=L:D.sibling=L,D=L);return fe&&ti(g,N),C}for(A=i(A);!L.done;N++,L=y.next())L=m(A,g,N,L.value,b),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?N:L.key),p=a(L,p,N),D===null?C=L:D.sibling=L,D=L);return t&&A.forEach(function(Oe){return e(g,Oe)}),fe&&ti(g,N),C}function w(g,p,y,b){if(typeof y=="object"&&y!==null&&y.type===ga&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ll:e:{for(var C=y.key;p!==null;){if(p.key===C){if(C=y.type,C===ga){if(p.tag===7){n(g,p.sibling),b=s(p,y.props.children),b.return=g,g=b;break e}}else if(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ii&&Cs(C)===p.type){n(g,p.sibling),b=s(p,y.props),Ur(b,y),b.return=g,g=b;break e}n(g,p);break}else e(g,p);p=p.sibling}y.type===ga?(b=Ls(y.props.children,g.mode,b,y.key),b.return=g,g=b):(b=hc(y.type,y.key,y.props,null,g.mode,b),Ur(b,y),b.return=g,g=b)}return r(g);case $r:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),b=s(p,y.children||[]),b.return=g,g=b;break e}else{n(g,p);break}else e(g,p);p=p.sibling}b=Wd(y,g.mode,b),b.return=g,g=b}return r(g);case Ii:return y=Cs(y),w(g,p,y,b)}if(Kr(y))return v(g,p,y,b);if(Mr(y)){if(C=Mr(y),typeof C!="function")throw Error(R(150));return y=C.call(y),_(g,p,y,b)}if(typeof y.then=="function")return w(g,p,Fl(y),b);if(y.$$typeof===ii)return w(g,p,Hl(g,y),b);Gl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),b=s(p,y),b.return=g,g=b):(n(g,p),b=Yd(y,g.mode,b),b.return=g,g=b),r(g)):n(g,p)}return function(g,p,y,b){try{Po=0;var C=w(g,p,y,b);return Va=null,C}catch(A){if(A===yr||A===Xu)throw A;var D=$t(29,A,null,g.mode);return D.lanes=b,D.return=g,D}finally{}}}var Gs=iw(!0),sw=iw(!1),ki=!1;function pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Bc(t),K_(t,null,n),e}return Ku(t,i,e,n),Bc(t)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,w_(t,n)}}function Kd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Eh=!1;function uo(){if(Eh){var t=Pa;if(t!==null)throw t}}function fo(t,e,n,i){Eh=!1;var s=t.updateQueue;ki=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==r&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=s.baseState;r=0,d=c=l=null,o=a;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(de&f)===f:(i&f)===f){f!==0&&f===Ja&&(Eh=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=t,_=o;f=e;var w=n;switch(_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(w,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(w,h,f):v,f==null)break e;h=ke({},h,f);break e;case 2:ki=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=s.callbacks,m===null?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,r|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,a===null&&(s.shared.lanes=0),us|=r,t.lanes=r,t.memoizedState=h}}function aw(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function rw(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aw(n[t],e)}var er=Wn(null),qc=Wn(0);function u0(t,e){t=vi,Ne(qc,t),Ne(er,e),vi=t|e.baseLanes}function Ch(){Ne(qc,vi),Ne(er,er.current)}function gp(){vi=qc.current,ct(er),ct(qc)}var tn=Wn(null),mn=null;function Mi(t){var e=t.alternate;Ne(He,He.current&1),Ne(tn,t),mn===null&&(e===null||er.current!==null||e.memoizedState!==null)&&(mn=t)}function Nh(t){Ne(He,He.current),Ne(tn,t),mn===null&&(mn=t)}function ow(t){t.tag===22?(Ne(He,He.current),Ne(tn,t),mn===null&&(mn=t)):ji()}function ji(){Ne(He,He.current),Ne(tn,tn.current)}function Wt(t){ct(tn),mn===t&&(mn=null),ct(He)}var He=Wn(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Yh(n)||Wh(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=0,ne=null,Se=null,Ye=null,Wc=!1,za=!1,qs=!1,$c=0,Vo=0,Ba=null,eR=0;function Le(){throw Error(R(321))}function yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function vp(t,e,n,i,s,a){return pi=a,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z.H=t===null||t.memoizedState===null?Pw:Rp,qs=!1,a=n(i,s),qs=!1,za&&(a=cw(e,n,i,s)),lw(t),a}function lw(t){Z.H=zo;var e=Se!==null&&Se.next!==null;if(pi=0,Ye=Se=ne=null,Wc=!1,Vo=0,Ba=null,e)throw Error(R(300));t===null||Ke||(t=t.dependencies,t!==null&&Fc(t)&&(Ke=!0))}function cw(t,e,n,i){ne=t;var s=0;do{if(za&&(Ba=null),Vo=0,za=!1,25<=s)throw Error(R(301));if(s+=1,Ye=Se=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Z.H=Vw,a=e(n,i)}while(za);return a}function tR(){var t=Z.H,e=t.useState()[0];return e=typeof e.then=="function"?ml(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(ne.flags|=1024),e}function xp(){var t=$c!==0;return $c=0,t}function bp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function _p(t){if(Wc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Wc=!1}pi=0,Ye=Se=ne=null,za=!1,Vo=$c=0,Ba=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ne.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Fe(){if(Se===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ye===null?ne.memoizedState:Ye.next;if(e!==null)Ye=e,Se=t;else{if(t===null)throw ne.alternate===null?Error(R(467)):Error(R(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ye===null?ne.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var e=Vo;return Vo+=1,Ba===null&&(Ba=[]),t=nw(Ba,t,e),e=ne,(Ye===null?e.memoizedState:Ye.next)===null&&(e=e.alternate,Z.H=e===null||e.memoizedState===null?Pw:Rp),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ii)return mt(t)}throw Error(R(438,String(t)))}function wp(t){var e=null,n=ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ne.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Qu(),ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=zN;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function pc(t){var e=Fe();return Sp(e,Se,t)}function Sp(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var o=r=null,l=null,c=e,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(de&h)===h:(pi&h)===h){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Ja&&(d=!0);else if((pi&f)===f){c=c.next,f===Ja&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,r=a):l=l.next=h,ne.lanes|=f,us|=f;h=c.action,qs&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,ne.lanes|=h,us|=h;c=c.next}while(c!==null&&c!==e);if(l===null?r=a:l.next=o,!en(a,t.memoizedState)&&(Ke=!0,d&&(n=Pa,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Xd(t){var e=Fe(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);en(a,e.memoizedState)||(Ke=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function uw(t,e,n){var i=ne,s=Fe(),a=fe;if(a){if(n===void 0)throw Error(R(407));n=n()}else n=e();var r=!en((Se||s).memoizedState,n);if(r&&(s.memoizedState=n,Ke=!0),s=s.queue,Tp(hw.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,tr(9,{destroy:void 0},fw.bind(null,i,s,n,e),null),Te===null)throw Error(R(349));a||pi&127||dw(i,e,n)}return n}function dw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e=Qu(),ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fw(t,e,n,i){e.value=n,e.getSnapshot=i,mw(e)&&pw(t)}function hw(t,e,n){return n(function(){mw(e)&&pw(t)})}function mw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function pw(t){var e=sa(t,2);e!==null&&jt(e,t,2)}function Ah(t){var e=bt();if(typeof t=="function"){var n=t;if(t=n(),qs){Hi(!0);try{n()}finally{Hi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function gw(t,e,n,i){return t.baseState=n,Sp(t,Se,typeof i=="function"?i:gi)}function nR(t,e,n,i,s){if(ed(t))throw Error(R(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};Z.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,yw(e,a)):(a.next=n.next,e.pending=n.next=a)}}function yw(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=Z.T,r={};Z.T=r;try{var o=n(s,i),l=Z.S;l!==null&&l(r,o),d0(t,e,o)}catch(c){Rh(t,e,c)}finally{a!==null&&r.types!==null&&(a.types=r.types),Z.T=a}}else try{a=n(s,i),d0(t,e,a)}catch(c){Rh(t,e,c)}}function d0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){f0(t,e,i)},function(i){return Rh(t,e,i)}):f0(t,e,n)}function f0(t,e,n){e.status="fulfilled",e.value=n,vw(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,yw(t,n)))}function Rh(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,vw(e),e=e.next;while(e!==i)}t.action=null}function vw(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function xw(t,e){return e}function h0(t,e){if(fe){var n=Te.formState;if(n!==null){e:{var i=ne;if(fe){if(De){t:{for(var s=De,a=dn;s.nodeType!==8;){if(!a){s=null;break t}if(s=pn(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){De=pn(s.nextSibling),i=s.data==="F!";break e}}ls(i)}i=!1}i&&(e=n[0])}}return n=bt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xw,lastRenderedState:e},n.queue=i,n=jw.bind(null,ne,i),i.dispatch=n,i=Ah(!1),a=Ap.bind(null,ne,!1,i.queue),i=bt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=nR.bind(null,ne,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function m0(t){var e=Fe();return bw(e,Se,t)}function bw(t,e,n){if(e=Sp(t,e,xw)[0],t=pc(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ml(e)}catch(r){throw r===yr?Xu:r}else i=e;e=Fe();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(ne.flags|=2048,tr(9,{destroy:void 0},iR.bind(null,s,n),null)),[i,a,t]}function iR(t,e){t.action=e}function p0(t){var e=Fe(),n=Se;if(n!==null)return bw(e,n,t);Fe(),e=e.memoizedState,n=Fe();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function tr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ne.updateQueue,e===null&&(e=Qu(),ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function _w(){return Fe().memoizedState}function gc(t,e,n,i){var s=bt();ne.flags|=t,s.memoizedState=tr(1|e,{destroy:void 0},n,i===void 0?null:i)}function Ju(t,e,n,i){var s=Fe();i=i===void 0?null:i;var a=s.memoizedState.inst;Se!==null&&i!==null&&yp(i,Se.memoizedState.deps)?s.memoizedState=tr(e,a,n,i):(ne.flags|=t,s.memoizedState=tr(1|e,a,n,i))}function g0(t,e){gc(8390656,8,t,e)}function Tp(t,e){Ju(2048,8,t,e)}function sR(t){ne.flags|=4;var e=ne.updateQueue;if(e===null)e=Qu(),ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function ww(t){var e=Fe().memoizedState;return sR({ref:e,nextImpl:t}),function(){if(me&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function Sw(t,e){return Ju(4,2,t,e)}function Tw(t,e){return Ju(4,4,t,e)}function Ew(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cw(t,e,n){n=n!=null?n.concat([t]):null,Ju(4,4,Ew.bind(null,e,t),n)}function Ep(){}function Nw(t,e){var n=Fe();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&yp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Aw(t,e){var n=Fe();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&yp(e,i[1]))return i[0];if(i=t(),qs){Hi(!0);try{t()}finally{Hi(!1)}}return n.memoizedState=[i,e],i}function Cp(t,e,n){return n===void 0||pi&1073741824&&!(de&261930)?t.memoizedState=e:(t.memoizedState=n,t=g1(),ne.lanes|=t,us|=t,n)}function Rw(t,e,n,i){return en(n,e)?n:er.current!==null?(t=Cp(t,n,i),en(t,e)||(Ke=!0),t):!(pi&42)||pi&1073741824&&!(de&261930)?(Ke=!0,t.memoizedState=n):(t=g1(),ne.lanes|=t,us|=t,e)}function Dw(t,e,n,i,s){var a=ge.p;ge.p=a!==0&&8>a?a:8;var r=Z.T,o={};Z.T=o,Ap(t,!1,e,n);try{var l=s(),c=Z.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=JA(l,i);ho(t,e,d,Jt(t))}else ho(t,e,i,Jt(t))}catch(h){ho(t,e,{then:function(){},status:"rejected",reason:h},Jt())}finally{ge.p=a,r!==null&&o.types!==null&&(r.types=o.types),Z.T=r}}function aR(){}function Dh(t,e,n,i){if(t.tag!==5)throw Error(R(476));var s=Iw(t).queue;Dw(t,s,e,js,n===null?aR:function(){return kw(t),n(i)})}function Iw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:js,baseState:js,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:js},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function kw(t){var e=Iw(t);e.next===null&&(e=t.alternate.memoizedState),ho(t,e.next.queue,{},Jt())}function Np(){return mt(Fo)}function Ow(){return Fe().memoizedState}function Mw(){return Fe().memoizedState}function rR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Jt();t=Xi(n);var i=Qi(e,t,n);i!==null&&(jt(i,e,n),co(i,e,n)),e={cache:fp()},t.payload=e;return}e=e.return}}function oR(t,e,n){var i=Jt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ed(t)?Lw(e,n):(n=lp(t,e,n,i),n!==null&&(jt(n,t,i),Uw(n,e,i)))}function jw(t,e,n){var i=Jt();ho(t,e,n,i)}function ho(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ed(t))Lw(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,en(o,r))return Ku(t,e,s,0),Te===null&&$u(),!1}catch{}finally{}if(n=lp(t,e,s,i),n!==null)return jt(n,t,i),Uw(n,e,i),!0}return!1}function Ap(t,e,n,i){if(i={lane:2,revertLane:Up(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ed(t)){if(e)throw Error(R(479))}else e=lp(t,n,i,2),e!==null&&jt(e,t,2)}function ed(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Lw(t,e){za=Wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uw(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,w_(t,n)}}var zo={readContext:mt,use:Zu,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};zo.useEffectEvent=Le;var Pw={readContext:mt,use:Zu,useCallback:function(t,e){return bt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:g0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,gc(4194308,4,Ew.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gc(4194308,4,t,e)},useInsertionEffect:function(t,e){gc(4,2,t,e)},useMemo:function(t,e){var n=bt();e=e===void 0?null:e;var i=t();if(qs){Hi(!0);try{t()}finally{Hi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=bt();if(n!==void 0){var s=n(e);if(qs){Hi(!0);try{n(e)}finally{Hi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=oR.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=bt();return t={current:t},e.memoizedState=t},useState:function(t){t=Ah(t);var e=t.queue,n=jw.bind(null,ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ep,useDeferredValue:function(t,e){var n=bt();return Cp(n,t,e)},useTransition:function(){var t=Ah(!1);return t=Dw.bind(null,ne,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ne,s=bt();if(fe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Te===null)throw Error(R(349));de&127||dw(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,g0(hw.bind(null,i,a,t),[t]),i.flags|=2048,tr(9,{destroy:void 0},fw.bind(null,i,a,n,e),null),n},useId:function(){var t=bt(),e=Te.identifierPrefix;if(fe){var n=Vn,i=Pn;n=(i&~(1<<32-Zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=eR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Np,useFormState:h0,useActionState:h0,useOptimistic:function(t){var e=bt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Ap.bind(null,ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:wp,useCacheRefresh:function(){return bt().memoizedState=rR.bind(null,ne)},useEffectEvent:function(t){var e=bt(),n={impl:t};return e.memoizedState=n,function(){if(me&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},Rp={readContext:mt,use:Zu,useCallback:Nw,useContext:mt,useEffect:Tp,useImperativeHandle:Cw,useInsertionEffect:Sw,useLayoutEffect:Tw,useMemo:Aw,useReducer:pc,useRef:_w,useState:function(){return pc(gi)},useDebugValue:Ep,useDeferredValue:function(t,e){var n=Fe();return Rw(n,Se.memoizedState,t,e)},useTransition:function(){var t=pc(gi)[0],e=Fe().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:uw,useId:Ow,useHostTransitionStatus:Np,useFormState:m0,useActionState:m0,useOptimistic:function(t,e){var n=Fe();return gw(n,Se,t,e)},useMemoCache:wp,useCacheRefresh:Mw};Rp.useEffectEvent=ww;var Vw={readContext:mt,use:Zu,useCallback:Nw,useContext:mt,useEffect:Tp,useImperativeHandle:Cw,useInsertionEffect:Sw,useLayoutEffect:Tw,useMemo:Aw,useReducer:Xd,useRef:_w,useState:function(){return Xd(gi)},useDebugValue:Ep,useDeferredValue:function(t,e){var n=Fe();return Se===null?Cp(n,t,e):Rw(n,Se.memoizedState,t,e)},useTransition:function(){var t=Xd(gi)[0],e=Fe().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:uw,useId:Ow,useHostTransitionStatus:Np,useFormState:p0,useActionState:p0,useOptimistic:function(t,e){var n=Fe();return Se!==null?gw(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:wp,useCacheRefresh:Mw};Vw.useEffectEvent=ww;function Qd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Jt(),s=Xi(i);s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(jt(e,t,i),co(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Jt(),s=Xi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(jt(e,t,i),co(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),i=Xi(n);i.tag=2,e!=null&&(i.callback=e),e=Qi(t,i,n),e!==null&&(jt(e,t,n),co(e,t,n))}};function y0(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!jo(n,i)||!jo(s,a):!0}function v0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function Ys(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ke({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function zw(t){zc(t)}function Bw(t){console.error(t)}function Hw(t){zc(t)}function Kc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function x0(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function kh(t,e,n){return n=Xi(n),n.tag=3,n.payload={element:null},n.callback=function(){Kc(t,e)},n}function Fw(t){return t=Xi(t),t.tag=3,t}function Gw(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){x0(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){x0(e,n,i),typeof s!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function lR(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&gr(e,n,s,!0),n=tn.current,n!==null){switch(n.tag){case 31:case 13:return mn===null?eu():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Gc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),cf(t,i,s)),!1;case 22:return n.flags|=65536,i===Gc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),cf(t,i,s)),!1}throw Error(R(435,n.tag))}return cf(t,i,s),eu(),!1}if(fe)return e=tn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==xh&&(t=Error(R(422),{cause:i}),Uo(un(t,n)))):(i!==xh&&(e=Error(R(423),{cause:i}),Uo(un(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=un(i,n),s=kh(t.stateNode,i,s),Kd(t,s),Pe!==4&&(Pe=2)),!1;var a=Error(R(520),{cause:i});if(a=un(a,n),go===null?go=[a]:go.push(a),Pe!==4&&(Pe=2),e===null)return!0;i=un(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=kh(n.stateNode,i,t),Kd(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Zi===null||!Zi.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Fw(s),Gw(s,t,n,i),Kd(n,s),!1}n=n.return}while(n!==null);return!1}var Dp=Error(R(461)),Ke=!1;function ut(t,e,n,i){e.child=t===null?sw(e,null,n,i):Gs(e,t.child,n,i)}function b0(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return Fs(e),i=vp(t,e,n,r,a,s),o=xp(),t!==null&&!Ke?(bp(t,e,s),yi(t,e,s)):(fe&&o&&up(e),e.flags|=1,ut(t,e,i,s),e.child)}function _0(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!cp(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,qw(t,e,a,i,s)):(t=hc(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Ip(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(r,i)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=ci(a,i),t.ref=e.ref,t.return=e,e.child=t}function qw(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(jo(a,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=a,Ip(t,s))t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,yi(t,e,s)}return Oh(t,e,n,i,s)}function Yw(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return w0(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(e,a!==null?a.cachePool:null),a!==null?u0(e,a):Ch(),ow(e);else return i=e.lanes=536870912,w0(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(mc(e,a.cachePool),u0(e,a),ji(),e.memoizedState=null):(t!==null&&mc(e,null),Ch(),ji());return ut(t,e,s,n),e.child}function Qr(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function w0(t,e,n,i,s){var a=hp();return a=a===null?null:{parent:$e._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&mc(e,null),Ch(),ow(e),t!==null&&gr(t,e,i,!0),e.childLanes=s,null}function yc(t,e){return e=Xc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function S0(t,e,n){return Gs(e,t.child,null,n),t=yc(e,e.pendingProps),t.flags|=2,Wt(e),e.memoizedState=null,t}function cR(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(fe){if(i.mode==="hidden")return t=yc(e,i),e.lanes=536870912,Qr(null,t);if(Nh(e),(t=De)?(t=P1(t,dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:os!==null?{id:Pn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Q_(t),n.return=e,e.child=n,ht=e,De=null)):t=null,t===null)throw ls(e);return e.lanes=536870912,null}return yc(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(Nh(e),s)if(e.flags&256)e.flags&=-257,e=S0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(Ke||gr(t,e,n,!1),s=(n&t.childLanes)!==0,Ke||s){if(i=Te,i!==null&&(r=S_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,sa(t,r),jt(i,t,r),Dp;eu(),e=S0(t,e,n)}else t=a.treeContext,De=pn(r.nextSibling),ht=e,fe=!0,Ki=null,dn=!1,t!==null&&J_(e,t),e=yc(e,i),e.flags|=4096;return e}return t=ci(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function vc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Oh(t,e,n,i,s){return Fs(e),n=vp(t,e,n,i,void 0,s),i=xp(),t!==null&&!Ke?(bp(t,e,s),yi(t,e,s)):(fe&&i&&up(e),e.flags|=1,ut(t,e,n,s),e.child)}function T0(t,e,n,i,s,a){return Fs(e),e.updateQueue=null,n=cw(e,i,n,s),lw(t),i=xp(),t!==null&&!Ke?(bp(t,e,a),yi(t,e,a)):(fe&&i&&up(e),e.flags|=1,ut(t,e,n,a),e.child)}function E0(t,e,n,i,s){if(Fs(e),e.stateNode===null){var a=Ta,r=n.contextType;typeof r=="object"&&r!==null&&(a=mt(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ih,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},pp(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?mt(r):Ta,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Qd(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Ih.enqueueReplaceState(a,a.state,null),fo(e,i,a,s),uo(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Ys(n,o);a.props=l;var c=a.context,d=n.contextType;r=Ta,typeof d=="object"&&d!==null&&(r=mt(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==r)&&v0(e,a,i,r),ki=!1;var f=e.memoizedState;a.state=f,fo(e,i,a,s),uo(),c=e.memoizedState,o||f!==c||ki?(typeof h=="function"&&(Qd(e,n,h,i),c=e.memoizedState),(l=ki||y0(e,n,l,i,f,c,r))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Th(t,e),r=e.memoizedProps,d=Ys(n,r),a.props=d,h=e.pendingProps,f=a.context,c=n.contextType,l=Ta,typeof c=="object"&&c!==null&&(l=mt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==h||f!==l)&&v0(e,a,i,l),ki=!1,f=e.memoizedState,a.state=f,fo(e,i,a,s),uo();var m=e.memoizedState;r!==h||f!==m||ki||t!==null&&t.dependencies!==null&&Fc(t.dependencies)?(typeof o=="function"&&(Qd(e,n,o,i),m=e.memoizedState),(d=ki||y0(e,n,d,i,f,m,l)||t!==null&&t.dependencies!==null&&Fc(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=d):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,vc(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,n,s)):ut(t,e,n,s),e.memoizedState=a.state,t=e.child):t=yi(t,e,s),t}function C0(t,e,n,i){return Hs(),e.flags|=256,ut(t,e,n,i),e.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(t){return{baseLanes:t,cachePool:tw()}}function ef(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Kt),t}function Ww(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(fe){if(s?Mi(e):ji(),(t=De)?(t=P1(t,dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:os!==null?{id:Pn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Q_(t),n.return=e,e.child=n,ht=e,De=null)):t=null,t===null)throw ls(e);return Wh(t)?e.lanes=32:e.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(ji(),s=e.mode,o=Xc({mode:"hidden",children:o},s),i=Ls(i,s,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i=e.child,i.memoizedState=Jd(n),i.childLanes=ef(t,r,n),e.memoizedState=Zd,Qr(null,i)):(Mi(e),Mh(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Mi(e),e.flags&=-257,e=tf(t,e,n)):e.memoizedState!==null?(ji(),e.child=t.child,e.flags|=128,e=null):(ji(),o=i.fallback,s=e.mode,i=Xc({mode:"visible",children:i.children},s),o=Ls(o,s,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,Gs(e,t.child,null,n),i=e.child,i.memoizedState=Jd(n),i.childLanes=ef(t,r,n),e.memoizedState=Zd,e=Qr(null,i));else if(Mi(e),Wh(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(R(419)),i.stack="",i.digest=r,Uo({value:i,source:null,stack:null}),e=tf(t,e,n)}else if(Ke||gr(t,e,n,!1),r=(n&t.childLanes)!==0,Ke||r){if(r=Te,r!==null&&(i=S_(r,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,sa(t,i),jt(r,t,i),Dp;Yh(o)||eu(),e=tf(t,e,n)}else Yh(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,De=pn(o.nextSibling),ht=e,fe=!0,Ki=null,dn=!1,t!==null&&J_(e,t),e=Mh(e,i.children),e.flags|=4096);return e}return s?(ji(),o=i.fallback,s=e.mode,l=t.child,c=l.sibling,i=ci(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=ci(c,o):(o=Ls(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,Qr(null,i),i=e.child,o=t.child.memoizedState,o===null?o=Jd(n):(s=o.cachePool,s!==null?(l=$e._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=tw(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=ef(t,r,n),e.memoizedState=Zd,Qr(t.child,i)):(Mi(e),n=t.child,t=n.sibling,n=ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Mh(t,e){return e=Xc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Xc(t,e){return t=$t(22,t,null,e),t.lanes=0,t}function tf(t,e,n){return Gs(e,t.child,null,n),t=Mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),_h(t.return,e,n)}function nf(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function $w(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=He.current,o=(r&2)!==0;if(o?(r=r&1|2,e.flags|=128):r&=1,Ne(He,r),ut(t,e,i,n),i=fe?Lo:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,n,e);else if(t.tag===19)N0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nf(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nf(e,!0,n,null,a,i);break;case"together":nf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))if(t!==null){if(gr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ip(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Fc(t)))}function uR(t,e,n){switch(e.tag){case 3:Lc(e,e.stateNode.containerInfo),Oi(e,$e,t.memoizedState.cache),Hs();break;case 27:case 5:lh(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:Oi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Nh(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Mi(e),e.flags|=128,null):n&e.child.childLanes?Ww(t,e,n):(Mi(e),t=yi(t,e,n),t!==null?t.sibling:null);Mi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(gr(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return $w(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(He,He.current),i)break;return null;case 22:return e.lanes=0,Yw(t,e,n,e.pendingProps);case 24:Oi(e,$e,t.memoizedState.cache)}return yi(t,e,n)}function Kw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ke=!0;else{if(!Ip(t,n)&&!(e.flags&128))return Ke=!1,uR(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,fe&&e.flags&1048576&&Z_(e,Lo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Cs(e.elementType),e.type=t,typeof t=="function")cp(t)?(i=Ys(t,i),e.tag=1,e=E0(null,e,t,i,n)):(e.tag=0,e=Oh(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Km){e.tag=11,e=b0(null,e,t,i,n);break e}else if(s===Xm){e.tag=14,e=_0(null,e,t,i,n);break e}}throw e=rh(t)||t,Error(R(306,e,""))}}return e;case 0:return Oh(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ys(i,e.pendingProps),E0(t,e,i,s,n);case 3:e:{if(Lc(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,Th(t,e),fo(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Oi(e,$e,i),i!==a.cache&&wh(e,[$e],n,!0),uo(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=C0(t,e,i,n);break e}else if(i!==s){s=un(Error(R(424)),e),Uo(s),e=C0(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(De=pn(t.firstChild),ht=e,fe=!0,Ki=null,dn=!0,n=sw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hs(),i===s){e=yi(t,e,n);break e}ut(t,e,i,n)}e=e.child}return e;case 26:return vc(t,e),t===null?(n=W0(e.type,null,e.pendingProps,null))?e.memoizedState=n:fe||(n=e.type,t=e.pendingProps,i=su($i.current).createElement(n),i[ft]=e,i[Pt]=t,pt(i,n,t),rt(i),e.stateNode=i):e.memoizedState=W0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return lh(e),t===null&&fe&&(i=e.stateNode=V1(e.type,e.pendingProps,$i.current),ht=e,dn=!0,s=De,ys(e.type)?($h=s,De=pn(i.firstChild)):De=s),ut(t,e,e.pendingProps.children,n),vc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&fe&&((s=i=De)&&(i=zR(i,e.type,e.pendingProps,dn),i!==null?(e.stateNode=i,ht=e,De=pn(i.firstChild),dn=!1,s=!0):s=!1),s||ls(e)),lh(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Gh(s,a)?i=null:r!==null&&Gh(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=vp(t,e,tR,null,null,n),Fo._currentValue=s),vc(t,e),ut(t,e,i,n),e.child;case 6:return t===null&&fe&&((t=n=De)&&(n=BR(n,e.pendingProps,dn),n!==null?(e.stateNode=n,ht=e,De=null,t=!0):t=!1),t||ls(e)),null;case 13:return Ww(t,e,n);case 4:return Lc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Gs(e,null,i,n):ut(t,e,i,n),e.child;case 11:return b0(t,e,e.type,e.pendingProps,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Oi(e,e.type,i.value),ut(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Fs(e),s=mt(s),i=i(s),e.flags|=1,ut(t,e,i,n),e.child;case 14:return _0(t,e,e.type,e.pendingProps,n);case 15:return qw(t,e,e.type,e.pendingProps,n);case 19:return $w(t,e,n);case 31:return cR(t,e,n);case 22:return Yw(t,e,n,e.pendingProps);case 24:return Fs(e),i=mt($e),t===null?(s=hp(),s===null&&(s=Te,a=fp(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},pp(e),Oi(e,$e,s)):(t.lanes&n&&(Th(t,e),fo(e,null,null,n),uo()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Oi(e,$e,i)):(i=a.cache,Oi(e,$e,i),i!==s.cache&&wh(e,[$e],n,!0))),ut(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function Qn(t){t.flags|=4}function sf(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(x1())t.flags|=8192;else throw Ps=Gc,mp}else t.flags&=-16777217}function A0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!H1(e))if(x1())t.flags|=8192;else throw Ps=Gc,mp}function ql(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?b_():536870912,t.lanes|=e,nr|=e)}function Pr(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function dR(t,e,n){var i=e.pendingProps;switch(dp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ui($e),Xa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ca(e)?Qn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$d())),Ae(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Qn(e),a!==null?(Ae(e),A0(e,a)):(Ae(e),sf(e,s,null,i,n))):a?a!==t.memoizedState?(Qn(e),Ae(e),A0(e,a)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Qn(e),Ae(e),sf(e,s,t,i,n)),null;case 27:if(Uc(e),n=$i.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Ae(e),null}t=Hn.current,ca(e)?i0(e):(t=V1(s,i,n),e.stateNode=t,Qn(e))}return Ae(e),null;case 5:if(Uc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Ae(e),null}if(a=Hn.current,ca(e))i0(e);else{var r=su($i.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[ft]=e,a[Pt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(pt(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qn(e)}}return Ae(e),sf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=$i.current,ca(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=ht,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[ft]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||j1(t.nodeValue,n)),t||ls(e,!0)}else t=su(t).createTextNode(i),t[ft]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ca(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[ft]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=$d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Wt(e),e):(Wt(e),null);if(e.flags&128)throw Error(R(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ca(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[ft]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),s=!1}else s=$d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Wt(e),e):(Wt(e),null)}return Wt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ql(e,e.updateQueue),Ae(e),null);case 4:return Xa(),t===null&&Pp(e.stateNode.containerInfo),Ae(e),null;case 10:return ui(e.type),Ae(e),null;case 19:if(ct(He),i=e.memoizedState,i===null)return Ae(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Pr(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yc(t),a!==null){for(e.flags|=128,Pr(i,!1),t=a.updateQueue,e.updateQueue=t,ql(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)X_(n,t),n=n.sibling;return Ne(He,He.current&1|2),fe&&ti(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Xt()>Zc&&(e.flags|=128,s=!0,Pr(i,!1),e.lanes=4194304)}else{if(!s)if(t=Yc(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,ql(e,t),Pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fe)return Ae(e),null}else 2*Xt()-i.renderingStartTime>Zc&&n!==536870912&&(e.flags|=128,s=!0,Pr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xt(),t.sibling=null,n=He.current,Ne(He,s?n&1|2:n&1),fe&&ti(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Wt(e),gp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&ql(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ct(Us),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ui($e),Ae(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function fR(t,e){switch(dp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui($e),Xa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Uc(e),null;case 31:if(e.memoizedState!==null){if(Wt(e),e.alternate===null)throw Error(R(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Wt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(He),null;case 4:return Xa(),null;case 10:return ui(e.type),null;case 22:case 23:return Wt(e),gp(),t!==null&&ct(Us),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ui($e),null;case 25:return null;default:return null}}function Xw(t,e){switch(dp(e),e.tag){case 3:ui($e),Xa();break;case 26:case 27:case 5:Uc(e);break;case 4:Xa();break;case 31:e.memoizedState!==null&&Wt(e);break;case 13:Wt(e);break;case 19:ct(He);break;case 10:ui(e.type);break;case 22:case 23:Wt(e),gp(),t!==null&&ct(Us);break;case 24:ui($e)}}function pl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(o){be(e,e.return,o)}}function cs(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=e;var l=n,c=o;try{c()}catch(d){be(s,l,d)}}}i=i.next}while(i!==a)}}catch(d){be(e,e.return,d)}}function Qw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{rw(e,n)}catch(i){be(t,t.return,i)}}}function Zw(t,e,n){n.props=Ys(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){be(t,e,i)}}function mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){be(t,e,s)}}function zn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){be(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){be(t,e,s)}else n.current=null}function Jw(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){be(t,t.return,s)}}function af(t,e,n){try{var i=t.stateNode;MR(i,t.type,n,e),i[Pt]=e}catch(s){be(t,t.return,s)}}function e1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(i!==4&&(i===27&&ys(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}function Qc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&ys(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Qc(t,e,n),t=t.sibling;t!==null;)Qc(t,e,n),t=t.sibling}function t1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);pt(e,i,n),e[ft]=t,e[Pt]=n}catch(a){be(t,t.return,a)}}var ni=!1,We=!1,of=!1,R0=typeof WeakSet=="function"?WeakSet:Set,st=null;function hR(t,e){if(t=t.containerInfo,Hh=lu,t=H_(t),rp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(o=r+s),h!==a||i!==0&&h.nodeType!==3||(l=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(o=r),f===a&&++d===i&&(l=r),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:t,selectionRange:n},lu=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){switch(e=st,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var v=Ys(n.type,s);t=i.getSnapshotBeforeUpdate(v,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(_){be(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)qh(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}}function n1(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n),i&4&&pl(5,n);break;case 1:if(Jn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){be(n,n.return,r)}else{var s=Ys(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){be(n,n.return,r)}}i&64&&Qw(n),i&512&&mo(n,n.return);break;case 3:if(Jn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{rw(t,e)}catch(r){be(n,n.return,r)}}break;case 27:e===null&&i&4&&t1(n);case 26:case 5:Jn(t,n),e===null&&i&4&&Jw(n),i&512&&mo(n,n.return);break;case 12:Jn(t,n);break;case 31:Jn(t,n),i&4&&a1(t,n);break;case 13:Jn(t,n),i&4&&r1(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=wR.bind(null,n),HR(t,n))));break;case 22:if(i=n.memoizedState!==null||ni,!i){e=e!==null&&e.memoizedState!==null||We,s=ni;var a=We;ni=i,(We=e)&&!a?ei(t,n,(n.subtreeFlags&8772)!==0):Jn(t,n),ni=s,We=a}break;case 30:break;default:Jn(t,n)}}function i1(t){var e=t.alternate;e!==null&&(t.alternate=null,i1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ep(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,Dt=!1;function Zn(t,e,n){for(n=n.child;n!==null;)s1(t,e,n),n=n.sibling}function s1(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 26:We||zn(n,e),Zn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||zn(n,e);var i=Me,s=Dt;ys(n.type)&&(Me=n.stateNode,Dt=!1),Zn(t,e,n),vo(n.stateNode),Me=i,Dt=s;break;case 5:We||zn(n,e);case 6:if(i=Me,s=Dt,Me=null,Zn(t,e,n),Me=i,Dt=s,Me!==null)if(Dt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(a){be(n,e,a)}else try{Me.removeChild(n.stateNode)}catch(a){be(n,e,a)}break;case 18:Me!==null&&(Dt?(t=Me,H0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),rr(t)):H0(Me,n.stateNode));break;case 4:i=Me,s=Dt,Me=n.stateNode.containerInfo,Dt=!0,Zn(t,e,n),Me=i,Dt=s;break;case 0:case 11:case 14:case 15:cs(2,n,e),We||cs(4,n,e),Zn(t,e,n);break;case 1:We||(zn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Zw(n,e,i)),Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:We=(i=We)||n.memoizedState!==null,Zn(t,e,n),We=i;break;default:Zn(t,e,n)}}function a1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{rr(t)}catch(n){be(e,e.return,n)}}}function r1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rr(t)}catch(n){be(e,e.return,n)}}function mR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new R0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new R0),e;default:throw Error(R(435,t.tag))}}function Yl(t,e){var n=mR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=SR.bind(null,t,i);i.then(s,s)}})}function At(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(ys(o.type)){Me=o.stateNode,Dt=!1;break e}break;case 5:Me=o.stateNode,Dt=!1;break e;case 3:case 4:Me=o.stateNode.containerInfo,Dt=!0;break e}o=o.return}if(Me===null)throw Error(R(160));s1(a,r,s),Me=null,Dt=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)o1(e,t),e=e.sibling}var Cn=null;function o1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(e,t),Rt(t),i&4&&(cs(3,t,t.return),pl(3,t),cs(5,t,t.return));break;case 1:At(e,t),Rt(t),i&512&&(We||n===null||zn(n,n.return)),i&64&&ni&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Cn;if(At(e,t),Rt(t),i&512&&(We||n===null||zn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[dl]||a[ft]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),pt(a,i,n),a[ft]=t,rt(a),i=a;break e;case"link":var r=K0("link","href",s).get(i+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break t}}a=s.createElement(i),pt(a,i,n),s.head.appendChild(a);break;case"meta":if(r=K0("meta","content",s).get(i+(n.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break t}}a=s.createElement(i),pt(a,i,n),s.head.appendChild(a);break;default:throw Error(R(468,i))}a[ft]=t,rt(a),i=a}t.stateNode=i}else X0(s,t.type,t.stateNode);else t.stateNode=$0(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?X0(s,t.type,t.stateNode):$0(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&af(t,t.memoizedProps,n.memoizedProps)}break;case 27:At(e,t),Rt(t),i&512&&(We||n===null||zn(n,n.return)),n!==null&&i&4&&af(t,t.memoizedProps,n.memoizedProps);break;case 5:if(At(e,t),Rt(t),i&512&&(We||n===null||zn(n,n.return)),t.flags&32){s=t.stateNode;try{Za(s,"")}catch(v){be(t,t.return,v)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,af(t,s,n!==null?n.memoizedProps:s)),i&1024&&(of=!0);break;case 6:if(At(e,t),Rt(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){be(t,t.return,v)}}break;case 3:if(_c=null,s=Cn,Cn=au(e.containerInfo),At(e,t),Cn=s,Rt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{rr(e.containerInfo)}catch(v){be(t,t.return,v)}of&&(of=!1,l1(t));break;case 4:i=Cn,Cn=au(t.stateNode.containerInfo),At(e,t),Rt(t),Cn=i;break;case 12:At(e,t),Rt(t);break;case 31:At(e,t),Rt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yl(t,i)));break;case 13:At(e,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(td=Xt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yl(t,i)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=ni,d=We;if(ni=c||s,We=d||l,At(e,t),We=d,ni=c,Rt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||ni||We||Ns(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){be(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(v){be(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;s?F0(m,!0):F0(l.stateNode,!1)}catch(v){be(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Yl(t,n))));break;case 19:At(e,t),Rt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yl(t,i)));break;case 30:break;case 21:break;default:At(e,t),Rt(t)}}function Rt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(e1(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var s=n.stateNode,a=rf(t);Qc(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Za(r,""),n.flags&=-33);var o=rf(t);Qc(t,o,r);break;case 3:case 4:var l=n.stateNode.containerInfo,c=rf(t);jh(t,c,l);break;default:throw Error(R(161))}}catch(d){be(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;l1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Jn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)n1(t,e.alternate,e),e=e.sibling}function Ns(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:cs(4,e,e.return),Ns(e);break;case 1:zn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Zw(e,e.return,n),Ns(e);break;case 27:vo(e.stateNode);case 26:case 5:zn(e,e.return),Ns(e);break;case 22:e.memoizedState===null&&Ns(e);break;case 30:Ns(e);break;default:Ns(e)}t=t.sibling}}function ei(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:ei(s,a,n),pl(4,a);break;case 1:if(ei(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){be(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)aw(l[s],o)}catch(c){be(i,i.return,c)}}n&&r&64&&Qw(a),mo(a,a.return);break;case 27:t1(a);case 26:case 5:ei(s,a,n),n&&i===null&&r&4&&Jw(a),mo(a,a.return);break;case 12:ei(s,a,n);break;case 31:ei(s,a,n),n&&r&4&&a1(s,a);break;case 13:ei(s,a,n),n&&r&4&&r1(s,a);break;case 22:a.memoizedState===null&&ei(s,a,n),mo(a,a.return);break;case 30:break;default:ei(s,a,n)}e=e.sibling}}function kp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&hl(n))}function Op(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t))}function xn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)c1(t,e,n,i),e=e.sibling}function c1(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:xn(t,e,n,i),s&2048&&pl(9,e);break;case 1:xn(t,e,n,i);break;case 3:xn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t)));break;case 12:if(s&2048){xn(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){be(e,e.return,l)}}else xn(t,e,n,i);break;case 31:xn(t,e,n,i);break;case 13:xn(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?xn(t,e,n,i):po(t,e):a._visibility&2?xn(t,e,n,i):(a._visibility|=2,ha(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&kp(r,e);break;case 24:xn(t,e,n,i),s&2048&&Op(e.alternate,e);break;default:xn(t,e,n,i)}}function ha(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,o=n,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:ha(a,r,o,l,s),pl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ha(a,r,o,l,s):po(a,r):(d._visibility|=2,ha(a,r,o,l,s)),s&&c&2048&&kp(r.alternate,r);break;case 24:ha(a,r,o,l,s),s&&c&2048&&Op(r.alternate,r);break;default:ha(a,r,o,l,s)}e=e.sibling}}function po(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:po(n,i),s&2048&&kp(i.alternate,i);break;case 24:po(n,i),s&2048&&Op(i.alternate,i);break;default:po(n,i)}e=e.sibling}}var Zr=8192;function ua(t,e,n){if(t.subtreeFlags&Zr)for(t=t.child;t!==null;)u1(t,e,n),t=t.sibling}function u1(t,e,n){switch(t.tag){case 26:ua(t,e,n),t.flags&Zr&&t.memoizedState!==null&&e2(n,Cn,t.memoizedState,t.memoizedProps);break;case 5:ua(t,e,n);break;case 3:case 4:var i=Cn;Cn=au(t.stateNode.containerInfo),ua(t,e,n),Cn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Zr,Zr=16777216,ua(t,e,n),Zr=i):ua(t,e,n));break;default:ua(t,e,n)}}function d1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Vr(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];st=i,h1(i,t)}d1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f1(t),t=t.sibling}function f1(t){switch(t.tag){case 0:case 11:case 15:Vr(t),t.flags&2048&&cs(9,t,t.return);break;case 3:Vr(t);break;case 12:Vr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,xc(t)):Vr(t);break;default:Vr(t)}}function xc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];st=i,h1(i,t)}d1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:cs(8,e,e.return),xc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,xc(e));break;default:xc(e)}t=t.sibling}}function h1(t,e){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:cs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:hl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,st=i;else e:for(n=t;st!==null;){i=st;var s=i.sibling,a=i.return;if(i1(i),i===n){st=null;break e}if(s!==null){s.return=a,st=s;break e}st=a}}}var pR={getCacheForType:function(t){var e=mt($e),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return mt($e).controller.signal}},gR=typeof WeakMap=="function"?WeakMap:Map,me=0,Te=null,le=null,de=0,xe=0,Yt=null,Gi=!1,vr=!1,Mp=!1,vi=0,Pe=0,us=0,Vs=0,jp=0,Kt=0,nr=0,go=null,It=null,Lh=!1,td=0,m1=0,Zc=1/0,Jc=null,Zi=null,Ze=0,Ji=null,ir=null,di=0,Uh=0,Ph=null,p1=null,yo=0,Vh=null;function Jt(){return me&2&&de!==0?de&-de:Z.T!==null?Up():T_()}function g1(){if(Kt===0)if(!(de&536870912)||fe){var t=Pl;Pl<<=1,!(Pl&3932160)&&(Pl=262144),Kt=t}else Kt=536870912;return t=tn.current,t!==null&&(t.flags|=32),Kt}function jt(t,e,n){(t===Te&&(xe===2||xe===9)||t.cancelPendingCommit!==null)&&(sr(t,0),qi(t,de,Kt,!1)),ul(t,n),(!(me&2)||t!==Te)&&(t===Te&&(!(me&2)&&(Vs|=n),Pe===4&&qi(t,de,Kt,!1)),$n(t))}function y1(t,e,n){if(me&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||cl(t,e),s=i?xR(t,e):lf(t,e,!0),a=i;do{if(s===0){vr&&!i&&qi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!yR(n)){s=lf(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var o=t;s=go;var l=o.current.memoizedState.isDehydrated;if(l&&(sr(o,r).flags|=256),r=lf(o,r,!1),r!==2){if(Mp&&!l){o.errorRecoveryDisabledLanes|=a,Vs|=a,s=4;break e}a=It,It=s,a!==null&&(It===null?It=a:It.push.apply(It,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){sr(t,0),qi(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:qi(i,e,Kt,!Gi);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(s=td+300-Xt(),10<s)){if(qi(i,e,Kt,!Gi),Gu(i,0,!0)!==0)break e;di=e,i.timeoutHandle=U1(D0.bind(null,i,n,It,Jc,Lh,e,Kt,Vs,nr,Gi,a,"Throttled",-0,0),s);break e}D0(i,n,It,Jc,Lh,e,Kt,Vs,nr,Gi,a,null,-0,0)}}break}while(!0);$n(t)}function D0(t,e,n,i,s,a,r,o,l,c,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},u1(e,a,h);var v=(a&62914560)===a?td-Xt():(a&4194048)===a?m1-Xt():0;if(v=t2(h,v),v!==null){di=a,t.cancelPendingCommit=v(k0.bind(null,t,e,a,n,i,s,r,o,l,d,h,null,f,m)),qi(t,a,r,!c);return}}k0(t,e,a,n,i,s,r,o,l)}function yR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!en(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e,n,i){e&=~jp,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-Zt(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&__(t,n,e)}function nd(){return me&6?!0:(gl(0),!1)}function Lp(){if(le!==null){if(xe===0)var t=le.return;else t=le,ai=aa=null,_p(t),Va=null,Po=0,t=le;for(;t!==null;)Xw(t.alternate,t),t=t.return;le=null}}function sr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,UR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),di=0,Lp(),Te=t,le=n=ci(t.current,null),de=e,xe=0,Yt=null,Gi=!1,vr=cl(t,e),Mp=!1,nr=Kt=jp=Vs=us=Pe=0,It=go=null,Lh=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Zt(i),a=1<<s;e|=t[s],i&=~a}return vi=e,$u(),n}function v1(t,e){ne=null,Z.H=zo,e===yr||e===Xu?(e=l0(),xe=3):e===mp?(e=l0(),xe=4):xe=e===Dp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Yt=e,le===null&&(Pe=1,Kc(t,un(e,t.current)))}function x1(){var t=tn.current;return t===null?!0:(de&4194048)===de?mn===null:(de&62914560)===de||de&536870912?t===mn:!1}function b1(){var t=Z.H;return Z.H=zo,t===null?zo:t}function _1(){var t=Z.A;return Z.A=pR,t}function eu(){Pe=4,Gi||(de&4194048)!==de&&tn.current!==null||(vr=!0),!(us&134217727)&&!(Vs&134217727)||Te===null||qi(Te,de,Kt,!1)}function lf(t,e,n){var i=me;me|=2;var s=b1(),a=_1();(Te!==t||de!==e)&&(Jc=null,sr(t,e)),e=!1;var r=Pe;e:do try{if(xe!==0&&le!==null){var o=le,l=Yt;switch(xe){case 8:Lp(),r=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(e=!0);var c=xe;if(xe=0,Yt=null,Na(t,o,l,c),n&&vr){r=0;break e}break;default:c=xe,xe=0,Yt=null,Na(t,o,l,c)}}vR(),r=Pe;break}catch(d){v1(t,d)}while(!0);return e&&t.shellSuspendCounter++,ai=aa=null,me=i,Z.H=s,Z.A=a,le===null&&(Te=null,de=0,$u()),r}function vR(){for(;le!==null;)w1(le)}function xR(t,e){var n=me;me|=2;var i=b1(),s=_1();Te!==t||de!==e?(Jc=null,Zc=Xt()+500,sr(t,e)):vr=cl(t,e);e:do try{if(xe!==0&&le!==null){e=le;var a=Yt;t:switch(xe){case 1:xe=0,Yt=null,Na(t,e,a,1);break;case 2:case 9:if(o0(a)){xe=0,Yt=null,I0(e);break}e=function(){xe!==2&&xe!==9||Te!==t||(xe=7),$n(t)},a.then(e,e);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:o0(a)?(xe=0,Yt=null,I0(e)):(xe=0,Yt=null,Na(t,e,a,7));break;case 5:var r=null;switch(le.tag){case 26:r=le.memoizedState;case 5:case 27:var o=le;if(r?H1(r):o.stateNode.complete){xe=0,Yt=null;var l=o.sibling;if(l!==null)le=l;else{var c=o.return;c!==null?(le=c,id(c)):le=null}break t}}xe=0,Yt=null,Na(t,e,a,5);break;case 6:xe=0,Yt=null,Na(t,e,a,6);break;case 8:Lp(),Pe=6;break e;default:throw Error(R(462))}}bR();break}catch(d){v1(t,d)}while(!0);return ai=aa=null,Z.H=i,Z.A=s,me=n,le!==null?0:(Te=null,de=0,$u(),Pe)}function bR(){for(;le!==null&&!FN();)w1(le)}function w1(t){var e=Kw(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?id(t):le=e}function I0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=T0(n,e,e.pendingProps,e.type,void 0,de);break;case 11:e=T0(n,e,e.pendingProps,e.type.render,e.ref,de);break;case 5:_p(e);default:Xw(n,e),e=le=X_(e,vi),e=Kw(n,e,vi)}t.memoizedProps=t.pendingProps,e===null?id(t):le=e}function Na(t,e,n,i){ai=aa=null,_p(e),Va=null,Po=0;var s=e.return;try{if(lR(t,s,e,n,de)){Pe=1,Kc(t,un(n,t.current)),le=null;return}}catch(a){if(s!==null)throw le=s,a;Pe=1,Kc(t,un(n,t.current)),le=null;return}e.flags&32768?(fe||i===1?t=!0:vr||de&536870912?t=!1:(Gi=t=!0,(i===2||i===9||i===3||i===6)&&(i=tn.current,i!==null&&i.tag===13&&(i.flags|=16384))),S1(e,t)):id(e)}function id(t){var e=t;do{if(e.flags&32768){S1(e,Gi);return}t=e.return;var n=dR(e.alternate,e,vi);if(n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);Pe===0&&(Pe=5)}function S1(t,e){do{var n=fR(t.alternate,t);if(n!==null){n.flags&=32767,le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){le=t;return}le=t=n}while(t!==null);Pe=6,le=null}function k0(t,e,n,i,s,a,r,o,l){t.cancelPendingCommit=null;do sd();while(Ze!==0);if(me&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(a=e.lanes|e.childLanes,a|=op,JN(t,n,a,r,o,l),t===Te&&(le=Te=null,de=0),ir=e,Ji=t,di=n,Uh=a,Ph=s,p1=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,TR(Pc,function(){return A1(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Z.T,Z.T=null,s=ge.p,ge.p=2,r=me,me|=4;try{hR(t,e,n)}finally{me=r,ge.p=s,Z.T=i}}Ze=1,T1(),E1(),C1()}}function T1(){if(Ze===1){Ze=0;var t=Ji,e=ir,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=ge.p;ge.p=2;var s=me;me|=4;try{o1(e,t);var a=Fh,r=H_(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&B_(o.ownerDocument.documentElement,o)){if(l!==null&&rp(o)){var c=l.start,d=l.end;if(d===void 0&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),v=o.textContent.length,_=Math.min(l.start,v),w=l.end===void 0?_:Math.min(l.end,v);!m.extend&&_>w&&(r=w,w=_,_=r);var g=e0(o,_),p=e0(o,w);if(g&&p&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var y=h.createRange();y.setStart(g.node,g.offset),m.removeAllRanges(),_>w?(m.addRange(y),m.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),m.addRange(y))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var b=h[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}lu=!!Hh,Fh=Hh=null}finally{me=s,ge.p=i,Z.T=n}}t.current=e,Ze=2}}function E1(){if(Ze===2){Ze=0;var t=Ji,e=ir,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=ge.p;ge.p=2;var s=me;me|=4;try{n1(t,e.alternate,e)}finally{me=s,ge.p=i,Z.T=n}}Ze=3}}function C1(){if(Ze===4||Ze===3){Ze=0,GN();var t=Ji,e=ir,n=di,i=p1;e.subtreeFlags&10256||e.flags&10256?Ze=5:(Ze=0,ir=Ji=null,N1(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Zi=null),Jm(n),e=e.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Z.T,s=ge.p,ge.p=2,Z.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var o=i[r];a(o.value,{componentStack:o.stack})}}finally{Z.T=e,ge.p=s}}di&3&&sd(),$n(t),s=t.pendingLanes,n&261930&&s&42?t===Vh?yo++:(yo=0,Vh=t):yo=0,gl(0)}}function N1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,hl(e)))}function sd(){return T1(),E1(),C1(),A1()}function A1(){if(Ze!==5)return!1;var t=Ji,e=Uh;Uh=0;var n=Jm(di),i=Z.T,s=ge.p;try{ge.p=32>n?32:n,Z.T=null,n=Ph,Ph=null;var a=Ji,r=di;if(Ze=0,ir=Ji=null,di=0,me&6)throw Error(R(331));var o=me;if(me|=4,f1(a.current),c1(a,a.current,r,n),me=o,gl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ll,a)}catch{}return!0}finally{ge.p=s,Z.T=i,N1(t,e)}}function O0(t,e,n){e=un(n,e),e=kh(t.stateNode,e,2),t=Qi(t,e,2),t!==null&&(ul(t,2),$n(t))}function be(t,e,n){if(t.tag===3)O0(t,t,n);else for(;e!==null;){if(e.tag===3){O0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zi===null||!Zi.has(i))){t=un(n,t),n=Fw(2),i=Qi(e,n,2),i!==null&&(Gw(n,i,e,t),ul(i,2),$n(i));break}}e=e.return}}function cf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new gR;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Mp=!0,s.add(n),t=_R.bind(null,t,e,n),e.then(t,t))}function _R(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Te===t&&(de&n)===n&&(Pe===4||Pe===3&&(de&62914560)===de&&300>Xt()-td?!(me&2)&&sr(t,0):jp|=n,nr===de&&(nr=0)),$n(t)}function R1(t,e){e===0&&(e=b_()),t=sa(t,e),t!==null&&(ul(t,e),$n(t))}function wR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),R1(t,n)}function SR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),R1(t,n)}function TR(t,e){return Qm(t,e)}var tu=null,ma=null,zh=!1,nu=!1,uf=!1,Yi=0;function $n(t){t!==ma&&t.next===null&&(ma===null?tu=ma=t:ma=ma.next=t),nu=!0,zh||(zh=!0,CR())}function gl(t,e){if(!uf&&nu){uf=!0;do for(var n=!1,i=tu;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Zt(42|t)+1)-1,a&=s&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,M0(i,a))}else a=de,a=Gu(i,i===Te?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||cl(i,a)||(n=!0,M0(i,a));i=i.next}while(n);uf=!1}}function ER(){D1()}function D1(){nu=zh=!1;var t=0;Yi!==0&&LR()&&(t=Yi);for(var e=Xt(),n=null,i=tu;i!==null;){var s=i.next,a=I1(i,e);a===0?(i.next=null,n===null?tu=s:n.next=s,s===null&&(ma=n)):(n=i,(t!==0||a&3)&&(nu=!0)),i=s}Ze!==0&&Ze!==5||gl(t),Yi!==0&&(Yi=0)}function I1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-Zt(a),o=1<<r,l=s[r];l===-1?(!(o&n)||o&i)&&(s[r]=ZN(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Te,n=de,n=Gu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(xe===2||xe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ud(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||cl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Ud(i),Jm(n)){case 2:case 8:n=v_;break;case 32:n=Pc;break;case 268435456:n=x_;break;default:n=Pc}return i=k1.bind(null,t),n=Qm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Ud(i),t.callbackPriority=2,t.callbackNode=null,2}function k1(t,e){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(sd()&&t.callbackNode!==n)return null;var i=de;return i=Gu(t,t===Te?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(y1(t,i,e),I1(t,Xt()),t.callbackNode!=null&&t.callbackNode===n?k1.bind(null,t):null)}function M0(t,e){if(sd())return null;y1(t,e,!0)}function CR(){PR(function(){me&6?Qm(y_,ER):D1()})}function Up(){if(Yi===0){var t=Ja;t===0&&(t=Ul,Ul<<=1,!(Ul&261888)&&(Ul=256)),Yi=t}return Yi}function j0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uc(""+t)}function L0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function NR(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=j0((s[Pt]||null).action),r=i.submitter;r&&(e=(e=r[Pt]||null)?j0(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var o=new qu("action","action",null,i,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Yi!==0){var l=r?L0(s,r):new FormData(s);Dh(n,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?L0(s,r):new FormData(s),Dh(n,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var df=0;df<vh.length;df++){var ff=vh[df],AR=ff.toLowerCase(),RR=ff[0].toUpperCase()+ff.slice(1);Ln(AR,"on"+RR)}Ln(G_,"onAnimationEnd");Ln(q_,"onAnimationIteration");Ln(Y_,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(qA,"onTransitionRun");Ln(YA,"onTransitionStart");Ln(WA,"onTransitionCancel");Ln(W_,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function O1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){zc(d)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){zc(d)}s.currentTarget=null,a=l}}}}function oe(t,e){var n=e[uh];n===void 0&&(n=e[uh]=new Set);var i=t+"__bubble";n.has(i)||(M1(e,t,2,!1),n.add(i))}function hf(t,e,n){var i=0;e&&(i|=4),M1(n,t,i,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[Wl]){t[Wl]=!0,E_.forEach(function(n){n!=="selectionchange"&&(DR.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,hf("selectionchange",!1,e))}}function M1(t,e,n,i){switch(W1(e)){case 2:var s=s2;break;case 8:s=a2;break;default:s=Hp}n=s.bind(null,e,n,t),s=void 0,!ph||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mf(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;o!==null;){if(r=va(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue e}o=o.parentNode}}i=i.return}O_(function(){var c=a,d=np(n),h=[];e:{var f=$_.get(t);if(f!==void 0){var m=qu,v=t;switch(t){case"keypress":if(fc(n)===0)break e;case"keydown":case"keyup":m=SA;break;case"focusin":v="focus",m=Hd;break;case"focusout":v="blur",m=Hd;break;case"beforeblur":case"afterblur":m=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CA;break;case G_:case q_:case Y_:m=mA;break;case W_:m=AA;break;case"scroll":case"scrollend":m=cA;break;case"wheel":m=DA;break;case"copy":case"cut":case"paste":m=gA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yy;break;case"toggle":case"beforetoggle":m=kA}var _=(e&4)!==0,w=!_&&(t==="scroll"||t==="scrollend"),g=_?f!==null?f+"Capture":null:f;_=[];for(var p=c,y;p!==null;){var b=p;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||g===null||(b=Oo(p,g),b!=null&&_.push(Ho(p,b,y))),w)break;p=p.return}0<_.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==mh&&(v=n.relatedTarget||n.fromElement)&&(va(v)||v[mr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?va(v):null,v!==null&&(w=ol(v),_=v.tag,v!==w||_!==5&&_!==27&&_!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=Gy,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Yy,b="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:Xr(m),y=v==null?f:Xr(v),f=new _(b,p+"leave",m,n,d),f.target=w,f.relatedTarget=y,b=null,va(d)===c&&(_=new _(g,p+"enter",v,n,d),_.target=y,_.relatedTarget=w,b=_),w=b,m&&v)t:{for(_=IR,g=m,p=v,y=0,b=g;b;b=_(b))y++;b=0;for(var C=p;C;C=_(C))b++;for(;0<y-b;)g=_(g),y--;for(;0<b-y;)p=_(p),b--;for(;y--;){if(g===p||p!==null&&g===p.alternate){_=g;break t}g=_(g),p=_(p)}_=null}else _=null;m!==null&&U0(h,f,m,_,!1),v!==null&&w!==null&&U0(h,w,v,_,!0)}}e:{if(f=c?Xr(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=Xy;else if(Ky(f))if(V_)D=HA;else{D=zA;var A=VA}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&tp(c.elementType)&&(D=Xy):D=BA;if(D&&(D=D(t,c))){P_(h,D,n,d);break e}A&&A(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&hh(f,"number",f.value)}switch(A=c?Xr(c):window,t){case"focusin":(Ky(A)||A.contentEditable==="true")&&(_a=A,gh=c,oo=null);break;case"focusout":oo=gh=_a=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,t0(h,n,d);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":t0(h,n,d)}var N;if(ap)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ba?L_(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(j_&&n.locale!=="ko"&&(ba||M!=="onCompositionStart"?M==="onCompositionEnd"&&ba&&(N=M_()):(Fi=d,ip="value"in Fi?Fi.value:Fi.textContent,ba=!0)),A=iu(c,M),0<A.length&&(M=new qy(M,t,null,n,d),h.push({event:M,listeners:A}),N?M.data=N:(N=U_(n),N!==null&&(M.data=N)))),(N=MA?jA(t,n):LA(t,n))&&(M=iu(c,"onBeforeInput"),0<M.length&&(A=new qy("onBeforeInput","beforeinput",null,n,d),h.push({event:A,listeners:M}),A.data=N)),NR(h,t,c,n,d)}O1(h,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iu(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Oo(t,n),s!=null&&i.unshift(Ho(t,s,a)),s=Oo(t,e),s!=null&&i.push(Ho(t,s,a))),t.tag===3)return i;t=t.return}return[]}function IR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U0(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=Oo(n,a),c!=null&&r.unshift(Ho(n,c,l))):s||(c=Oo(n,a),c!=null&&r.push(Ho(n,c,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var kR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function P0(t){return(typeof t=="string"?t:""+t).replace(kR,`
`).replace(OR,"")}function j1(t,e){return e=P0(e),P0(t)===e}function _e(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Za(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Za(t,""+i);break;case"className":zl(t,"class",i);break;case"tabIndex":zl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(t,n,i);break;case"style":k_(t,i,a);break;case"data":if(e!=="object"){zl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&_e(t,e,"name",s.name,s,null),_e(t,e,"formEncType",s.formEncType,s,null),_e(t,e,"formMethod",s.formMethod,s,null),_e(t,e,"formTarget",s.formTarget,s,null)):(_e(t,e,"encType",s.encType,s,null),_e(t,e,"method",s.method,s,null),_e(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=si);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=uc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":oe("beforetoggle",t),oe("toggle",t),cc(t,"popover",i);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":cc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oA.get(n)||n,cc(t,n,i))}}function Bh(t,e,n,i,s,a){switch(n){case"style":k_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Za(t,i):(typeof i=="number"||typeof i=="bigint")&&Za(t,""+i);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[Pt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):cc(t,n,i)}}}function pt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:_e(t,e,a,r,n,null)}}s&&_e(t,e,"srcSet",n.srcSet,n,null),i&&_e(t,e,"src",n.src,n,null);return;case"input":oe("invalid",t);var o=a=r=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":r=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:_e(t,e,i,d,n,null)}}R_(t,a,o,l,c,r,s,!1);return;case"select":oe("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:_e(t,e,s,o,n,null)}e=a,n=r,t.multiple=!!i,e!=null?La(t,!!i,e,!1):n!=null&&La(t,!!i,n,!0);return;case"textarea":oe("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:_e(t,e,r,o,n,null)}I_(t,i,s,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:_e(t,e,l,i,n,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(i=0;i<Bo.length;i++)oe(Bo[i],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:_e(t,e,c,i,n,null)}return;default:if(tp(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Bh(t,e,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&_e(t,e,o,i,n,null))}function MR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,c=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:i.hasOwnProperty(m)||_e(t,e,m,null,i,h)}}for(var f in i){var m=i[f];if(h=n[f],i.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":a=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(R(137,e));break;default:m!==h&&_e(t,e,f,m,i,h)}}fh(t,r,o,l,c,d,a,s);return;case"select":m=r=o=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(a)||_e(t,e,a,null,i,l)}for(s in i)if(a=i[s],l=n[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&_e(t,e,s,a,i,l)}e=o,n=r,i=m,f!=null?La(t,!!n,f,!1):!!i!=!!n&&(e!=null?La(t,!!n,e,!0):La(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:_e(t,e,o,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(R(91));break;default:s!==a&&_e(t,e,r,s,i,a)}D_(t,f,m);return;case"option":for(var v in n)if(f=n[v],n.hasOwnProperty(v)&&f!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:_e(t,e,v,null,i,f)}for(l in i)if(f=i[l],m=n[l],i.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_e(t,e,l,f,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)f=n[_],n.hasOwnProperty(_)&&f!=null&&!i.hasOwnProperty(_)&&_e(t,e,_,null,i,f);for(c in i)if(f=i[c],m=n[c],i.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(R(137,e));break;default:_e(t,e,c,f,i,m)}return;default:if(tp(e)){for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!==void 0&&!i.hasOwnProperty(w)&&Bh(t,e,w,void 0,i,f);for(d in i)f=i[d],m=n[d],!i.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Bh(t,e,d,f,i,m);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!i.hasOwnProperty(g)&&_e(t,e,g,null,i,f);for(h in i)f=i[h],m=n[h],!i.hasOwnProperty(h)||f===m||f==null&&m==null||_e(t,e,h,f,i,m)}function V0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,o=s.duration;if(a&&o&&V0(r)){for(r=0,o=s.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var d=l.transferSize,h=l.initiatorType;d&&V0(h)&&(l=l.responseEnd,r+=d*(l<o?1:(o-c)/(l-c)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hh=null,Fh=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function z0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pf=null;function LR(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,UR=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(t){return B0.resolve(null).then(t).catch(VR)}:U1;function VR(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function H0(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),rr(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")vo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,vo(n);for(var a=n.firstChild;a;){var r=a.nextSibling,o=a.nodeName;a[dl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&vo(t.ownerDocument.body);n=s}while(n);rr(e)}function F0(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function qh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qh(n),ep(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function zR(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[dl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=pn(t.nextSibling),t===null)break}return null}function BR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=pn(t.nextSibling),t===null))return null;return t}function P1(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=pn(t.nextSibling),t===null))return null;return t}function Yh(t){return t.data==="$?"||t.data==="$~"}function Wh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var $h=null;function G0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return pn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function V1(t,e,n){switch(e=su(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function vo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ep(t)}var gn=new Map,Y0=new Set;function au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=ge.d;ge.d={f:FR,r:GR,D:qR,C:YR,L:WR,m:$R,X:XR,S:KR,M:QR};function FR(){var t=Ti.f(),e=nd();return t||e}function GR(t){var e=pr(t);e!==null&&e.tag===5&&e.type==="form"?kw(e):Ti.r(t)}var xr=typeof document>"u"?null:document;function z1(t,e,n){var i=xr;if(i&&typeof e=="string"&&e){var s=cn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Y0.has(s)||(Y0.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),pt(e,"link",t),rt(e),i.head.appendChild(e)))}}function qR(t){Ti.D(t),z1("dns-prefetch",t,null)}function YR(t,e){Ti.C(t,e),z1("preconnect",t,e)}function WR(t,e,n){Ti.L(t,e,n);var i=xr;if(i&&t&&e){var s='link[rel="preload"][as="'+cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+cn(n.imageSizes)+'"]')):s+='[href="'+cn(t)+'"]';var a=s;switch(e){case"style":a=ar(t);break;case"script":a=br(t)}gn.has(a)||(t=ke({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),gn.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(yl(a))||e==="script"&&i.querySelector(vl(a))||(e=i.createElement("link"),pt(e,"link",t),rt(e),i.head.appendChild(e)))}}function $R(t,e){Ti.m(t,e);var n=xr;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+cn(i)+'"][href="'+cn(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=br(t)}if(!gn.has(a)&&(t=ke({rel:"modulepreload",href:t},e),gn.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(vl(a)))return}i=n.createElement("link"),pt(i,"link",t),rt(i),n.head.appendChild(i)}}}function KR(t,e,n){Ti.S(t,e,n);var i=xr;if(i&&t){var s=ja(i).hoistableStyles,a=ar(t);e=e||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(yl(a)))o.loading=5;else{t=ke({rel:"stylesheet",href:t,"data-precedence":e},n),(n=gn.get(a))&&Vp(t,n);var l=r=i.createElement("link");rt(l),pt(l,"link",t),l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,bc(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function XR(t,e){Ti.X(t,e);var n=xr;if(n&&t){var i=ja(n).hoistableScripts,s=br(t),a=i.get(s);a||(a=n.querySelector(vl(s)),a||(t=ke({src:t,async:!0},e),(e=gn.get(s))&&zp(t,e),a=n.createElement("script"),rt(a),pt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function QR(t,e){Ti.M(t,e);var n=xr;if(n&&t){var i=ja(n).hoistableScripts,s=br(t),a=i.get(s);a||(a=n.querySelector(vl(s)),a||(t=ke({src:t,async:!0,type:"module"},e),(e=gn.get(s))&&zp(t,e),a=n.createElement("script"),rt(a),pt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function W0(t,e,n,i){var s=(s=$i.current)?au(s):null;if(!s)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ar(n.href),n=ja(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ar(n.href);var a=ja(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(yl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),gn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gn.set(t,n),a||ZR(s,t,n,r.state))),e&&i===null)throw Error(R(528,""));return r}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=br(n),n=ja(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function ar(t){return'href="'+cn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function B1(t){return ke({},t,{"data-precedence":t.precedence,precedence:null})}function ZR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),pt(e,"link",n),rt(e),t.head.appendChild(e))}function br(t){return'[src="'+cn(t)+'"]'}function vl(t){return"script[async]"+t}function $0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+cn(n.href)+'"]');if(i)return e.instance=i,rt(i),i;var s=ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),rt(i),pt(i,"style",s),bc(i,n.precedence,t),e.instance=i;case"stylesheet":s=ar(n.href);var a=t.querySelector(yl(s));if(a)return e.state.loading|=4,e.instance=a,rt(a),a;i=B1(n),(s=gn.get(s))&&Vp(i,s),a=(t.ownerDocument||t).createElement("link"),rt(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),pt(a,"link",i),e.state.loading|=4,bc(a,n.precedence,t),e.instance=a;case"script":return a=br(n.src),(s=t.querySelector(vl(a)))?(e.instance=s,rt(s),s):(i=n,(s=gn.get(a))&&(i=ke({},n),zp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),rt(s),pt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,bc(i,n.precedence,t));return e.instance}function bc(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===e)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Vp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function zp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var _c=null;function K0(t,e,n){if(_c===null){var i=new Map,s=_c=new Map;s.set(n,i)}else s=_c,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[dl]||a[ft]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function X0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function JR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function H1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function e2(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=ar(i.href),a=e.querySelector(yl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ru.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,rt(a);return}a=e.ownerDocument||e,i=B1(i),(s=gn.get(s))&&Vp(i,s),a=a.createElement("link"),rt(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),pt(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=ru.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var gf=0;function t2(t,e){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&gf===0&&(gf=62500*jR());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>gf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ou=null;function wc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ou=new Map,e.forEach(n2,t),ou=null,ru.call(t))}function n2(t,e){if(!(e.state.loading&4)){var n=ou.get(t);if(n)var i=n.get(null);else{n=new Map,ou.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=ru.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Fo={$$typeof:ii,Provider:null,Consumer:null,_currentValue:js,_currentValue2:js,_threadCount:0};function i2(t,e,n,i,s,a,r,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.hiddenUpdates=Pd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function F1(t,e,n,i,s,a,r,o,l,c,d,h){return t=new i2(t,e,n,r,l,c,d,h,o),e=1,a===!0&&(e|=24),a=$t(3,null,null,e),t.current=a,a.stateNode=t,e=fp(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},pp(a),t}function G1(t){return t?(t=Ta,t):Ta}function q1(t,e,n,i,s,a){s=G1(s),i.context===null?i.context=s:i.pendingContext=s,i=Xi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Qi(t,i,e),n!==null&&(jt(n,t,e),co(n,t,e))}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bp(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function Y1(t){if(t.tag===13||t.tag===31){var e=sa(t,67108864);e!==null&&jt(e,t,67108864),Bp(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var e=Jt();e=Zm(e);var n=sa(t,e);n!==null&&jt(n,t,e),Bp(t,e)}}var lu=!0;function s2(t,e,n,i){var s=Z.T;Z.T=null;var a=ge.p;try{ge.p=2,Hp(t,e,n,i)}finally{ge.p=a,Z.T=s}}function a2(t,e,n,i){var s=Z.T;Z.T=null;var a=ge.p;try{ge.p=8,Hp(t,e,n,i)}finally{ge.p=a,Z.T=s}}function Hp(t,e,n,i){if(lu){var s=Kh(i);if(s===null)mf(t,e,i,cu,n),J0(t,i);else if(o2(s,t,e,n,i))i.stopPropagation();else if(J0(t,i),e&4&&-1<r2.indexOf(t)){for(;s!==null;){var a=pr(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Es(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-Zt(r);o.entanglements[1]|=l,r&=~l}$n(a),!(me&6)&&(Zc=Xt()+500,gl(0))}}break;case 31:case 13:o=sa(a,2),o!==null&&jt(o,a,2),nd(),Bp(a,2)}if(a=Kh(i),a===null&&mf(t,e,i,cu,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else mf(t,e,i,null,n)}}function Kh(t){return t=np(t),Fp(t)}var cu=null;function Fp(t){if(cu=null,t=va(t),t!==null){var e=ol(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f_(e),t!==null)return t;t=null}else if(n===31){if(t=h_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return cu=t,null}function W1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qN()){case y_:return 2;case v_:return 8;case Pc:case YN:return 32;case x_:return 268435456;default:return 32}default:return 32}}var Xh=!1,es=null,ts=null,ns=null,Go=new Map,qo=new Map,Li=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(e.pointerId)}}function zr(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=pr(e),e!==null&&Y1(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function o2(t,e,n,i,s){switch(e){case"focusin":return es=zr(es,t,e,n,i,s),!0;case"dragenter":return ts=zr(ts,t,e,n,i,s),!0;case"mouseover":return ns=zr(ns,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Go.set(a,zr(Go.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,qo.set(a,zr(qo.get(a)||null,t,e,n,i,s)),!0}return!1}function $1(t){var e=va(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=f_(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){Z0(n)});return}}else if(e===31){if(e=h_(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){Z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kh(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);mh=i,n.target.dispatchEvent(i),mh=null}else return e=pr(n),e!==null&&Y1(e),t.blockedOn=n,!1;e.shift()}return!0}function ev(t,e,n){Sc(t)&&n.delete(e)}function l2(){Xh=!1,es!==null&&Sc(es)&&(es=null),ts!==null&&Sc(ts)&&(ts=null),ns!==null&&Sc(ns)&&(ns=null),Go.forEach(ev),qo.forEach(ev)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,l2)))}var Kl=null;function tv(t){Kl!==t&&(Kl=t,et.unstable_scheduleCallback(et.unstable_NormalPriority,function(){Kl===t&&(Kl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Fp(i||n)===null)continue;break}var a=pr(n);a!==null&&(t.splice(e,3),e-=3,Dh(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function rr(t){function e(l){return $l(l,t)}es!==null&&$l(es,t),ts!==null&&$l(ts,t),ns!==null&&$l(ns,t),Go.forEach(e),qo.forEach(e);for(var n=0;n<Li.length;n++){var i=Li[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)$1(n),n.blockedOn===null&&Li.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[Pt]||null;if(typeof a=="function")r||tv(n);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Pt]||null)o=r.formAction;else if(Fp(s)!==null)continue}else o=r.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),tv(n)}}}function K1(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Gp(t){this._internalRoot=t}ad.prototype.render=Gp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=Jt();q1(n,i,t,e,null,null)};ad.prototype.unmount=Gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;q1(t.current,2,null,t,null,null),nd(),e[mr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=T_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&$1(t)}};var nv=u_.version;if(nv!=="19.2.3")throw Error(R(527,nv,"19.2.3"));ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=PN(e),t=t!==null?m_(t):null,t=t===null?null:t.stateNode,t};var c2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{ll=Xl.inject(c2),Qt=Xl}catch{}}Hu.createRoot=function(t,e){if(!d_(t))throw Error(R(299));var n=!1,i="",s=zw,a=Bw,r=Hw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=F1(t,1,!1,null,null,n,i,null,s,a,r,K1),t[mr]=e.current,Pp(t),new Gp(e)};Hu.hydrateRoot=function(t,e,n){if(!d_(t))throw Error(R(299));var i=!1,s="",a=zw,r=Bw,o=Hw,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=F1(t,1,!0,e,n??null,i,s,l,a,r,o,K1),e.context=G1(null),n=e.current,i=Jt(),i=Zm(i),s=Xi(i),s.callback=null,Qi(n,s,i),n=i,e.current.lanes=n,ul(e,n),$n(e),t[mr]=e.current,Pp(t),new ad(e)};Hu.version="19.2.3";function X1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X1)}catch(t){console.error(t)}}X1(),s_.exports=Hu;var u2=s_.exports;const d2=$b(u2),qp=E.createContext({});function ds(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Q1=typeof window<"u",rd=Q1?E.useLayoutEffect:E.useEffect,od=E.createContext(null);function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Wp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const On=(t,e,n)=>n>e?e:n<t?t:n;let Yo=()=>{};const xi={},Z1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function J1(t){return typeof t=="object"&&t!==null}const eS=t=>/^0[^.\s]+$/u.test(t);function $p(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lt=t=>t,f2=(t,e)=>n=>e(t(n)),xl=(...t)=>t.reduce(f2),or=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Kp{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Wp(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=t=>t*1e3,hn=t=>t/1e3;function Xp(t,e){return e?t*(1e3/e):0}const tS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,h2=1e-7,m2=12;function p2(t,e,n,i,s){let a,r,o=0;do r=e+(n-e)/2,a=tS(r,i,s)-t,a>0?n=r:e=r;while(Math.abs(a)>h2&&++o<m2);return r}function bl(t,e,n,i){if(t===e&&n===i)return Lt;const s=a=>p2(a,0,1,t,n);return a=>a===0||a===1?a:tS(s(a),e,i)}const nS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iS=t=>e=>1-t(1-e),sS=bl(.33,1.53,.69,.99),Qp=iS(sS),aS=nS(Qp),rS=t=>(t*=2)<1?.5*Qp(t):.5*(2-Math.pow(2,-10*(t-1))),Zp=t=>1-Math.sin(Math.acos(t)),oS=iS(Zp),lS=nS(Zp),g2=bl(.42,0,1,1),y2=bl(0,0,.58,1),cS=bl(.42,0,.58,1),v2=t=>Array.isArray(t)&&typeof t[0]!="number",uS=t=>Array.isArray(t)&&typeof t[0]=="number",x2={linear:Lt,easeIn:g2,easeInOut:cS,easeOut:y2,circIn:Zp,circInOut:lS,circOut:oS,backIn:Qp,backInOut:aS,backOut:sS,anticipate:rS},b2=t=>typeof t=="string",iv=t=>{if(uS(t)){Yo(t.length===4);const[e,n,i,s]=t;return bl(e,n,i,s)}else if(b2(t))return x2[t];return t},Ql=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _2(t,e){let n=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){r.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,h=!1,f=!1)=>{const v=f&&s?n:i;return h&&r.add(d),v.has(d)||v.add(d),d},cancel:d=>{i.delete(d),r.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(l),n.clear(),s=!1,a&&(a=!1,c.process(d))}};return c}const w2=40;function dS(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=Ql.reduce((y,b)=>(y[b]=_2(a),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:v}=r,_=()=>{const y=xi.useManualTiming?s.timestamp:performance.now();n=!1,xi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(y-s.timestamp,w2),1)),s.timestamp=y,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),v.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(_))},w=()=>{n=!0,i=!0,s.isProcessing||t(_)};return{schedule:Ql.reduce((y,b)=>{const C=r[b];return y[b]=(D,A=!1,N=!1)=>(n||w(),C.schedule(D,A,N)),y},{}),cancel:y=>{for(let b=0;b<Ql.length;b++)r[Ql[b]].cancel(y)},state:s,steps:r}}const{schedule:pe,cancel:Mn,state:nt,steps:yf}=dS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);let Tc;function S2(){Tc=void 0}const wt={now:()=>(Tc===void 0&&wt.set(nt.isProcessing||xi.useManualTiming?nt.timestamp:performance.now()),Tc),set:t=>{Tc=t,queueMicrotask(S2)}},fS=t=>e=>typeof e=="string"&&e.startsWith(t),hS=fS("--"),T2=fS("var(--"),Jp=t=>T2(t)?E2.test(t.split("/*")[0].trim()):!1,E2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function sv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const _r={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wo={..._r,transform:t=>On(0,1,t)},Zl={..._r,default:1},xo=t=>Math.round(t*1e5)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C2(t){return t==null}const N2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tg=(t,e)=>n=>!!(typeof n=="string"&&N2.test(n)&&n.startsWith(t)||e&&!C2(n)&&Object.prototype.hasOwnProperty.call(n,e)),mS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(eg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},A2=t=>On(0,255,t),vf={..._r,transform:t=>Math.round(A2(t))},Is={test:tg("rgb","red"),parse:mS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+vf.transform(t)+", "+vf.transform(e)+", "+vf.transform(n)+", "+xo(Wo.transform(i))+")"};function R2(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Qh={test:tg("#"),parse:R2,transform:Is.transform},_l=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=_l("deg"),Fn=_l("%"),j=_l("px"),D2=_l("vh"),I2=_l("vw"),av={...Fn,parse:t=>Fn.parse(t)/100,transform:t=>Fn.transform(t*100)},Aa={test:tg("hsl","hue"),parse:mS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Fn.transform(xo(e))+", "+Fn.transform(xo(n))+", "+xo(Wo.transform(i))+")"},qe={test:t=>Is.test(t)||Qh.test(t)||Aa.test(t),parse:t=>Is.test(t)?Is.parse(t):Aa.test(t)?Aa.parse(t):Qh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Is.transform(t):Aa.transform(t),getAnimatableNone:t=>{const e=qe.parse(t);return e.alpha=0,qe.transform(e)}},k2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(eg))==null?void 0:e.length)||0)+(((n=t.match(k2))==null?void 0:n.length)||0)>0}const pS="number",gS="color",M2="var",j2="var(",rv="${}",L2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $o(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=e.replace(L2,l=>(qe.test(l)?(i.color.push(a),s.push(gS),n.push(qe.parse(l))):l.startsWith(j2)?(i.var.push(a),s.push(M2),n.push(l)):(i.number.push(a),s.push(pS),n.push(parseFloat(l))),++a,rv)).split(rv);return{values:n,split:o,indexes:i,types:s}}function yS(t){return $o(t).values}function vS(t){const{split:e,types:n}=$o(t),i=e.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=e[r],s[r]!==void 0){const o=n[r];o===pS?a+=xo(s[r]):o===gS?a+=qe.transform(s[r]):a+=s[r]}return a}}const U2=t=>typeof t=="number"?0:qe.test(t)?qe.getAnimatableNone(t):t;function P2(t){const e=yS(t);return vS(t)(e.map(U2))}const fs={test:O2,parse:yS,createTransformer:vS,getAnimatableNone:P2};function xf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V2({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,r=0;if(!e)s=a=r=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=xf(l,o,t+1/3),a=xf(l,o,t),r=xf(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function uu(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,bf=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},z2=[Qh,Is,Aa],B2=t=>z2.find(e=>e.test(t));function ov(t){const e=B2(t);if(!e)return!1;let n=e.parse(t);return e===Aa&&(n=V2(n)),n}const lv=(t,e)=>{const n=ov(t),i=ov(e);if(!n||!i)return uu(t,e);const s={...n};return a=>(s.red=bf(n.red,i.red,a),s.green=bf(n.green,i.green,a),s.blue=bf(n.blue,i.blue,a),s.alpha=je(n.alpha,i.alpha,a),Is.transform(s))},Zh=new Set(["none","hidden"]);function H2(t,e){return Zh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function F2(t,e){return n=>je(t,e,n)}function ng(t){return typeof t=="number"?F2:typeof t=="string"?Jp(t)?uu:qe.test(t)?lv:Y2:Array.isArray(t)?xS:typeof t=="object"?qe.test(t)?lv:G2:uu}function xS(t,e){const n=[...t],i=n.length,s=t.map((a,r)=>ng(a)(a,e[r]));return a=>{for(let r=0;r<i;r++)n[r]=s[r](a);return n}}function G2(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=ng(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function q2(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],r=t.indexes[a][i[a]],o=t.values[r]??0;n[s]=o,i[a]++}return n}const Y2=(t,e)=>{const n=fs.createTransformer(e),i=$o(t),s=$o(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Zh.has(t)&&!s.values.length||Zh.has(e)&&!i.values.length?H2(t,e):xl(xS(q2(i,s),s.values),n):uu(t,e)};function bS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):ng(t)(t,e)}const W2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pe.update(e,n),stop:()=>Mn(e),now:()=>nt.isProcessing?nt.timestamp:wt.now()}},_S=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},du=2e4;function ig(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<du;)e+=n,i=t.next(e);return e>=du?1/0:e}function $2(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(ig(i),du);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:hn(s)}}const K2=5;function wS(t,e,n){const i=Math.max(e-K2,0);return Xp(n-t(i),e-i)}const Ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_f=.001;function X2({duration:t=Ue.duration,bounce:e=Ue.bounce,velocity:n=Ue.velocity,mass:i=Ue.mass}){let s,a,r=1-e;r=On(Ue.minDamping,Ue.maxDamping,r),t=On(Ue.minDuration,Ue.maxDuration,hn(t)),r<1?(s=c=>{const d=c*r,h=d*t,f=d-n,m=Jh(c,r),v=Math.exp(-h);return _f-f/m*v},a=c=>{const h=c*r*t,f=h*n+n,m=Math.pow(r,2)*Math.pow(c,2)*t,v=Math.exp(-h),_=Jh(Math.pow(c,2),r);return(-s(c)+_f>0?-1:1)*((f-m)*v)/_}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-_f+d*h},a=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=Z2(s,a,o);if(t=fi(t),isNaN(l))return{stiffness:Ue.stiffness,damping:Ue.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:r*2*Math.sqrt(i*c),duration:t}}}const Q2=12;function Z2(t,e,n){let i=n;for(let s=1;s<Q2;s++)i=i-t(i)/e(i);return i}function Jh(t,e){return t*Math.sqrt(1-e*e)}const J2=["duration","bounce"],eD=["stiffness","damping","mass"];function cv(t,e){return e.some(n=>t[n]!==void 0)}function tD(t){let e={velocity:Ue.velocity,stiffness:Ue.stiffness,damping:Ue.damping,mass:Ue.mass,isResolvedFromDuration:!1,...t};if(!cv(t,eD)&&cv(t,J2))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ue.mass,stiffness:s,damping:a}}else{const n=X2(t);e={...e,...n,mass:Ue.mass},e.isResolvedFromDuration=!0}return e}function fu(t=Ue.visualDuration,e=Ue.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=tD({...n,velocity:-hn(n.velocity||0)}),v=f||0,_=c/(2*Math.sqrt(l*d)),w=r-a,g=hn(Math.sqrt(l/d)),p=Math.abs(w)<5;i||(i=p?Ue.restSpeed.granular:Ue.restSpeed.default),s||(s=p?Ue.restDelta.granular:Ue.restDelta.default);let y;if(_<1){const C=Jh(g,_);y=D=>{const A=Math.exp(-_*g*D);return r-A*((v+_*g*w)/C*Math.sin(C*D)+w*Math.cos(C*D))}}else if(_===1)y=C=>r-Math.exp(-g*C)*(w+(v+g*w)*C);else{const C=g*Math.sqrt(_*_-1);y=D=>{const A=Math.exp(-_*g*D),N=Math.min(C*D,300);return r-A*((v+_*g*w)*Math.sinh(N)+C*w*Math.cosh(N))/C}}const b={calculatedDuration:m&&h||null,next:C=>{const D=y(C);if(m)o.done=C>=h;else{let A=C===0?v:0;_<1&&(A=C===0?fi(v):wS(y,C,D));const N=Math.abs(A)<=i,M=Math.abs(r-D)<=s;o.done=N&&M}return o.value=o.done?r:D,o},toString:()=>{const C=Math.min(ig(b),du),D=_S(A=>b.next(C*A).value,C,30);return C+"ms "+D},toTransition:()=>{}};return b}fu.applyToOptions=t=>{const e=$2(t,100,fu);return t.ease=e.ease,t.duration=fi(e.duration),t.type="keyframes",t};function em({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=N=>o!==void 0&&N<o||l!==void 0&&N>l,v=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let _=n*e;const w=h+_,g=r===void 0?w:r(w);g!==w&&(_=g-h);const p=N=>-_*Math.exp(-N/i),y=N=>g+p(N),b=N=>{const M=p(N),L=y(N);f.done=Math.abs(M)<=c,f.value=f.done?g:L};let C,D;const A=N=>{m(f.value)&&(C=N,D=fu({keyframes:[f.value,v(f.value)],velocity:wS(y,N,f.value),damping:s,stiffness:a,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:N=>{let M=!1;return!D&&C===void 0&&(M=!0,b(N),A(N)),C!==void 0&&N>=C?D.next(N-C):(!M&&b(N),f)}}}function nD(t,e,n){const i=[],s=n||xi.mix||bS,a=t.length-1;for(let r=0;r<a;r++){let o=s(t[r],t[r+1]);if(e){const l=Array.isArray(e)?e[r]||Lt:e;o=xl(l,o)}i.push(o)}return i}function sg(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(Yo(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=nD(e,i,s),l=o.length,c=d=>{if(r&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=or(t[h],t[h+1],d);return o[h](f)};return n?d=>c(On(t[0],t[a-1],d)):c}function iD(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=or(0,e,i);t.push(je(n,1,s))}}function SS(t){const e=[0];return iD(e,t.length-1),e}function sD(t,e){return t.map(n=>n*e)}function aD(t,e){return t.map(()=>e||cS).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=v2(i)?i.map(iv):iv(i),a={done:!1,value:e[0]},r=sD(n&&n.length===e.length?n:SS(e),t),o=sg(r,e,{ease:Array.isArray(s)?s:aD(e,s)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const rD=t=>t!==null;function ag(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(rD),o=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const oD={decay:em,inertia:em,tween:bo,keyframes:bo,spring:fu};function TS(t){typeof t.type=="string"&&(t.type=oD[t.type])}class rg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lD=t=>t/100;class ld extends rg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==wt.now()&&this.tick(wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TS(e);const{type:n=bo,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=e;let{keyframes:o}=e;const l=n||bo;l!==bo&&typeof o[0]!="number"&&(this.mixKeyframes=xl(lD,bS(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=ig(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:v,onUpdate:_,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,b=i;if(h){const N=Math.min(this.currentTime,s)/o;let M=Math.floor(N),L=N%1;!L&&N>=1&&(L=1),L===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(L=1-L,m&&(L-=m/o)):f==="mirror"&&(b=r)),y=On(0,1,L)*o}const C=p?{done:!1,value:d[0]}:b.next(y);a&&(C.value=a(C.value));let{done:D}=C;!p&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return A&&v!==em&&(C.value=ag(d,this.options,w,this.speed)),_&&_(C.value),A&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return hn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(this.currentTime)}set time(e){var n;e=fi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hn(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=W2,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function cD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,tm=t=>{const e=ks(Math.atan2(t[1],t[0]));return nm(e)},uD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tm,rotateZ:tm,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nm=t=>(t=t%360,t<0&&(t+=360),t),uv=tm,dv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dv,scaleY:fv,scale:t=>(dv(t)+fv(t))/2,rotateX:t=>nm(ks(Math.atan2(t[6],t[5]))),rotateY:t=>nm(ks(Math.atan2(-t[2],t[0]))),rotateZ:uv,rotate:uv,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function im(t){return t.includes("scale")?1:0}function sm(t,e){if(!t||t==="none")return im(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=dD,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=uD,s=o}if(!s)return im(e);const a=i[e],r=s[1].split(",").map(hD);return typeof a=="function"?a(r):r[a]}const fD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sm(n,e)};function hD(t){return parseFloat(t.trim())}const wr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sr=new Set(wr),hv=t=>t===_r||t===j,mD=new Set(["x","y","z"]),pD=wr.filter(t=>!mD.has(t));function gD(t){const e=[];return pD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Wi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sm(e,"x"),y:(t,{transform:e})=>sm(e,"y")};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const zs=new Set;let am=!1,rm=!1,om=!1;function ES(){if(rm){const t=Array.from(zs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=gD(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))==null||o.set(r)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}rm=!1,am=!1,zs.forEach(t=>t.complete(om)),zs.clear()}function CS(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rm=!0)})}function yD(){om=!0,CS(),ES(),om=!1}class og{constructor(e,n,i,s,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),am||(am=!0,pe.read(CS),pe.resolveKeyframes(ES))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),r=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const o=i.readValue(n,r);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=r),s&&a===void 0&&s.set(e[0])}cD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vD=t=>t.startsWith("--");function xD(t,e,n){vD(e)?t.style.setProperty(e,n):t.style[e]=n}const NS=$p(()=>window.ScrollTimeline!==void 0),bD={};function _D(t,e){const n=$p(t);return()=>bD[e]??n()}const AS=_D(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,mv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jr([0,.65,.55,1]),circOut:Jr([.55,0,1,.45]),backIn:Jr([.31,.01,.66,-.59]),backOut:Jr([.33,1.53,.69,.99])};function RS(t,e){if(t)return typeof t=="function"?AS()?_S(t,e):"ease-out":uS(t)?Jr(t):Array.isArray(t)?t.map(n=>RS(n,e)||mv.easeOut):mv[t]}function wD(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=RS(o,s);Array.isArray(h)&&(d.easing=h);const f={delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function DS(t){return typeof t=="function"&&"applyToOptions"in t}function SD({type:t,...e}){return DS(t)&&AS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TD extends rg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=e,Yo(typeof e.type!="string");const c=SD(e);this.animation=wD(n,i,s,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=ag(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):xD(n,i,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return hn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NS()?(this.animation.timeline=e,Lt):n(this)}}const IS={anticipate:rS,backInOut:aS,circInOut:lS};function ED(t){return t in IS}function CD(t){typeof t.ease=="string"&&ED(t.ease)&&(t.ease=IS[t.ease])}const wf=10;class ND extends TD{constructor(e){CD(e),TS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new ld({...r,autoplay:!1}),l=Math.max(wf,wt.now()-this.startTime),c=On(0,wf,l-wf);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const pv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function AD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RD(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],r=pv(s,e),o=pv(a,e);return!r||!o?!1:AD(t)||(n==="spring"||DS(n))&&i}function lm(t){t.duration=0,t.type="keyframes"}const DD=new Set(["opacity","clipPath","filter","transform"]),ID=$p(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kD(t){var d;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:r}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return ID()&&n&&DD.has(n)&&(n!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&a!==0&&r!=="inertia"}const OD=40;class MD extends rg{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",keyframes:o,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var _,w;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=wt.now();const f={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:r,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||og;this.keyframeResolver=new m(o,(_,w,g)=>this.onKeyframesResolved(_,w,f,!g),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:r,velocity:o,delay:l,isHandoff:c,onUpdate:d}=i;this.resolvedAt=wt.now(),RD(e,a,r,o)||((xi.instantAnimations||!l)&&(d==null||d(ag(e,i,n))),e[0]=e[e.length-1],lm(i),i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},m=!c&&kD(f)?new ND({...f,element:f.motionValue.owner.current}):new ld(f);m.finished.then(()=>this.notifyFinished()).catch(Lt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),yD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const jD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LD(t){const e=jD.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function kS(t,e,n=1){const[i,s]=LD(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const r=a.trim();return Z1(r)?parseFloat(r):r}return Jp(s)?kS(s,e,n+1):s}function lg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const UD={type:"spring",stiffness:500,damping:25,restSpeed:10},PD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VD={type:"keyframes",duration:.8},zD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BD=(t,{keyframes:e})=>e.length>2?VD:Sr.has(t)?t.startsWith("scale")?PD(e[1]):UD:zD;function HD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const FD=t=>t!==null;function GD(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(FD),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function OS(t,e,n,i=0,s=1){const a=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),r=t.size,o=(r-1)*i;return typeof n=="function"?n(a,r):s===1?a*i:o-a*i}const cg=(t,e,n,i={},s,a)=>r=>{const o=lg(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-fi(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:s};HD(o)||Object.assign(d,BD(t,d)),d.duration&&(d.duration=fi(d.duration)),d.repeatDelay&&(d.repeatDelay=fi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(lm(d),d.delay===0&&(h=!0)),(xi.instantAnimations||xi.skipAnimations)&&(h=!0,lm(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!a&&e.get()!==void 0){const f=GD(d.keyframes,o);if(f!==void 0){pe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new ld(d):new MD(d)},MS=new Set(["width","height","top","left","right","bottom",...wr]),gv=30,qD=t=>!isNaN(parseFloat(t)),_o={current:void 0};class YD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=wt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kp);const i=this.events[e].add(n);return e==="change"?()=>{i(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _o.current&&_o.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gv);return Xp(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function An(t,e){return new YD(t,e)}function yv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ug(t,e,n,i){if(typeof e=="function"){const[s,a]=yv(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=yv(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function Ha(t,e,n){const i=t.getProps();return ug(i,e,n!==void 0?n:i.custom,t)}const cm=t=>Array.isArray(t);function WD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,An(n))}function $D(t){return cm(t)?t[t.length-1]||0:t}function KD(t,e){const n=Ha(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const r in a){const o=$D(a[r]);WD(t,r,o)}}const lt=t=>!!(t&&t.getVelocity);function XD(t){return!!(lt(t)&&t.add)}function um(t,e){const n=t.getValue("willChange");if(XD(n))return n.add(e);if(!n&&xi.WillChange){const i=new xi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function dg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const QD="framerAppearId",jS="data-"+dg(QD);function LS(t){return t.props[jS]}function ZD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function US(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:r,...o}=e;i&&(a=i);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const h=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||c&&ZD(c,d))continue;const m={delay:n,...lg(a||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const g=LS(t);if(g){const p=window.MotionHandoffAnimation(g,d,pe);p!==null&&(m.startTime=p,_=!0)}}um(t,d),h.start(cg(d,h,f,t.shouldReduceMotion&&MS.has(d)?{type:!1}:m,t,_));const w=h.animation;w&&l.push(w)}return r&&Promise.all(l).then(()=>{pe.update(()=>{r&&KD(t,r)})}),l}function dm(t,e,n={}){var l;const i=Ha(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(US(t,i,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return JD(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,d]=o==="beforeChildren"?[a,r]:[r,a];return c().then(()=>d())}else return Promise.all([a(),r(n.delay)])}function JD(t,e,n=0,i=0,s=0,a=1,r){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(dm(l,e,{...r,delay:n+(typeof i=="function"?0:i)+OS(t.variantChildren,l,i,s,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function eI(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>dm(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=dm(t,e,n);else{const s=typeof e=="function"?Ha(t,e,n.custom):e;i=Promise.all(US(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const tI={test:t=>t==="auto",parse:t=>t},PS=t=>e=>e.test(t),VS=[_r,j,Fn,Ri,I2,D2,tI],vv=t=>VS.find(PS(t));function nI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eS(t):!0}const iI=new Set(["brightness","contrast","saturate","opacity"]);function sI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(eg)||[];if(!i)return t;const s=n.replace(i,"");let a=iI.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const aI=/\b([a-z-]*)\(.*?\)/gu,fm={...fs,getAnimatableNone:t=>{const e=t.match(aI);return e?e.map(sI).join(" "):t}},xv={..._r,transform:Math.round},rI={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:Zl,scaleX:Zl,scaleY:Zl,scaleZ:Zl,skew:Ri,skewX:Ri,skewY:Ri,distance:j,translateX:j,translateY:j,translateZ:j,x:j,y:j,z:j,perspective:j,transformPerspective:j,opacity:Wo,originX:av,originY:av,originZ:j},fg={borderWidth:j,borderTopWidth:j,borderRightWidth:j,borderBottomWidth:j,borderLeftWidth:j,borderRadius:j,radius:j,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomRightRadius:j,borderBottomLeftRadius:j,width:j,maxWidth:j,height:j,maxHeight:j,top:j,right:j,bottom:j,left:j,inset:j,insetBlock:j,insetBlockStart:j,insetBlockEnd:j,insetInline:j,insetInlineStart:j,insetInlineEnd:j,padding:j,paddingTop:j,paddingRight:j,paddingBottom:j,paddingLeft:j,paddingBlock:j,paddingBlockStart:j,paddingBlockEnd:j,paddingInline:j,paddingInlineStart:j,paddingInlineEnd:j,margin:j,marginTop:j,marginRight:j,marginBottom:j,marginLeft:j,marginBlock:j,marginBlockStart:j,marginBlockEnd:j,marginInline:j,marginInlineStart:j,marginInlineEnd:j,backgroundPositionX:j,backgroundPositionY:j,...rI,zIndex:xv,fillOpacity:Wo,strokeOpacity:Wo,numOctaves:xv},oI={...fg,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:fm,WebkitFilter:fm},zS=t=>oI[t];function BS(t,e){let n=zS(t);return n!==fm&&(n=fs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lI=new Set(["auto","none","0"]);function cI(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!lI.has(a)&&$o(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=BS(n,s)}class uI extends og{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Jp(h))){const f=kS(h,n.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!MS.has(i)||e.length!==2)return;const[s,a]=e,r=vv(s),o=vv(a),l=sv(s),c=sv(a);if(l!==c&&Wi[i]){this.needsMeasurement=!0;return}if(r!==o)if(hv(r)&&hv(o))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Wi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||nI(e[s]))&&i.push(s);i.length&&cI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,r=i[a];i[a]=Wi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function hg(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const HS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mg(t){return J1(t)&&"offsetHeight"in t}const{schedule:pg}=dS(queueMicrotask,!1),En={x:!1,y:!1};function FS(){return En.x||En.y}function dI(t){return t==="x"||t==="y"?En[t]?null:(En[t]=!0,()=>{En[t]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}function GS(t,e){const n=hg(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function bv(t){return!(t.pointerType==="touch"||FS())}function fI(t,e,n={}){const[i,s,a]=GS(t,n),r=o=>{if(!bv(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=h=>{bv(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}const qS=(t,e)=>e?t===e?!0:qS(t,e.parentElement):!1,gg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YS(t){return hI.has(t.tagName)||t.isContentEditable===!0}const Ec=new WeakSet;function _v(t){return e=>{e.key==="Enter"&&t(e)}}function Sf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mI=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_v(()=>{if(Ec.has(n))return;Sf(n,"down");const s=_v(()=>{Sf(n,"up")}),a=()=>Sf(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function wv(t){return gg(t)&&!FS()}function pI(t,e,n={}){const[i,s,a]=GS(t,n),r=o=>{const l=o.currentTarget;if(!wv(o))return;Ec.add(l);const c=e(l,o),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ec.has(l)&&Ec.delete(l),wv(m)&&typeof c=="function"&&c(m,{success:v})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||qS(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",r,s),mg(o)&&(o.addEventListener("focus",c=>mI(c,s)),!YS(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function yg(t){return J1(t)&&"ownerSVGElement"in t}const Cc=new WeakMap;let Di;const WS=(t,e,n)=>(i,s)=>s&&s[0]?s[0][t+"Size"]:yg(i)&&"getBBox"in i?i.getBBox()[e]:i[n],gI=WS("inline","width","offsetWidth"),yI=WS("block","height","offsetHeight");function vI({target:t,borderBoxSize:e}){var n;(n=Cc.get(t))==null||n.forEach(i=>{i(t,{get width(){return gI(t,e)},get height(){return yI(t,e)}})})}function xI(t){t.forEach(vI)}function bI(){typeof ResizeObserver>"u"||(Di=new ResizeObserver(xI))}function _I(t,e){Di||bI();const n=hg(t);return n.forEach(i=>{let s=Cc.get(i);s||(s=new Set,Cc.set(i,s)),s.add(e),Di==null||Di.observe(i)}),()=>{n.forEach(i=>{const s=Cc.get(i);s==null||s.delete(e),s!=null&&s.size||Di==null||Di.unobserve(i)})}}const Nc=new Set;let Ra;function wI(){Ra=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Nc.forEach(e=>e(t))},window.addEventListener("resize",Ra)}function SI(t){return Nc.add(t),Ra||wI(),()=>{Nc.delete(t),!Nc.size&&typeof Ra=="function"&&(window.removeEventListener("resize",Ra),Ra=void 0)}}function TI(t,e){return typeof t=="function"?SI(t):_I(t,e)}function $S(t,e){let n;const i=()=>{const{currentTime:s}=e,r=(s===null?0:s.value)/100;n!==r&&t(r),n=r};return pe.preUpdate(i,!0),()=>Mn(i)}function EI(t){return yg(t)&&t.tagName==="svg"}function CI(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],a=t[2+n],r=t[3+n],o=sg(s,a,r);return e?o(i):o}function NI(t,e,n){const i=t.get();let s=null,a=i,r;const o=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new ld({keyframes:[Tv(t.get()),Tv(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:r})};if(t.attach((d,h)=>{a=d,r=f=>h(Sv(f,o)),pe.postRender(()=>{var f;c(),(f=t.events.animationStart)==null||f.notify(),s==null||s.then(()=>{var m;(m=t.events.animationComplete)==null||m.notify()})})},l),lt(e)){const d=e.on("change",f=>t.set(Sv(f,o))),h=t.on("destroy",d);return()=>{d(),h()}}return l}function Sv(t,e){return e?t+e:t}function Tv(t){return typeof t=="number"?t:parseFloat(t)}const AI=[...VS,qe,fs],RI=t=>AI.find(PS(t)),Ev=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:Ev(),y:Ev()}),Cv=()=>({min:0,max:0}),Qe=()=>({x:Cv(),y:Cv()}),hm={current:null},KS={current:!1},DI=typeof window<"u";function II(){if(KS.current=!0,!!DI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hm.current=t.matches;t.addEventListener("change",e),e()}else hm.current=!1}const kI=new WeakMap;function cd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ko(t){return typeof t=="string"||Array.isArray(t)}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xg=["initial",...vg];function ud(t){return cd(t.animate)||xg.some(e=>Ko(t[e]))}function XS(t){return!!(ud(t)||t.variants)}function OI(t,e,n){for(const i in e){const s=e[i],a=n[i];if(lt(s))t.addValue(i,s);else if(lt(a))t.addValue(i,An(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const r=t.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=t.getStaticValue(i);t.addValue(i,An(r!==void 0?r:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hu={};function QS(t){hu=t}function MI(){return hu}class jI{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=og,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=wt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,pe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=ud(n),this.isVariantNode=XS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&lt(m)&&m.set(l[f])}}mount(e){var n;this.current=e,kI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(KS.current||II(),this.shouldReduceMotion=hm.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Mn(this.notifyUpdate),Mn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Sr.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&pe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hu){const n=hu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Nv.length;i++){const s=Nv[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=e[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=OI(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=An(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Z1(i)||eS(i))?i=parseFloat(i):!RI(i)&&fs.test(n)&&(i=BS(e,n)),this.setBaseTarget(e,lt(i)?i.get():i)),lt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=ug(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!lt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pg.render(this.render)}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZS extends jI{constructor(){super(...arguments),this.KeyframeResolver=uI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function LI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Tf(t){return t===void 0||t===1}function mm({scale:t,scaleX:e,scaleY:n}){return!Tf(t)||!Tf(e)||!Tf(n)}function As(t){return mm(t)||eT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eT(t){return Av(t.x)||Av(t.y)}function Av(t){return t&&t!=="0%"}function mu(t,e,n){const i=t-n,s=e*i;return n+s}function Rv(t,e,n,i,s){return s!==void 0&&(t=mu(t,s,i)),mu(t,n,i)+e}function pm(t,e=0,n=1,i,s){t.min=Rv(t.min,e,n,i,s),t.max=Rv(t.max,e,n,i,s)}function tT(t,{x:e,y:n}){pm(t.x,e.translate,e.scale,e.originPoint),pm(t.y,n.translate,n.scale,n.originPoint)}const Dv=.999999999999,Iv=1.0000000000001;function PI(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,r;for(let o=0;o<s;o++){a=n[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ka(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,tT(t,r)),i&&As(a.latestValues)&&ka(t,a.latestValues))}e.x<Iv&&e.x>Dv&&(e.x=1),e.y<Iv&&e.y>Dv&&(e.y=1)}function Ia(t,e){t.min=t.min+e,t.max=t.max+e}function kv(t,e,n,i,s=.5){const a=je(t.min,t.max,s);pm(t,e,n,a,i)}function ka(t,e){kv(t.x,e.x,e.scaleX,e.scale,e.originX),kv(t.y,e.y,e.scaleY,e.scale,e.originY)}function nT(t,e){return JS(UI(t.getBoundingClientRect(),e))}function VI(t,e,n){const i=nT(t,n),{scroll:s}=e;return s&&(Ia(i.x,s.offset.x),Ia(i.y,s.offset.y)),i}const zI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BI=wr.length;function HI(t,e,n){let i="",s=!0;for(let a=0;a<BI;a++){const r=wr[a],o=t[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=HS(o,fg[r]);if(!l){s=!1;const d=zI[r]||r;i+=`${d}(${c}) `}n&&(e[r]=c)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function bg(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let r=!1,o=!1;for(const l in e){const c=e[l];if(Sr.has(l)){r=!0;continue}else if(hS(l)){s[l]=c;continue}else{const d=HS(c,fg[l]);l.startsWith("origin")?(o=!0,a[l]=d):i[l]=d}}if(e.transform||(r||n?i.transform=HI(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=a;i.transformOrigin=`${l} ${c} ${d}`}}function iT(t,{style:e,vars:n},i,s){const a=t.style;let r;for(r in e)a[r]=e[r];s==null||s.applyProjectionStyles(a,i);for(r in n)a.setProperty(r,n[r])}function Ov(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Br={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(j.test(t))t=parseFloat(t);else return t;const n=Ov(t,e.target.x),i=Ov(t,e.target.y);return`${n}% ${i}%`}},FI={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=fs.parse(t);if(s.length>5)return i;const a=fs.createTransformer(t),r=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+r]/=o,s[1+r]/=l;const c=je(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=c),typeof s[3+r]=="number"&&(s[3+r]/=c),a(s)}},gm={borderRadius:{...Br,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Br,borderTopRightRadius:Br,borderBottomLeftRadius:Br,borderBottomRightRadius:Br,boxShadow:FI};function sT(t,{layout:e,layoutId:n}){return Sr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gm[t]||t==="opacity")}function _g(t,e,n){var r;const i=t.style,s=e==null?void 0:e.style,a={};if(!i)return a;for(const o in i)(lt(i[o])||s&&lt(s[o])||sT(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function GI(t){return window.getComputedStyle(t)}class qI extends ZS{constructor(){super(...arguments),this.type="html",this.renderInstance=iT}readValueFromInstance(e,n){var i;if(Sr.has(n))return(i=this.projection)!=null&&i.isProjecting?im(n):fD(e,n);{const s=GI(e),a=(hS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nT(e,n)}build(e,n,i){bg(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return _g(e,n,i)}}const YI={offset:"stroke-dashoffset",array:"stroke-dasharray"},WI={offset:"strokeDashoffset",array:"strokeDasharray"};function $I(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?YI:WI;t[a.offset]=j.transform(-i);const r=j.transform(e),o=j.transform(n);t[a.array]=`${r} ${o}`}const KI=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function aT(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:r=0,...o},l,c,d){if(bg(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of KI)h[m]!==void 0&&(f[m]=h[m],delete h[m]);e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),s!==void 0&&$I(h,s,a,r,!1)}const rT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),oT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XI(t,e,n,i){iT(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(rT.has(s)?s:dg(s),e.attrs[s])}function lT(t,e,n){const i=_g(t,e,n);for(const s in t)if(lt(t[s])||lt(e[s])){const a=wr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}class QI extends ZS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sr.has(n)){const i=zS(n);return i&&i.default||0}return n=rT.has(n)?n:dg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return lT(e,n,i)}build(e,n,i){aT(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){XI(e,n,i,s)}mount(e){this.isSVGTag=oT(e.tagName),super.mount(e)}}const ZI=xg.length;function cT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZI;n++){const i=xg[n],s=t.props[i];(Ko(s)||s===!1)&&(e[i]=s)}return e}function uT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const JI=[...vg].reverse(),ek=vg.length;function tk(t){return e=>Promise.all(e.map(({animation:n,options:i})=>eI(t,n,i)))}function nk(t){let e=tk(t),n=Mv(),i=!0;const s=l=>(c,d)=>{var f;const h=Ha(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,..._}=h;c={...c,..._,...v}}return c};function a(l){e=l(t)}function r(l){const{props:c}=t,d=cT(t.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let w=0;w<ek;w++){const g=JI[w],p=n[g],y=c[g]!==void 0?c[g]:d[g],b=Ko(y),C=g===l?p.isActive:null;C===!1&&(v=w);let D=y===d[g]&&y!==c[g]&&b;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),p.protectedKeys={...m},!p.isActive&&C===null||!y&&!p.prevProp||cd(y)||typeof y=="boolean")continue;const A=ik(p.prevProp,y);let N=A||g===l&&p.isActive&&!D&&b||w>v&&b,M=!1;const L=Array.isArray(y)?y:[y];let ve=L.reduce(s(g),{});C===!1&&(ve={});const{prevResolvedValues:Oe={}}=p,Bt={...Oe,...ve},Ht=U=>{N=!0,f.has(U)&&(M=!0,f.delete(U)),p.needsAnimating[U]=!0;const P=t.getValue(U);P&&(P.liveStyle=!1)};for(const U in Bt){const P=ve[U],ue=Oe[U];if(m.hasOwnProperty(U))continue;let T=!1;cm(P)&&cm(ue)?T=!uT(P,ue):T=P!==ue,T?P!=null?Ht(U):f.add(U):P!==void 0&&f.has(U)?Ht(U):p.protectedKeys[U]=!0}p.prevProp=y,p.prevResolvedValues=ve,p.isActive&&(m={...m,...ve}),i&&t.blockInitialAnimation&&(N=!1);const Nt=D&&A;N&&(!Nt||M)&&h.push(...L.map(U=>{const P={type:g};if(typeof U=="string"&&i&&!Nt&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,T=Ha(ue,U);if(ue.enteringChildren&&T){const{delayChildren:S}=T.transition||{};P.delay=OS(ue.enteringChildren,t,S)}}return{animation:U,options:P}}))}if(f.size){const w={};if(typeof c.initial!="boolean"){const g=Ha(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(w.transition=g.transition)}f.forEach(g=>{const p=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),w[g]=p??null}),h.push({animation:w})}let _=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function o(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=r(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Mv()}}}function ik(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uT(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mv(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}const dT=1e-4,sk=1-dT,ak=1+dT,fT=.01,rk=0-fT,ok=0+fT;function St(t){return t.max-t.min}function lk(t,e,n){return Math.abs(t-e)<=n}function jv(t,e,n,i=.5){t.origin=i,t.originPoint=je(e.min,e.max,t.origin),t.scale=St(n)/St(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sk&&t.scale<=ak||isNaN(t.scale))&&(t.scale=1),(t.translate>=rk&&t.translate<=ok||isNaN(t.translate))&&(t.translate=0)}function wo(t,e,n,i){jv(t.x,e.x,n.x,i?i.originX:void 0),jv(t.y,e.y,n.y,i?i.originY:void 0)}function Lv(t,e,n){t.min=n.min+e.min,t.max=t.min+St(e)}function ck(t,e,n){Lv(t.x,e.x,n.x),Lv(t.y,e.y,n.y)}function Uv(t,e,n){t.min=e.min-n.min,t.max=t.min+St(e)}function pu(t,e,n){Uv(t.x,e.x,n.x),Uv(t.y,e.y,n.y)}function Pv(t,e,n,i,s){return t-=e,t=mu(t,1/n,i),s!==void 0&&(t=mu(t,1/s,i)),t}function uk(t,e=0,n=1,i=.5,s,a=t,r=t){if(Fn.test(e)&&(e=parseFloat(e),e=je(r.min,r.max,e/100)-r.min),typeof e!="number")return;let o=je(a.min,a.max,i);t===a&&(o-=e),t.min=Pv(t.min,e,n,o,s),t.max=Pv(t.max,e,n,o,s)}function Vv(t,e,[n,i,s],a,r){uk(t,e[n],e[i],e[s],e.scale,a,r)}const dk=["x","scaleX","originX"],fk=["y","scaleY","originY"];function zv(t,e,n,i){Vv(t.x,e,dk,n?n.x:void 0,i?i.x:void 0),Vv(t.y,e,fk,n?n.y:void 0,i?i.y:void 0)}function Bv(t,e){t.min=e.min,t.max=e.max}function bn(t,e){Bv(t.x,e.x),Bv(t.y,e.y)}function Hv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Fv(t){return t.translate===0&&t.scale===1}function hT(t){return Fv(t.x)&&Fv(t.y)}function Gv(t,e){return t.min===e.min&&t.max===e.max}function hk(t,e){return Gv(t.x,e.x)&&Gv(t.y,e.y)}function qv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mT(t,e){return qv(t.x,e.x)&&qv(t.y,e.y)}function Yv(t){return St(t.x)/St(t.y)}function Wv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function sn(t){return[t("x"),t("y")]}function mk(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,r=(n==null?void 0:n.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const pT=["TopLeft","TopRight","BottomLeft","BottomRight"],pk=pT.length,$v=t=>typeof t=="string"?parseFloat(t):t,Kv=t=>typeof t=="number"||j.test(t);function gk(t,e,n,i,s,a){s?(t.opacity=je(0,n.opacity??1,yk(i)),t.opacityExit=je(e.opacity??1,0,vk(i))):a&&(t.opacity=je(e.opacity??1,n.opacity??1,i));for(let r=0;r<pk;r++){const o=`border${pT[r]}Radius`;let l=Xv(e,o),c=Xv(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Kv(l)===Kv(c)?(t[o]=Math.max(je($v(l),$v(c),i),0),(Fn.test(c)||Fn.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,i))}function Xv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yk=gT(0,.5,oS),vk=gT(.5,.95,Lt);function gT(t,e,n){return i=>i<t?0:i>e?1:n(or(t,e,i))}function xk(t,e){const n=wt.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(Mn(i),t(a-e))};return pe.setup(i,!0),()=>Mn(i)}function Xo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ac(t){return lt(t)?t.get():t}function bk(t,e,n){const i=lt(t)?t:An(t);return i.start(cg("",i,e,n)),i.animation}const _k=(t,e)=>t.depth-e.depth;class wk{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Wp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_k),this.isDirty=!1,this.children.forEach(e)}}class Sk{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Wp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ef=["","X","Y","Z"],Tk=1e3;let Ek=0;function Cf(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function yT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=LS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pe,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&yT(i)}function vT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=e==null?void 0:e()){this.id=Ek++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ak),this.nodes.forEach(kk),this.nodes.forEach(Ok),this.nodes.forEach(Rk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wk)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Kp),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=yg(r)&&!EI(r),this.instance=r;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;pe.read(()=>{h=window.innerWidth}),t(r,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=xk(f,250),Rc.hasAnimatedSinceResize&&(Rc.hasAnimatedSinceResize=!1,this.nodes.forEach(Jv)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Pk,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=c.getProps(),g=!this.targetLayout||!mT(this.targetLayout,m),p=!h&&f;if(this.options.layoutRoot||this.resumeFrom||p||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...lg(v,"layout"),onPlay:_,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,p)}else h||Jv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mk),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ik),this.nodes.forEach(Ck),this.nodes.forEach(Nk)):this.nodes.forEach(Zv),this.clearAllSnapshots();const o=wt.now();nt.delta=On(0,1e3/60,o-nt.timestamp),nt.timestamp=o,nt.isProcessing=!0,yf.update.process(nt),yf.preRender.process(nt),yf.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dk),this.sharedNodes.forEach(jk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!hT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;r&&this.instance&&(o||As(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),Vk(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return Qe();const o=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(zk))){const{scroll:d}=this.root;d&&(Ia(o.x,d.offset.x),Ia(o.y,d.offset.y))}return o}removeElementScroll(r){var l;const o=Qe();if(bn(o,r),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&bn(o,r),Ia(o.x,h.offset.x),Ia(o.y,h.offset.y))}return o}applyTransform(r,o=!1){const l=Qe();bn(l,r);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ka(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),As(d.latestValues)&&ka(l,d.latestValues)}return As(this.latestValues)&&ka(l,this.latestValues),l}removeTransform(r){const o=Qe();bn(o,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!As(c.latestValues))continue;mm(c.latestValues)&&c.updateSnapshot();const d=Qe(),h=c.measurePageBox();bn(d,h),zv(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return As(this.latestValues)&&zv(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=nt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ck(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),tT(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mm(this.parent.latestValues)||eT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,o,l){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),pu(this.relativeTargetOrigin,o,l),bn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;bn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;PI(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Qe());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hv(this.prevProjectionDelta.x,this.projectionDelta.x),Hv(this.prevProjectionDelta.y,this.projectionDelta.y)),wo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Wv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(r,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Qe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,w=this.getStack(),g=!w||w.members.length<=1,p=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(Uk));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const C=b/1e3;ex(h.x,r.x,C),ex(h.y,r.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lk(this.relativeTarget,this.relativeTargetOrigin,f,C),y&&hk(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Qe()),bn(y,this.relativeTarget)),_&&(this.animationValues=d,gk(d,c,this.latestValues,C,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{Rc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=An(0)),this.currentAnimation=bk(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=r;if(!(!o||!l||!c)){if(this!==r&&this.layout&&c&&xT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const h=St(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+h;const f=St(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}bn(o,l),ka(o,d),wo(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Sk),this.sharedNodes.get(r).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Cf("z",r,c,this.animationValues);for(let d=0;d<Ef.length;d++)Cf(`rotate${Ef[d]}`,r,c,this.animationValues),Cf(`skew${Ef[d]}`,r,c,this.animationValues);r.render();for(const d in c)r.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Ac(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!As(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=mk(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),r.transform=h;const{x:f,y:m}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?r.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:r.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in gm){if(d[v]===void 0)continue;const{correct:_,applyTo:w,isCSSVariable:g}=gm[v],p=h==="none"?d[v]:_(d[v],c);if(w){const y=w.length;for(let b=0;b<y;b++)r[w[b]]=p}else g?this.options.visualElement.renderState.vars[v]=p:r[v]=p}this.options.layoutId&&(r.pointerEvents=c===this?Ac(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Qv),this.root.sharedNodes.clear()}}}function Ck(t){t.updateLayout()}function Nk(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,r=e.source!==t.layout.source;a==="size"?sn(h=>{const f=r?e.measuredBox[h]:e.layoutBox[h],m=St(f);f.min=i[h].min,f.max=f.min+m}):xT(a,e.layoutBox,i)&&sn(h=>{const f=r?e.measuredBox[h]:e.layoutBox[h],m=St(i[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Da();wo(o,i,e.layoutBox);const l=Da();r?wo(l,t.applyTransform(s,!0),e.measuredBox):wo(l,i,e.layoutBox);const c=!hT(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=Qe();pu(v,e.layoutBox,f.layoutBox);const _=Qe();pu(_,i,m.layoutBox),mT(v,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Ak(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Rk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dk(t){t.clearSnapshot()}function Qv(t){t.clearMeasurements()}function Zv(t){t.isLayoutDirty=!1}function Ik(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kk(t){t.resolveTargetDelta()}function Ok(t){t.calcProjection()}function Mk(t){t.resetSkewAndRotation()}function jk(t){t.removeLeadSnapshot()}function ex(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tx(t,e,n,i){t.min=je(e.min,n.min,i),t.max=je(e.max,n.max,i)}function Lk(t,e,n,i){tx(t.x,e.x,n.x,i),tx(t.y,e.y,n.y,i)}function Uk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Pk={duration:.45,ease:[.4,0,.1,1]},nx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ix=nx("applewebkit/")&&!nx("chrome/")?Math.round:Lt;function sx(t){t.min=ix(t.min),t.max=ix(t.max)}function Vk(t){sx(t.x),sx(t.y)}function xT(t,e,n){return t==="position"||t==="preserve-aspect"&&!lk(Yv(e),Yv(n),.2)}function zk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Bk=vT({attachResizeListener:(t,e)=>Xo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nf={current:void 0},bT=vT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nf.current){const t=new Bk({});t.mount(window),t.setOptions({layoutScroll:!0}),Nf.current=t}return Nf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wl=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hk(...t){return e=>{let n=!1;const i=t.map(s=>{const a=ax(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():ax(t[s],null)}}}}function Fk(...t){return E.useCallback(Hk(...t),t)}class Gk extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=mg(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qk({children:t,isPresent:e,anchorX:n,root:i}){var d;const s=E.useId(),a=E.useRef(null),r=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(wl),l=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),c=Fk(a,l);return E.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:v,right:_}=r.current;if(e||!a.current||!h||!f)return;const w=n==="left"?`left: ${v}`:`right: ${_}`;a.current.dataset.motionPopId=s;const g=document.createElement("style");o&&(g.nonce=o);const p=i??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[e]),u.jsx(Gk,{isPresent:e,childRef:a,sizeRef:r,children:E.cloneElement(t,{ref:c})})}const Yk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:r,anchorX:o,root:l})=>{const c=ds(Wk),d=E.useId();let h=!0,f=E.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const v of c.values())if(!v)return;i&&i()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,i]);return a&&h&&(f={...f}),E.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[n]),E.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),r==="popLayout"&&(t=u.jsx(qk,{isPresent:n,anchorX:o,root:l,children:t})),u.jsx(od.Provider,{value:f,children:t})};function Wk(){return new Map}function _T(t=!0){const e=E.useContext(od);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const r=E.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,r]:[!0]}const Jl=t=>t.key||"";function rx(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const kt=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:r=!1,anchorX:o="left",root:l})=>{const[c,d]=_T(r),h=E.useMemo(()=>rx(t),[t]),f=r&&!c?[]:h.map(Jl),m=E.useRef(!0),v=E.useRef(h),_=ds(()=>new Map),w=E.useRef(new Set),[g,p]=E.useState(h),[y,b]=E.useState(h);rd(()=>{m.current=!1,v.current=h;for(let A=0;A<y.length;A++){const N=Jl(y[A]);f.includes(N)?(_.delete(N),w.current.delete(N)):_.get(N)!==!0&&_.set(N,!1)}},[y,f.length,f.join("-")]);const C=[];if(h!==g){let A=[...h];for(let N=0;N<y.length;N++){const M=y[N],L=Jl(M);f.includes(L)||(A.splice(N,0,M),C.push(M))}return a==="wait"&&C.length&&(A=C),b(rx(A)),p(h),null}const{forceRender:D}=E.useContext(qp);return u.jsx(u.Fragment,{children:y.map(A=>{const N=Jl(A),M=r&&!c?!1:h===y||f.includes(N),L=()=>{if(w.current.has(N))return;if(w.current.add(N),_.has(N))_.set(N,!0);else return;let ve=!0;_.forEach(Oe=>{Oe||(ve=!1)}),ve&&(D==null||D(),b(v.current),r&&(d==null||d()),i&&i())};return u.jsx(Yk,{isPresent:M,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:l,onExitComplete:M?void 0:L,anchorX:o,children:A},N)})})},wT=E.createContext({strict:!1}),ox={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let lx=!1;function $k(){if(lx)return;const t={};for(const e in ox)t[e]={isEnabled:n=>ox[e].some(i=>!!n[i])};QS(t),lx=!0}function ST(){return $k(),MI()}function Kk(t){const e=ST();for(const n in t)e[n]={...e[n],...t[n]};QS(e)}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Xk.has(t)}let TT=t=>!gu(t);function Qk(t){typeof t=="function"&&(TT=e=>e.startsWith("on")?!gu(e):t(e))}try{Qk(require("@emotion/is-prop-valid").default)}catch{}function Zk(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(TT(s)||n===!0&&gu(s)||!e&&!gu(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const dd=E.createContext({});function Jk(t,e){if(ud(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ko(n)?n:void 0,animate:Ko(i)?i:void 0}}return t.inherit!==!1?e:{}}function eO(t){const{initial:e,animate:n}=Jk(t,E.useContext(dd));return E.useMemo(()=>({initial:e,animate:n}),[cx(e),cx(n)])}function cx(t){return Array.isArray(t)?t.join(" "):t}const wg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ET(t,e,n){for(const i in e)!lt(e[i])&&!sT(i,n)&&(t[i]=e[i])}function tO({transformTemplate:t},e){return E.useMemo(()=>{const n=wg();return bg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nO(t,e){const n=t.style||{},i={};return ET(i,n,t),Object.assign(i,tO(t,e)),i}function iO(t,e){const n={},i=nO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const CT=()=>({...wg(),attrs:{}});function sO(t,e,n,i){const s=E.useMemo(()=>{const a=CT();return aT(a,e,oT(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ET(a,t.style,t),s.style={...a,...s.style}}return s}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sg(t){return typeof t!="string"||t.includes("-")?!1:!!(aO.indexOf(t)>-1||/[A-Z]/u.test(t))}function rO(t,e,n,{latestValues:i},s,a=!1,r){const l=(r??Sg(t)?sO:iO)(e,i,s,t),c=Zk(e,typeof t=="string",a),d=t!==E.Fragment?{...c,...l,ref:n}:{},{children:h}=e,f=E.useMemo(()=>lt(h)?h.get():h,[h]);return E.createElement(t,{...d,children:f})}function oO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:lO(n,i,s,t),renderState:e()}}function lO(t,e,n,i){const s={},a=i(t,{});for(const f in a)s[f]=Ac(a[f]);let{initial:r,animate:o}=t;const l=ud(t),c=XS(t);e&&c&&!l&&t.inherit!==!1&&(r===void 0&&(r=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||r===!1;const h=d?o:r;if(h&&typeof h!="boolean"&&!cd(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=ug(t,f[m]);if(v){const{transitionEnd:_,transition:w,...g}=v;for(const p in g){let y=g[p];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[p]=y)}for(const p in _)s[p]=_[p]}}}return s}const NT=t=>(e,n)=>{const i=E.useContext(dd),s=E.useContext(od),a=()=>oO(t,e,i,s);return n?a():ds(a)},cO=NT({scrapeMotionValuesFromProps:_g,createRenderState:wg}),uO=NT({scrapeMotionValuesFromProps:lT,createRenderState:CT}),dO=Symbol.for("motionComponentSymbol");function fO(t,e,n){const i=E.useRef(n);E.useInsertionEffect(()=>{i.current=n});const s=E.useRef(null);return E.useCallback(a=>{var o;a&&((o=t.onMount)==null||o.call(t,a)),e&&(a?e.mount(a):e.unmount());const r=i.current;if(typeof r=="function")if(a){const l=r(a);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):r(a);else r&&(r.current=a)},[e])}const AT=E.createContext({});function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hO(t,e,n,i,s,a){var w,g;const{visualElement:r}=E.useContext(dd),o=E.useContext(wT),l=E.useContext(od),c=E.useContext(wl).reducedMotion,d=E.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:a}));const h=d.current,f=E.useContext(AT);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&mO(d.current,n,s,f);const m=E.useRef(!1);E.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const v=n[jS],_=E.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,v)));return rd(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),_.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,v)}),_.current=!1),h.enteringChildren=void 0)}),h}function mO(t,e,n,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RT(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&eo(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:c})}function RT(t){if(t)return t.options.allowProjection!==!1?t.projection:RT(t.parent)}function Af(t,{forwardMotionProps:e=!1,type:n}={},i,s){i&&Kk(i);const a=n?n==="svg":Sg(t),r=a?uO:cO;function o(c,d){let h;const f={...E.useContext(wl),...c,layoutId:pO(c)},{isStatic:m}=f,v=eO(c),_=r(c,m);if(!m&&Q1){gO();const w=yO(f);h=w.MeasureLayout,v.visualElement=hO(t,_,f,s,w.ProjectionNode,a)}return u.jsxs(dd.Provider,{value:v,children:[h&&v.visualElement?u.jsx(h,{visualElement:v.visualElement,...f}):null,rO(t,c,fO(_,v.visualElement,d),_,m,e,a)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(o);return l[dO]=t,l}function pO({layoutId:t}){const e=E.useContext(qp).id;return e&&t!==void 0?e+"-"+t:t}function gO(t,e){E.useContext(wT).strict}function yO(t){const e=ST(),{drag:n,layout:i}=e;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function vO(t,e){if(typeof Proxy>"u")return Af;const n=new Map,i=(a,r)=>Af(a,r,t,e),s=(a,r)=>i(a,r);return new Proxy(s,{get:(a,r)=>r==="create"?i:(n.has(r)||n.set(r,Af(r,void 0,t,e)),n.get(r))})}const xO=(t,e)=>e.isSVG??Sg(t)?new QI(e):new qI(e,{allowProjection:t!==E.Fragment});class bO extends vs{constructor(e){super(e),e.animationState||(e.animationState=nk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _O=0;class wO extends vs{constructor(){super(...arguments),this.id=_O++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SO={animation:{Feature:bO},exit:{Feature:wO}};function Sl(t){return{point:{x:t.pageX,y:t.pageY}}}const TO=t=>e=>gg(e)&&t(e,Sl(e));function So(t,e,n,i){return Xo(t,e,TO(n),i)}const DT=({current:t})=>t?t.ownerDocument.defaultView:null,ux=(t,e)=>Math.abs(t-e);function EO(t,e){const n=ux(t.x,e.x),i=ux(t.y,e.y);return Math.sqrt(n**2+i**2)}const dx=new Set(["auto","scroll"]);class IT{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Df(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=EO(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!_)return;const{point:w}=m,{timestamp:g}=nt;this.history.push({...w,timestamp:g});const{onStart:p,onMove:y}=this.handlers;v||(p&&p(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Rf(v,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Df(m.type==="pointercancel"?this.lastMoveEventInfo:Rf(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(m,p),w&&w(m,p)},!gg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const l=Sl(e),c=Rf(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=nt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,Df(c,this.history)),this.removeListeners=xl(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(dx.has(i.overflowX)||dx.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),pe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mn(this.updatePoint)}}function Rf(t,e){return e?{point:e(t.point)}:t}function fx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Df({point:t},e){return{point:t,delta:fx(t,kT(e)),offset:fx(t,CO(e)),velocity:NO(e,.1)}}function CO(t){return t[0]}function kT(t){return t[t.length-1]}function NO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=kT(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>fi(e)));)n--;if(!i)return{x:0,y:0};const a=hn(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function AO(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?je(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?je(n,t,i.max):Math.min(t,n)),t}function hx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RO(t,{top:e,left:n,bottom:i,right:s}){return{x:hx(t.x,n,s),y:hx(t.y,e,i)}}function mx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function DO(t,e){return{x:mx(t.x,e.x),y:mx(t.y,e.y)}}function IO(t,e){let n=.5;const i=St(t),s=St(e);return s>i?n=or(e.min,e.max-i,t.min):i>s&&(n=or(t.min,t.max-s,e.min)),On(0,1,n)}function kO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ym=.35;function OO(t=ym){return t===!1?t=0:t===!0&&(t=ym),{x:px(t,"left","right"),y:px(t,"top","bottom")}}function px(t,e,n){return{min:gx(t,e),max:gx(t,n)}}function gx(t,e){return typeof t=="number"?t:t[e]||0}const MO=new WeakMap;class jO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=h=>{n?(this.stopAnimation(),this.snapToCursor(Sl(h).point)):this.pauseAnimation()},r=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:v,onDragStart:_}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dI(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sn(g=>{let p=this.getAxisMotionValue(g).get()||0;if(Fn.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[g];b&&(p=St(b)*(parseFloat(p)/100))}}this.originPoint[g]=p}),_&&pe.postRender(()=>_(h,f)),um(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:_,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(v&&this.currentDirection===null){this.currentDirection=LO(g),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>sn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new IT(e,{onSessionStart:a,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:DT(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&pe.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!ec(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let r=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(r=AO(r,this.constraints[e],this.elastic[e])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=RO(i.layoutBox,e):this.constraints=!1,this.elastic=OO(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=kO(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=VI(i,s.root,this.visualElement.getTransformPagePoint());let r=DO(s.layout.layoutBox,a);if(n){const o=n(LI(r));this.hasMutatedConstraints=!!o,o&&(r=JS(o))}return r}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=sn(d=>{if(!ec(d,n,this.currentDirection))return;let h=l&&l[d]||{};r&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return um(this.visualElement,e),i.start(cg(e,i,0,n,this.visualElement,!1))}stopAnimation(){sn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){sn(n=>{const{drag:i}=this.getProps();if(!ec(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[n],l=a.get()||0;a.set(e[n]-je(r,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!eo(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sn(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=IO({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),sn(r=>{if(!ec(r,e,null))return;const o=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];o.set(je(l,c,s[r]))})}addListeners(){if(!this.visualElement.current)return;MO.set(this.visualElement,this);const e=this.visualElement.current,n=So(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!YS(l.target)&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pe.read(i);const r=Xo(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(sn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=ym,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function ec(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UO extends vs{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new jO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const yx=t=>(e,n)=>{t&&pe.postRender(()=>t(e,n))};class PO extends vs{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new IT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:yx(e),onStart:yx(n),onMove:i,onEnd:(a,r)=>{delete this.session,s&&pe.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let If=!1;class VO extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),If&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:r}=i;return r&&(r.isPresent=a,If=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?r.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?r.promote():r.relegate()||pe.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;If=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OT(t){const[e,n]=_T(),i=E.useContext(qp);return u.jsx(VO,{...t,layoutGroup:i,switchLayoutGroup:E.useContext(AT),isPresent:e,safeToRemove:n})}const zO={pan:{Feature:PO},drag:{Feature:UO,ProjectionNode:bT,MeasureLayout:OT}};function vx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&pe.postRender(()=>a(e,Sl(e)))}class BO extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=fI(e,(n,i)=>(vx(this.node,i,"Start"),s=>vx(this.node,s,"End"))))}unmount(){}}class HO extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xl(Xo(this.node.current,"focus",()=>this.onFocus()),Xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xx(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&pe.postRender(()=>a(e,Sl(e)))}class FO extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=pI(e,(n,i)=>(xx(this.node,i,"Start"),(s,{success:a})=>xx(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vm=new WeakMap,kf=new WeakMap,GO=t=>{const e=vm.get(t.target);e&&e(t)},qO=t=>{t.forEach(GO)};function YO({root:t,...e}){const n=t||document;kf.has(n)||kf.set(n,{});const i=kf.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(qO,{root:t,...e})),i[s]}function WO(t,e,n){const i=YO(e);return vm.set(t,n),i.observe(t),()=>{vm.delete(t),i.unobserve(t)}}const $O={some:0,all:1};class KO extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,r={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:$O[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return WO(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XO(e,n))&&this.startObserver()}unmount(){}}function XO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QO={inView:{Feature:KO},tap:{Feature:FO},focus:{Feature:HO},hover:{Feature:BO}},ZO={layout:{ProjectionNode:bT,MeasureLayout:OT}},JO={...SO,...QO,...zO,...ZO},H=vO(JO,xO),eM=50,bx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),tM=()=>({time:0,x:bx(),y:bx()}),nM={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function _x(t,e,n,i){const s=n[e],{length:a,position:r}=nM[e],o=s.current,l=n.time;s.current=t[`scroll${r}`],s.scrollLength=t[`scroll${a}`]-t[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=or(0,s.scrollLength,s.current);const c=i-l;s.velocity=c>eM?0:Xp(s.current-o,c)}function iM(t,e,n){_x(t,"x",e,n),_x(t,"y",e,n),e.time=n}function sM(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(mg(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();n.x+=s,n.y+=a;let r=null,o=i.parentNode;for(;!r;)o.tagName==="svg"&&(r=o),o=i.parentNode;i=r}else break;return n}const xm={start:0,center:.5,end:1};function wx(t,e,n=0){let i=0;if(t in xm&&(t=xm[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?i=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?i=s/100*document.documentElement.clientWidth:t.endsWith("vh")?i=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(i=e*t),n+i}const aM=[0,0];function rM(t,e,n,i){let s=Array.isArray(t)?t:aM,a=0,r=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,xm[t]?t:"0"]),a=wx(s[0],n,i),r=wx(s[1],e),a-r}const oM={All:[[0,0],[1,1]]},lM={x:0,y:0};function cM(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function uM(t,e,n){const{offset:i=oM.All}=n,{target:s=t,axis:a="y"}=n,r=a==="y"?"height":"width",o=s!==t?sM(s,t):lM,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:cM(s),c={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let d=!e[a].interpolate;const h=i.length;for(let f=0;f<h;f++){const m=rM(i[f],c[r],l[r],o[a]);!d&&m!==e[a].interpolatorOffsets[f]&&(d=!0),e[a].offset[f]=m}d&&(e[a].interpolate=sg(e[a].offset,SS(i),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=On(0,1,e[a].interpolate(e[a].current))}function dM(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function fM(t,e,n,i={}){return{measure:s=>{dM(t,i.target,n),iM(t,n,s),(i.offset||i.target)&&uM(t,n,i)},notify:()=>e(n)}}const Hr=new WeakMap,Sx=new WeakMap,Of=new WeakMap,Tx=t=>t===document.scrollingElement?window:t;function MT(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Lt;let i=Of.get(e);i||(i=new Set,Of.set(e,i));const s=tM(),a=fM(e,t,s,n);if(i.add(a),!Hr.has(e)){const o=()=>{for(const h of i)h.measure(nt.timestamp);pe.preUpdate(l)},l=()=>{for(const h of i)h.notify()},c=()=>pe.read(o);Hr.set(e,c);const d=Tx(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&Sx.set(e,TI(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const r=Hr.get(e);return pe.read(r,!1,!0),()=>{var c;Mn(r);const o=Of.get(e);if(!o||(o.delete(a),o.size))return;const l=Hr.get(e);Hr.delete(e),l&&(Tx(e).removeEventListener("scroll",l),(c=Sx.get(e))==null||c(),window.removeEventListener("resize",l))}}const Ex=new Map;function hM(t){const e={value:0},n=MT(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function jT({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const s=Ex.get(e)??new Map;Ex.set(e,s);const a=n.target??"self",r=s.get(a)??{},o=i+(n.offset??[]).join(",");return r[o]||(r[o]=!n.target&&NS()?new ScrollTimeline({source:e,axis:i}):hM({container:e,...n})),r[o]}function mM(t,e){const n=jT(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),$S(s=>{i.time=i.iterationDuration*s},n))})}function pM(t){return t.length===2}function gM(t,e){return pM(t)?MT(n=>{t(n[e.axis].progress,n)},e):$S(t,jT(e))}function yM(t,{axis:e="y",container:n=document.scrollingElement,...i}={}){if(!n)return Lt;const s={axis:e,container:n,...i};return typeof t=="function"?gM(t,s):mM(t,s)}const vM=()=>({scrollX:An(0),scrollY:An(0),scrollXProgress:An(0),scrollYProgress:An(0)}),tc=t=>t?!t.current:!1;function LT({container:t,target:e,...n}={}){const i=ds(vM),s=E.useRef(null),a=E.useRef(!1),r=E.useCallback(()=>(s.current=yM((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var o;(o=s.current)==null||o.call(s)}),[t,e,JSON.stringify(n.offset)]);return rd(()=>{if(a.current=!1,tc(t)||tc(e)){a.current=!0;return}else return r()},[r]),E.useEffect(()=>{if(a.current)return Yo(!tc(t)),Yo(!tc(e)),r()},[r]),i}function UT(t){const e=ds(()=>An(t)),{isStatic:n}=E.useContext(wl);if(n){const[,i]=E.useState(t);E.useEffect(()=>e.on("change",i),[])}return e}function PT(t,e){const n=UT(e()),i=()=>n.set(e());return i(),rd(()=>{const s=()=>pe.preRender(i,!1,!0),a=t.map(r=>r.on("change",s));return()=>{a.forEach(r=>r()),Mn(i)}}),n}function xM(t){_o.current=[],t();const e=PT(_o.current,t);return _o.current=void 0,e}function yu(t,e,n,i){if(typeof t=="function")return xM(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return bM(t,e,n,i);const r=typeof e=="function"?e:CI(e,n,i);return Array.isArray(t)?Cx(t,r):Cx([t],([o])=>r(o))}function Cx(t,e){const n=ds(()=>[]);return PT(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}function bM(t,e,n,i){const s=ds(()=>Object.keys(n)),a=ds(()=>({}));for(const r of s)a[r]=yu(t,e,n[r],i);return a}function _M(t,e={}){const{isStatic:n}=E.useContext(wl),i=()=>lt(t)?t.get():t;if(n)return yu(i);const s=UT(i());return E.useInsertionEffect(()=>NI(s,t,e),[s,JSON.stringify(e)]),s}const wM={some:0,all:1};function SM(t,e,{root:n,margin:i,amount:s="some"}={}){const a=hg(t),r=new WeakMap,o=c=>{c.forEach(d=>{const h=r.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d.target,d);typeof f=="function"?r.set(d.target,f):l.unobserve(d.target)}else typeof h=="function"&&(h(d),r.delete(d.target))})},l=new IntersectionObserver(o,{root:n,rootMargin:i,threshold:typeof s=="number"?s:wM[s]});return a.forEach(c=>l.observe(c)),()=>l.disconnect()}function TM(t,{root:e,margin:n,amount:i,once:s=!1,initial:a=!1}={}){const[r,o]=E.useState(a);return E.useEffect(()=>{if(!t.current||s&&r)return;const l=()=>(o(!0),s?void 0:()=>o(!1)),c={root:e&&e.current||void 0,margin:n,amount:i};return SM(t.current,l,c)},[e,t,n,s,i]),r}var ie=(t=>(t.ATTENDING="ATTENDING",t.NOT_ATTENDING="NOT_ATTENDING",t.UNDECIDED="UNDECIDED",t))(ie||{});const EM={openingScreen:{welcome:"You are cordially invited to",title:"Louie & Florie",subtitle:"A Celebration of Love",brand:"Louie & Florie",sealInitials:"LF"},coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",heroImageUrl:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920",adminPanelTitle:"Louie & Florie CMS",adminPanelSubtitle:"Wedding Management",weddingDate:"July 4, 2026",weddingTime:"3:00 PM",countdownDate:"2026-07-04T15:00:00",venues:[{name:"Archdiocesan Shrine of St. Thrse of the Child Jesus",address:"Gorordo Ave, Lahug, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5218.1810181073815!2d123.89791887503557!3d10.331064989791887!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a999269b2146d5%3A0x462d30e860ab63f2!2sArchdiocesan%20Shrine%20of%20St.%20Th%C3%A9r%C3%A8se%20of%20the%20Child%20Jesus!5e1!3m2!1sen!2sph!4v1768570025254!5m2!1sen!2sph"},{name:"Chateau de Busay Inn & Restaurant",address:"Lower Busay, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5217.661214066814!2d123.87666848669632!3d10.362327840313117!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a99f4c07b55c0f%3A0x990d6bedbcf8c0c7!2sChateau%20de%20Busay%20Inn%20%26%20Restaurant!5e1!3m2!1sen!2sph!4v1768572532024!5m2!1sen!2sph"}],heroTagline:"Together with their families, invite you to celebrate the union of their souls in an evening of timeless elegance.",ourStory:"Our journey began with a simple hello and blossomed into a lifetime of love. We are so excited to share this new chapter with those who have shaped us.",registryInfo:"Your presence is the greatest gift we could receive. If you wish to honor us with a gift, we are registered at Williams Sonoma and Pottery Barn, or you may contribute to our honeymoon fund for our first trip as husband and wife.",registryLinks:[{label:"Williams Sonoma",url:"#"},{label:"Honeymoon Fund",url:"#"}],socialLinks:[{label:"Instagram",url:"https://instagram.com"},{label:"Facebook",url:"https://facebook.com"},{label:"Pinterest",url:"https://pinterest.com"}],galleryImages:["https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1583939003579-730e3918a45a?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1519225421980-715cb0215aed?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1544078751-58fee2d8a03b?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1523438885200-e635ba2c371e?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1517457373958-b7bdd4587205?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1522673607200-164883214cde?auto=format&fit=crop&q=80&w=1200"],googlePhotosLink:"https://photos.google.com",googlePhotosLinkEnabled:!0,timelineItems:[{time:"3:00 PM",event:"The Ceremony",description:"Shrine of St. Thrse"},{time:"5:30 PM",event:"Cocktail Hour",description:"Chateau de Busay Inn"},{time:"7:00 PM",event:"Dinner & Toasts",description:"Chateau de Busay Inn"},{time:"9:00 PM",event:"Dancing",description:"Under the Stars"}],checklist:[{id:"1",text:"Confirm floral arrangements",completed:!1},{id:"2",text:"Finalize seating chart",completed:!0},{id:"3",text:"Pick up wedding rings",completed:!1}],menu:[{course:"Amuse-Bouche",dish:"Truffle Arancini",description:"Wild mushroom risotto spheres with a molten fontina center."},{course:"First Course",dish:"Burrata & Heirloom Tomato",description:"Creamy burrata, balsamic pearls, and micro-basil on a bed of gold-flecked heirloom tomatoes."},{course:"Main Course",dish:"Wagyu Filet Mignon",description:"Gently seared, served with a bordelaise sauce, asparagus tips, and velvet potato pure."},{course:"Dessert",dish:"Midnight Chocolate Dome",description:"Dark Valrhona chocolate, salted caramel core, and edible gold leaf."}],musicUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",dressCode:"Black Tie Optional: We kindly request our guests to dress in formal attire. Gentlemen in tuxedos or dark suits, and ladies in evening gowns or cocktail dresses. Warm champagne and gold tones are encouraged.",bridalParty:[{name:"Julianna Vance",role:"Maid of Honor",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2"},{name:"Marcus Thorne",role:"Best Man",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d"},{name:"Chloe Bennett",role:"Bridesmaid",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb"},{name:"Julian Pierce",role:"Groomsman",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"}],footerText:"Handcrafted with love for the celebration of a lifetime"},CM=({onComplete:t,content:e})=>{var r;const[n,i]=E.useState(!1),s=()=>{i(!0),setTimeout(t,2500)},a=e.openingScreen||{welcome:"You are cordially invited to",subtitle:e.coupleNames||"A Celebration of Love"};return u.jsx(H.div,{initial:{opacity:1},exit:{opacity:0,pointerEvents:"none"},transition:{duration:1},className:"fixed inset-0 z-[100] bg-[#fcfaf7] flex items-center justify-center overflow-hidden",children:u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.jsx(H.div,{animate:n?{x:"-100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 left-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-r border-gold/20 flex items-center justify-end pr-1 shadow-2xl"}),u.jsx(H.div,{animate:n?{x:"100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 right-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-l border-gold/20 flex items-center justify-start pl-1 shadow-2xl"}),!n&&u.jsxs(H.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.8},className:"z-30 text-center px-4 relative w-full h-full flex flex-col justify-center items-center py-10 pointer-events-none gap-8",children:[u.jsx("div",{className:"flex-none",children:u.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-xs md:text-sm uppercase tracking-[0.4em] text-gold/80 font-bold font-body",children:a.welcome})}),u.jsx("div",{className:"flex-none flex items-center justify-center pointer-events-auto",children:u.jsxs("button",{onClick:s,className:"relative w-48 h-48 flex items-center justify-center group","aria-label":"Enter",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-gold/20 group-hover:border-gold/40 transition-all duration-700 scale-110 animate-ping"}),u.jsx("div",{className:"absolute inset-4 rounded-full border border-gold/10 group-hover:border-gold/30 transition-all duration-500 scale-125"}),u.jsxs(H.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative w-24 h-24 bg-[#a12d2d] rounded-full shadow-2xl border-4 border-[#801e1e] flex items-center justify-center z-40",children:[u.jsx("div",{className:"absolute inset-1 rounded-full border border-white/10"}),u.jsx("span",{className:"font-serif text-white text-4xl drop-shadow-md",children:((r=e.openingScreen)==null?void 0:r.sealInitials)||"LF"}),u.jsx("div",{className:"absolute -bottom-16 w-max left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:u.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-gold font-bold",children:"Tap to Open"})})]})]})}),u.jsxs("div",{className:"mb-6 pb-4",children:[u.jsx("div",{className:"text-lg md:text-xl font-cursive text-gold mb-4 tracking-widest",children:a.subtitle}),u.jsx("div",{className:"text-[9px] md:text-[10px] uppercase tracking-[0.3em] md:tracking-[0.4em] font-bold text-gray-400 font-body",children:"The Celebration Awaits"})]})]},"invitation-card"),u.jsx(kt,{children:n&&u.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 flex flex-col items-center justify-center z-50 p-10 bg-[#fcfaf7]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((o,l)=>u.jsx(H.div,{initial:{opacity:0,x:Math.random()*100+"%",y:Math.random()*100+"%"},animate:{opacity:[0,.4,0],y:[null,"-=100"],x:[null,(Math.random()-.5)*50]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2},className:"absolute w-1 h-1 bg-gold rounded-full blur-[1px]"},l))}),u.jsx(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:1.5,ease:"easeOut"},className:"text-center relative z-20",children:u.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:1.2},className:"flex flex-col items-center",children:u.jsxs("div",{className:"text-xl md:text-3xl font-sans tracking-[0.2em] leading-loose text-gray-500 uppercase font-light",children:["Two hearts ",u.jsx("span",{className:"font-cursive text-3xl md:text-5xl text-gold lowercase bg-clip-text capitalize mx-2",children:"one journey"}),u.jsx("br",{}),u.jsx("span",{className:"text-gold font-bold scale-110 inline-block mt-6 tracking-[0.3em] text-sm md:text-xl border-t border-b border-gold/30 py-4 px-8",children:"a lifetime of love"})]})})})]})})]})})},NM=({onAdminClick:t,onGuestDashboardClick:e,isMuted:n,onToggleMusic:i,isDarkMode:s,onToggleTheme:a})=>{const[r,o]=E.useState(!1),[l,c]=E.useState(!1),[d,h]=E.useState(""),f=[{name:"Story",href:"#story"},{name:"Timeline",href:"#timeline"},{name:"Gallery",href:"#gallery"},{name:"Guestbook",href:"#guestbook"},{name:"RSVP",href:"#rsvp"}];E.useEffect(()=>{const w=()=>{o(window.scrollY>50);const g=f.map(y=>y.href.substring(1));let p="";for(const y of g){const b=document.getElementById(y);if(b){const C=b.getBoundingClientRect();C.top<=150&&C.bottom>=150&&(p=y)}}h(p)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]);const m=()=>{l?document.body.style.overflow="auto":document.body.style.overflow="hidden",c(!l)},v=()=>{c(!1),document.body.style.overflow="auto"},_={closed:{opacity:0},open:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:`fixed top-0 left-0 right-0 z-[60] hidden lg:block transition-all duration-500 ${r?(s?"bg-[#1a1a1a]/80":"bg-white/80")+" backdrop-blur-md shadow-lg py-4":"bg-transparent py-8"}`,children:u.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[u.jsxs("div",{className:`font-serif text-3xl tracking-[0.2em] transition-all duration-500 cursor-default relative z-[70] ${r?"text-gold":"text-white"}`,children:["L ",u.jsx("span",{className:"font-cursive text-4xl text-gold mx-2",children:"&"})," F"]}),u.jsxs("div",{className:"flex space-x-8 items-center",children:[f.map(w=>u.jsxs("a",{href:w.href,className:`text-[10px] font-bold uppercase tracking-[0.3em] hover:text-gold transition-all duration-300 relative group ${d===w.href.substring(1)?"text-gold":r?s?"text-gray-300":"text-gray-500":"text-white"}`,children:[w.name,u.jsx("span",{className:`absolute -bottom-2 left-0 h-[2px] bg-gold transition-all duration-300 ${d===w.href.substring(1)?"w-full":"w-0 group-hover:w-full"}`})]},w.name)),u.jsx("div",{className:"h-4 w-px bg-gray-300/30 mx-2"}),u.jsx("button",{onClick:i,className:"flex items-center gap-2 group px-2 py-1",title:n?"Play Music":"Mute Music",children:u.jsx("div",{className:"flex items-center gap-[3px] h-3",children:[...Array(4)].map((w,g)=>u.jsx(H.div,{animate:{height:n?2:[4,12,6,12,4]},transition:{duration:.8,repeat:1/0,delay:g*.1},className:`w-[2px] rounded-full ${r?"bg-gold":"bg-white"}`},g))})}),u.jsx("button",{onClick:a,className:`text-sm hover:text-gold transition-colors px-2 ${r?s?"text-white":"text-gray-600":"text-white"}`,children:u.jsx("i",{className:`fa-solid ${s?"fa-sun":"fa-moon"}`})}),u.jsx("button",{onClick:e,className:`text-[10px] font-black uppercase tracking-[0.2em] px-6 py-2.5 rounded-full border transition-all duration-300 ${r?"border-gold text-gold hover:bg-gold hover:text-white shadow-lg shadow-gold/10":"border-white/40 text-white hover:border-white hover:bg-white/10"}`,children:"Guest Portal"}),u.jsxs("button",{onClick:t,className:`group flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest px-4 py-2 rounded-lg border border-transparent transition-all ${r?s?"text-white/40 hover:text-gold hover:border-gold/20":"text-gray-400 hover:text-gold hover:border-gold/20":"text-white/60 hover:text-white hover:border-white/20"}`,children:[u.jsx("i",{className:"fa-solid fa-crown text-sm"}),u.jsx("span",{children:"Admin"})]})]})]})}),u.jsx("div",{className:"lg:hidden fixed bottom-6 left-1/2 -translate-x-1/2 z-[60] w-[90%] max-w-md",children:u.jsxs(H.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:`${s?"bg-[#1a1a1a]/95":"bg-white/95"} backdrop-blur-xl border ${s?"border-white/10":"border-gold/20"} rounded-3xl p-3 shadow-2xl flex items-center justify-around relative`,children:[[{id:"story",icon:"fa-book",label:"Story"},{id:"timeline",icon:"fa-clock",label:"Timeline"},{id:"gallery",icon:"fa-images",label:"Gallery"},{id:"rsvp",icon:"fa-pen-nib",label:"RSVP"}].map(w=>u.jsxs(H.a,{href:`#${w.id}`,whileTap:{scale:.9},className:`relative z-10 flex flex-col items-center py-3 px-4 rounded-2xl transition-all ${d===w.id?"text-gold":s?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(H.i,{className:`fa-solid ${w.icon} text-lg mb-1`,animate:d===w.id?{scale:[1,1.2,1]}:{},transition:{duration:.3}}),u.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:w.label})]},w.id)),u.jsxs(H.button,{onClick:m,whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-16 h-16 rounded-2xl flex flex-col items-center justify-center transition-all duration-300 ${l?"bg-gradient-to-br from-gold via-[#d4af37] to-gold text-white shadow-xl shadow-gold/50":s?"bg-gradient-to-br from-white/10 to-white/5 text-gold shadow-lg shadow-black/20 border border-white/10":"bg-gradient-to-br from-gold/20 to-gold/10 text-gold shadow-lg shadow-gold/20 border border-gold/20"}`,children:[u.jsx(H.i,{className:`fa-solid ${l?"fa-xmark":"fa-bars"} text-xl`,animate:{rotate:l?90:0},transition:{type:"spring",stiffness:200}}),u.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest mt-1",children:"Menu"})]})]})}),u.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 z-[60] p-4 flex justify-between items-center transition-all ${r?(s?"bg-[#1a1a1a]/80":"bg-white/80")+" backdrop-blur-md shadow-md":"bg-transparent"}`,children:[u.jsxs("div",{className:`font-serif text-xl tracking-[0.2em] ${r?"text-gold":"text-white"}`,children:["L ",u.jsx("span",{className:"font-cursive text-2xl text-gold",children:"&"})," F"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:i,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${r?s?"bg-white/5":"bg-gold/10":"bg-black/20 text-white"}`,children:u.jsx("i",{className:`fa-solid ${n?"fa-volume-mute":"fa-volume-up"} ${r?"text-gold":"text-white"}`})}),u.jsx("button",{onClick:e,className:"bg-gold text-white px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Guest"})]})]}),u.jsx(kt,{children:l&&u.jsx(H.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:`fixed inset-0 z-[65] flex flex-col justify-end p-6 pb-28 ${s?"bg-[#000]/95":"bg-[#fff]/95"} backdrop-blur-xl`,children:u.jsxs(H.div,{variants:_,initial:"closed",animate:"open",exit:"closed",className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs("button",{onClick:()=>{a(),c(!1)},className:`w-full py-5 rounded-3xl border-2 flex items-center justify-center gap-4 text-sm font-bold uppercase tracking-widest transition-all ${s?"border-white/10 text-white hover:bg-white/5":"border-gray-100 text-gray-800 hover:bg-gray-50"}`,children:[u.jsx("i",{className:`fa-solid ${s?"fa-sun":"fa-moon"} text-gold`}),s?"Switch to Light":"Switch to Dark"]}),u.jsxs("button",{onClick:()=>{v(),t()},className:`w-full py-5 rounded-3xl border-2 flex items-center justify-center gap-4 text-sm font-bold uppercase tracking-widest transition-all ${s?"border-white/10 text-white hover:bg-white/5":"border-gray-100 text-gray-800 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"fa-solid fa-crown text-gold"}),"Admin Panel"]})]}),u.jsxs("div",{className:`p-8 rounded-[40px] ${s?"bg-white/5":"bg-gold/5"} text-center border ${s?"border-white/5":"border-gold/10"}`,children:[u.jsx("h4",{className:"font-serif text-2xl text-gold mb-2",children:"Our Celebration"}),u.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-[0.2em] font-bold",children:"July 4, 2026  Cebu City"})]})]})})})]})};var Tg={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;try{var T=new OffscreenCanvas(1,1),S=T.getContext("2d");S.fillRect(0,0,1,1);var z=T.transferToImageBitmap();S.createPattern(z,"no-repeat")}catch{return!1}return!0}();function l(){}function c(T){var S=n.exports.Promise,z=S!==void 0?S:e.Promise;return typeof z=="function"?new z(T):(T(l,l),null)}var d=function(T,S){return{transform:function(z){if(T)return z;if(S.has(z))return S.get(z);var G=new OffscreenCanvas(z.width,z.height),q=G.getContext("2d");return q.drawImage(z,0,0),S.set(z,G),G},clear:function(){S.clear()}}}(o,new Map),h=function(){var T=Math.floor(16.666666666666668),S,z,G={},q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(W){var J=Math.random();return G[J]=requestAnimationFrame(function B($){q===$||q+T-1<$?(q=$,delete G[J],W()):G[J]=requestAnimationFrame(B)}),J},z=function(W){G[W]&&cancelAnimationFrame(G[W])}):(S=function(W){return setTimeout(W,T)},z=function(W){return clearTimeout(W)}),{frame:S,cancel:z}}(),f=function(){var T,S,z={};function G(q){function W(J,B){q.postMessage({options:J||{},callback:B})}q.init=function(B){var $=B.transferControlToOffscreen();q.postMessage({canvas:$},[$])},q.fire=function(B,$,O){if(S)return W(B,null),S;var Y=Math.random().toString(36).slice(2);return S=c(function(ee){function re(ye){ye.data.callback===Y&&(delete z[Y],q.removeEventListener("message",re),S=null,d.clear(),O(),ee())}q.addEventListener("message",re),W(B,Y),z[Y]=re.bind(null,{data:{callback:Y}})}),S},q.reset=function(){q.postMessage({reset:!0});for(var B in z)z[B](),delete z[B]}}return function(){if(T)return T;if(!i&&a){var q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([q])))}catch(W){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",W),null}G(T)}return T}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(T,S){return S?S(T):T}function _(T){return T!=null}function w(T,S,z){return v(T&&_(T[S])?T[S]:m[S],z)}function g(T){return T<0?0:Math.floor(T)}function p(T,S){return Math.floor(Math.random()*(S-T))+T}function y(T){return parseInt(T,16)}function b(T){return T.map(C)}function C(T){var S=String(T).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:y(S.substring(0,2)),g:y(S.substring(2,4)),b:y(S.substring(4,6))}}function D(T){var S=w(T,"origin",Object);return S.x=w(S,"x",Number),S.y=w(S,"y",Number),S}function A(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function N(T){var S=T.getBoundingClientRect();T.width=S.width,T.height=S.height}function M(T){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=T,S}function L(T,S,z,G,q,W,J,B,$){T.save(),T.translate(S,z),T.rotate(W),T.scale(G,q),T.arc(0,0,1,J,B,$),T.restore()}function ve(T){var S=T.angle*(Math.PI/180),z=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-S+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function Oe(T,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var z=S.tick++/S.totalTicks,G=S.x+S.random*S.tiltCos,q=S.y+S.random*S.tiltSin,W=S.wobbleX+S.random*S.tiltCos,J=S.wobbleY+S.random*S.tiltSin;if(T.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-z)+")",T.beginPath(),r&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))T.fill(U(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(W-G)*.1,Math.abs(J-q)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var B=Math.PI/10*S.wobble,$=Math.abs(W-G)*.1,O=Math.abs(J-q)*.1,Y=S.shape.bitmap.width*S.scalar,ee=S.shape.bitmap.height*S.scalar,re=new DOMMatrix([Math.cos(B)*$,Math.sin(B)*$,-Math.sin(B)*O,Math.cos(B)*O,S.x,S.y]);re.multiplySelf(new DOMMatrix(S.shape.matrix));var ye=T.createPattern(d.transform(S.shape.bitmap),"no-repeat");ye.setTransform(re),T.globalAlpha=1-z,T.fillStyle=ye,T.fillRect(S.x-Y/2,S.y-ee/2,Y,ee),T.globalAlpha=1}else if(S.shape==="circle")T.ellipse?T.ellipse(S.x,S.y,Math.abs(W-G)*S.ovalScalar,Math.abs(J-q)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):L(T,S.x,S.y,Math.abs(W-G)*S.ovalScalar,Math.abs(J-q)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var F=Math.PI/2*3,tt=4*S.scalar,Ft=8*S.scalar,Gt=S.x,yn=S.y,Kn=5,nn=Math.PI/Kn;Kn--;)Gt=S.x+Math.cos(F)*Ft,yn=S.y+Math.sin(F)*Ft,T.lineTo(Gt,yn),F+=nn,Gt=S.x+Math.cos(F)*tt,yn=S.y+Math.sin(F)*tt,T.lineTo(Gt,yn),F+=nn;else T.moveTo(Math.floor(S.x),Math.floor(S.y)),T.lineTo(Math.floor(S.wobbleX),Math.floor(q)),T.lineTo(Math.floor(W),Math.floor(J)),T.lineTo(Math.floor(G),Math.floor(S.wobbleY));return T.closePath(),T.fill(),S.tick<S.totalTicks}function Bt(T,S,z,G,q){var W=S.slice(),J=T.getContext("2d"),B,$,O=c(function(Y){function ee(){B=$=null,J.clearRect(0,0,G.width,G.height),d.clear(),q(),Y()}function re(){i&&!(G.width===s.width&&G.height===s.height)&&(G.width=T.width=s.width,G.height=T.height=s.height),!G.width&&!G.height&&(z(T),G.width=T.width,G.height=T.height),J.clearRect(0,0,G.width,G.height),W=W.filter(function(ye){return Oe(J,ye)}),W.length?B=h.frame(re):ee()}B=h.frame(re),$=ee});return{addFettis:function(Y){return W=W.concat(Y),O},canvas:T,promise:O,reset:function(){B&&h.cancel(B),$&&$()}}}function Ht(T,S){var z=!T,G=!!w(S||{},"resize"),q=!1,W=w(S,"disableForReducedMotion",Boolean),J=a&&!!w(S||{},"useWorker"),B=J?f():null,$=z?A:N,O=T&&B?!!T.__confetti_initialized:!1,Y=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ee;function re(F,tt,Ft){for(var Gt=w(F,"particleCount",g),yn=w(F,"angle",Number),Kn=w(F,"spread",Number),nn=w(F,"startVelocity",Number),Rd=w(F,"decay",Number),Dd=w(F,"gravity",Number),Id=w(F,"drift",Number),Ir=w(F,"colors",b),kr=w(F,"ticks",Number),Ml=w(F,"shapes"),kd=w(F,"scalar"),Un=!!w(F,"flat"),Or=D(F),x=Gt,V=[],K=T.width*Or.x,Xe=T.height*Or.y;x--;)V.push(ve({x:K,y:Xe,angle:yn,spread:Kn,startVelocity:nn,color:Ir[x%Ir.length],shape:Ml[p(0,Ml.length)],ticks:kr,decay:Rd,gravity:Dd,drift:Id,scalar:kd,flat:Un}));return ee?ee.addFettis(V):(ee=Bt(T,V,$,tt,Ft),ee.promise)}function ye(F){var tt=W||w(F,"disableForReducedMotion",Boolean),Ft=w(F,"zIndex",Number);if(tt&&Y)return c(function(nn){nn()});z&&ee?T=ee.canvas:z&&!T&&(T=M(Ft),document.body.appendChild(T)),G&&!O&&$(T);var Gt={width:T.width,height:T.height};B&&!O&&B.init(T),O=!0,B&&(T.__confetti_initialized=!0);function yn(){if(B){var nn={getBoundingClientRect:function(){if(!z)return T.getBoundingClientRect()}};$(nn),B.postMessage({resize:{width:nn.width,height:nn.height}});return}Gt.width=Gt.height=null}function Kn(){ee=null,G&&(q=!1,e.removeEventListener("resize",yn)),z&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,O=!1)}return G&&!q&&(q=!0,e.addEventListener("resize",yn,!1)),B?B.fire(F,Gt,Kn):re(F,Gt,Kn)}return ye.reset=function(){B&&B.reset(),ee&&ee.reset()},ye}var Nt;function I(){return Nt||(Nt=Ht(null,{useWorker:!0,resize:!0})),Nt}function U(T,S,z,G,q,W,J){var B=new Path2D(T),$=new Path2D;$.addPath(B,new DOMMatrix(S));var O=new Path2D;return O.addPath($,new DOMMatrix([Math.cos(J)*q,Math.sin(J)*q,-Math.sin(J)*W,Math.cos(J)*W,z,G])),O}function P(T){if(!r)throw new Error("path confetti are not supported in this browser");var S,z;typeof T=="string"?S=T:(S=T.path,z=T.matrix);var G=new Path2D(S),q=document.createElement("canvas"),W=q.getContext("2d");if(!z){for(var J=1e3,B=J,$=J,O=0,Y=0,ee,re,ye=0;ye<J;ye+=2)for(var F=0;F<J;F+=2)W.isPointInPath(G,ye,F,"nonzero")&&(B=Math.min(B,ye),$=Math.min($,F),O=Math.max(O,ye),Y=Math.max(Y,F));ee=O-B,re=Y-$;var tt=10,Ft=Math.min(tt/ee,tt/re);z=[Ft,0,0,Ft,-Math.round(ee/2+B)*Ft,-Math.round(re/2+$)*Ft]}return{type:"path",path:S,matrix:z}}function ue(T){var S,z=1,G="#000000",q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?S=T:(S=T.text,z="scalar"in T?T.scalar:z,q="fontFamily"in T?T.fontFamily:q,G="color"in T?T.color:G);var W=10*z,J=""+W+"px "+q,B=new OffscreenCanvas(W,W),$=B.getContext("2d");$.font=J;var O=$.measureText(S),Y=Math.ceil(O.actualBoundingBoxRight+O.actualBoundingBoxLeft),ee=Math.ceil(O.actualBoundingBoxAscent+O.actualBoundingBoxDescent),re=2,ye=O.actualBoundingBoxLeft+re,F=O.actualBoundingBoxAscent+re;Y+=re+re,ee+=re+re,B=new OffscreenCanvas(Y,ee),$=B.getContext("2d"),$.font=J,$.fillStyle=G,$.fillText(S,ye,F);var tt=1/z;return{type:"bitmap",bitmap:B.transferToImageBitmap(),matrix:[tt,0,0,tt,-Y*tt/2,-ee*tt/2]}}n.exports=function(){return I().apply(this,arguments)},n.exports.reset=function(){I().reset()},n.exports.create=Ht,n.exports.shapeFromPath=P,n.exports.shapeFromText=ue})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Tg,!1);const Fa=Tg.exports;Tg.exports.create;const AM=({content:t})=>{const{scrollY:e}=LT(),n=yu(e,[0,500],[0,200]),i=yu(e,[0,400],[1,0]),s=E.useCallback(()=>{try{if(!t.countdownDate)return{days:0,hours:0,minutes:0,seconds:0};const h=new Date(t.countdownDate),f=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"})),m=h.getTime()-f.getTime();if(m>0)return{days:Math.floor(m/(1e3*60*60*24)),hours:Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(m%(1e3*60*60)/(1e3*60)),seconds:Math.floor(m%(1e3*60)/1e3)}}catch(h){console.error("Countdown error:",h)}return{days:0,hours:0,minutes:0,seconds:0}},[t.countdownDate]),[a,r]=E.useState(s()),[o,l]=E.useState(!1),c=E.useCallback(()=>{const f=Date.now()+5e3,m={startVelocity:30,spread:360,ticks:60,zIndex:100},v=(w,g)=>Math.random()*(g-w)+w,_=setInterval(()=>{const w=f-Date.now();if(w<=0){clearInterval(_);return}const g=50*(w/5e3),p=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Fa({...m,particleCount:g,origin:{x:v(.1,.3),y:Math.random()-.2},colors:p}),Fa({...m,particleCount:g,origin:{x:v(.7,.9),y:Math.random()-.2},colors:p})},250);Fa({particleCount:200,spread:100,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},[]);E.useEffect(()=>{const h=setInterval(()=>{const f=s();r(f),!o&&f.days===0&&f.hours===0&&f.minutes===0&&f.seconds===0&&(l(!0),c())},1e3);return()=>clearInterval(h)},[s,o,c]);const d=({value:h,label:f})=>u.jsxs("div",{className:"flex flex-col items-center text-center min-w-[60px] md:min-w-[80px]",children:[u.jsx("div",{className:"text-3xl md:text-5xl font-bold text-gold font-serif leading-none mb-1",children:String(h).padStart(2,"0")}),u.jsx("div",{className:"text-[8px] md:text-[10px] uppercase tracking-[0.2em] text-champagne/80 font-body font-bold",children:f})]});return u.jsxs("div",{className:"relative h-screen w-full flex items-center justify-center overflow-hidden",children:[u.jsx(H.div,{style:{y:n,scale:1.1},initial:{scale:1.2},animate:{scale:1.1},transition:{duration:1.5},className:"absolute inset-0 z-0",children:u.jsx("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('${t.heroImageUrl||"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920"}')`,backgroundSize:"cover",backgroundPosition:"center"}})}),u.jsxs(H.div,{style:{opacity:i},className:"relative z-10 text-center text-white px-4 w-full max-w-5xl mt-12",children:[u.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},children:[u.jsx("div",{className:"text-[10px] md:text-xl uppercase tracking-[0.5em] md:tracking-[0.8em] mb-6 md:mb-12 font-medium text-white/70 font-body drop-shadow-lg",children:"The Wedding Of"}),u.jsx(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:1},className:"leading-none drop-shadow-2xl flex flex-col items-center mb-8 sm:mb-12",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 md:gap-6",children:[u.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Louie"}),u.jsx("span",{className:"font-cursive text-gold text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal opacity-90",style:{textShadow:"0 0 30px rgba(212, 175, 55, 0.8)",transform:"translateY(-4px)"},children:"&"}),u.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Florie"})]})}),u.jsx("div",{className:"text-lg md:text-3xl font-cursive tracking-widest text-gold mb-12 md:mb-16 drop-shadow-lg",children:t.weddingDate}),u.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:1},className:"flex justify-center items-center mb-12 md:mb-20 bg-black/30 backdrop-blur-md px-3 py-4 md:px-8 md:py-6 rounded-2xl md:rounded-full border border-white/10 shadow-3xl inline-flex mx-auto scale-90 md:scale-100",children:[u.jsx(d,{value:a.days,label:"Days"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(d,{value:a.hours,label:"Hrs"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(d,{value:a.minutes,label:"Mins"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(d,{value:a.seconds,label:"Secs"})]}),u.jsx(H.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"max-w-xl mx-auto text-xs md:text-base font-light tracking-[0.2em] leading-loose opacity-90 px-4 font-body text-champagne",children:t.heroTagline})]}),u.jsxs(H.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{delay:2,duration:2,repeat:1/0},className:"absolute -bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center cursor-pointer",onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),children:[u.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-white/70 mb-2 font-bold",children:"Scroll"}),u.jsx("div",{className:"w-[1px] h-16 bg-gradient-to-b from-gold via-white to-transparent"})]})]})]})},RM=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw Tr(e)},Tr=function(t){return new Error("Firebase Database ("+VT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],o=t[n++],l=((s&7)<<18|(a&63)<<12|(r&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},Eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,o=r?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let f=(o&15)<<2|c>>6,m=c&63;l||(m=64,r||(f=64)),i.push(n[d],n[h],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||o==null||c==null||h==null)throw new IM;const f=a<<2|o>>4;if(i.push(f),c!==64){const m=o<<4&240|c>>2;if(i.push(m),h!==64){const v=c<<6&192|h;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BT=function(t){const e=zT(t);return Eg.encodeByteArray(e,!0)},vu=function(t){return BT(t).replace(/\./g,"")},xu=function(t){try{return Eg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return HT(void 0,t)}function HT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!OM(n)||(t[n]=HT(t[n],e[n]));return t}function OM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=()=>MM().__FIREBASE_DEFAULTS__,LM=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xu(t[1]);return e&&JSON.parse(e)},Cg=()=>{try{return RM()||jM()||LM()||UM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FT=t=>{var e,n;return(n=(e=Cg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},GT=t=>{const e=FT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},qT=()=>{var t;return(t=Cg())==null?void 0:t.config},YT=t=>{var e;return(e=Cg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ng(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vu(JSON.stringify(n)),vu(JSON.stringify(r)),""].join(".")}const To={};function PM(){const t={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?t.emulator.push(e):t.prod.push(e);return t}function VM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ax=!1;function Ag(t,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||To[t]===e||To[t]||Ax)return;To[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",a=PM().prod.length>0;function r(){const f=document.getElementById(i);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ax=!0,r()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=VM(i),m=n("text"),v=document.getElementById(m)||document.createElement("span"),_=n("learnmore"),w=document.getElementById(_)||document.createElement("a"),g=n("preprendIcon"),p=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;o(y),d(w,_);const b=c();l(p,g),y.append(p,v,w,b),document.body.appendChild(y)}a?(v.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $T(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HM(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FM(){return VT.NODE_ADMIN===!0}function GM(){try{return typeof indexedDB=="object"}catch{return!1}}function qM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class Ei extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=YM,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?WM(a,i):"Error",o=`${this.serviceName}: ${r} (${s}).`;return new Ei(s,o,i)}}function WM(t,e){return t.replace($M,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const $M=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return JSON.parse(t)}function ot(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Qo(xu(a[0])||""),n=Qo(xu(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},KM=function(t){const e=KT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},XM=function(t){const e=KT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bu(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(Rx(a)&&Rx(r)){if(!Ws(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function to(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=o^a&(r^o),d=1518500249):(c=a^r^o,d=1859775393):h<60?(c=a&r|o&(a|r),d=2400959708):(c=a^r^o,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+i[h]&4294967295;l=o,o=r,r=(a<<30|a>>>2)&4294967295,a=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function ZM(t,e){const n=new JM(t,e);return n.subscribe.bind(n)}class JM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ej(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Mf),s.error===void 0&&(s.error=Mf),s.complete===void 0&&(s.complete=Mf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ej(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mf(){}function Dg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,k(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hd=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sj(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ij(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ij(t){return t===Rs?void 0:t}function sj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const rj={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},oj=we.INFO,lj={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},cj=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=lj[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=oj,this._logHandler=cj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const uj=(t,e)=>e.some(n=>t instanceof n);let Dx,Ix;function dj(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fj(){return Ix||(Ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XT=new WeakMap,_m=new WeakMap,QT=new WeakMap,jf=new WeakMap,kg=new WeakMap;function hj(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(is(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&XT.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function mj(t){if(_m.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});_m.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pj(t){wm=t(wm)}function gj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Lf(this),e,...n);return QT.set(i,e.sort?e.sort():[e]),is(i)}:fj().includes(t)?function(...e){return t.apply(Lf(this),e),is(XT.get(this))}:function(...e){return is(t.apply(Lf(this),e))}}function yj(t){return typeof t=="function"?gj(t):(t instanceof IDBTransaction&&mj(t),uj(t,dj())?new Proxy(t,wm):t)}function is(t){if(t instanceof IDBRequest)return hj(t);if(jf.has(t))return jf.get(t);const e=yj(t);return e!==t&&(jf.set(t,e),kg.set(e,t)),e}const Lf=t=>kg.get(t);function vj(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),o=is(r);return i&&r.addEventListener("upgradeneeded",l=>{i(is(r.result),l.oldVersion,l.newVersion,is(r.transaction),l)}),n&&r.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const xj=["get","getKey","getAll","getAllKeys","count"],bj=["put","add","delete","clear"],Uf=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=bj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||xj.includes(n)))return;const a=async function(r,...o){const l=this.transaction(r,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return Uf.set(e,a),a}pj(t=>({...t,get:(e,n,i)=>kx(e,n)||t.get(e,n,i),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",Ox="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ig("@firebase/app"),Sj="@firebase/app-compat",Tj="@firebase/analytics-compat",Ej="@firebase/analytics",Cj="@firebase/app-check-compat",Nj="@firebase/app-check",Aj="@firebase/auth",Rj="@firebase/auth-compat",Dj="@firebase/database",Ij="@firebase/data-connect",kj="@firebase/database-compat",Oj="@firebase/functions",Mj="@firebase/functions-compat",jj="@firebase/installations",Lj="@firebase/installations-compat",Uj="@firebase/messaging",Pj="@firebase/messaging-compat",Vj="@firebase/performance",zj="@firebase/performance-compat",Bj="@firebase/remote-config",Hj="@firebase/remote-config-compat",Fj="@firebase/storage",Gj="@firebase/storage-compat",qj="@firebase/firestore",Yj="@firebase/ai",Wj="@firebase/firestore-compat",$j="firebase",Kj="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",Xj={[Sm]:"fire-core",[Sj]:"fire-core-compat",[Ej]:"fire-analytics",[Tj]:"fire-analytics-compat",[Nj]:"fire-app-check",[Cj]:"fire-app-check-compat",[Aj]:"fire-auth",[Rj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Ij]:"fire-data-connect",[kj]:"fire-rtdb-compat",[Oj]:"fire-fn",[Mj]:"fire-fn-compat",[jj]:"fire-iid",[Lj]:"fire-iid-compat",[Uj]:"fire-fcm",[Pj]:"fire-fcm-compat",[Vj]:"fire-perf",[zj]:"fire-perf-compat",[Bj]:"fire-rc",[Hj]:"fire-rc-compat",[Fj]:"fire-gcs",[Gj]:"fire-gcs-compat",[qj]:"fire-fst",[Wj]:"fire-fst-compat",[Yj]:"fire-vertex","fire-js":"fire-js",[$j]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,Qj=new Map,Em=new Map;function Mx(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(Em.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of _u.values())Mx(n,t);for(const n of Qj.values())Mx(n,t);return!0}function md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Tl("app","Firebase",Zj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=Kj;function Og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Tm,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(n||(n=qT()),!n)throw ss.create("no-options");const a=_u.get(s);if(a){if(Ws(n,a.options)&&Ws(i,a.config))return a;throw ss.create("duplicate-app",{appName:s})}const r=new aj(s);for(const l of Em.values())r.addComponent(l);const o=new Jj(n,i,r);return _u.set(s,o),o}function Mg(t=Tm){const e=_u.get(t);if(!e&&t===Tm&&qT())return Og();if(!e)throw ss.create("no-app",{appName:t});return e}function Gn(t,e,n){let i=Xj[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(r.join(" "));return}$s(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebase-heartbeat-database",t3=1,Zo="firebase-heartbeat-store";let Pf=null;function ZT(){return Pf||(Pf=vj(e3,t3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ss.create("idb-open",{originalErrorMessage:t.message})})),Pf}async function n3(t){try{const n=(await ZT()).transaction(Zo),i=await n.objectStore(Zo).get(JT(t));return await n.done,i}catch(e){if(e instanceof Ei)bi.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function jx(t,e){try{const i=(await ZT()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,JT(t)),await i.done}catch(n){if(n instanceof Ei)bi.warn(n.message);else{const i=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(i.message)}}}function JT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1024,s3=30;class a3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Lx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>s3){const r=l3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lx(),{heartbeatsToSend:i,unsentEntries:s}=r3(this._heartbeatsCache.heartbeats),a=vu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bi.warn(n),""}}}function Lx(){return new Date().toISOString().substring(0,10)}function r3(t,e=i3){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Ux(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class o3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GM()?qM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function l3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){$s(new hs("platform-logger",e=>new _j(e),"PRIVATE")),$s(new hs("heartbeat",e=>new a3(e),"PRIVATE")),Gn(Sm,Ox,t),Gn(Sm,Ox,"esm2020"),Gn("fire-js","")}c3("");var u3="firebase",d3="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(u3,d3,"app");var Px={};const Vx="@firebase/database",zx="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE="";function f3(t){eE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ci(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h3(e)}}catch{}return new m3},Os=tE("localStorage"),p3=tE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Ig("@firebase/database"),g3=function(){let t=1;return function(){return t++}}(),nE=function(t){const e=tj(t),n=new QM;n.update(e);const i=n.digest();return Eg.encodeByteArray(i)},El=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=El.apply(null,i):typeof i=="object"?e+=ot(i):e+=i,e+=" "}return e};let Eo=null,Bx=!0;const y3=function(t,e){k(!0,"Can't turn on custom loggers persistently."),Ga.logLevel=we.VERBOSE,Eo=Ga.log.bind(Ga)},vt=function(...t){if(Bx===!0&&(Bx=!1,Eo===null&&p3.get("logging_enabled")===!0&&y3()),Eo){const e=El.apply(null,t);Eo(e)}},Cl=function(t){return function(...e){vt(t,...e)}},Cm=function(...t){const e="FIREBASE INTERNAL ERROR: "+El(...t);Ga.error(e)},_i=function(...t){const e=`FIREBASE FATAL ERROR: ${El(...t)}`;throw Ga.error(e),new Error(e)},Ut=function(...t){const e="FIREBASE WARNING: "+El(...t);Ga.warn(e)},v3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cr="[MIN_NAME]",Ks="[MAX_NAME]",Cr=function(t,e){if(t===e)return 0;if(t===cr||e===Ks)return-1;if(e===cr||t===Ks)return 1;{const n=Hx(t),i=Hx(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},b3=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ot(e))},jg=function(t){if(typeof t!="object"||t===null)return ot(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ot(e[i]),n+=":",n+=jg(t[e[i]]);return n+="}",n},sE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const aE=function(t){k(!iE(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,o,l;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=o+i,r=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(l=e;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},_3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},w3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function S3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const T3=new RegExp("^-?(0*)\\d{1,10}$"),E3=-2147483648,C3=2147483647,Hx=function(t){if(T3.test(t)){const e=Number(t);if(e>=E3&&e<=C3)return e}return null},Nr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},N3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Co=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(e)}}class Dc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="5",rE="v",oE="s",lE="r",cE="f",uE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dE="ls",fE="p",Nm="ac",hE="websocket",mE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,i,s,a=!1,r="",o=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Os.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Os.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function D3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gE(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let i;if(e===hE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mE)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D3(t)&&(n.ns=t.namespace);const s=[];return Vt(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.counters_={}}incrementCounter(e,n=1){Ci(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf={},zf={};function Ug(t){const e=t.toString();return Vf[e]||(Vf[e]=new I3),Vf[e]}function k3(t,e){const n=t.toString();return zf[n]||(zf[n]=e()),zf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Nr(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="start",M3="close",j3="pLPCommand",L3="pRTLPCB",yE="id",vE="pw",xE="ser",U3="cb",P3="seg",V3="ts",z3="d",B3="dframe",bE=1870,_E=30,H3=bE-_E,F3=25e3,G3=3e4;class Oa{constructor(e,n,i,s,a,r,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cl(e),this.stats_=Ug(n),this.urlFn=l=>(this.appCheckToken&&(l[Nm]=this.appCheckToken),gE(n,mE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new O3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(G3)),x3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pg((...a)=>{const[r,o,l,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Fx)this.id=o,this.password=l;else if(r===M3)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[Fx]="t",i[xE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[U3]=this.scriptTagHolder.uniqueCallbackIdentifier),i[rE]=Lg,this.transportSessionId&&(i[oE]=this.transportSessionId),this.lastSessionId&&(i[dE]=this.lastSessionId),this.applicationId&&(i[fE]=this.applicationId),this.appCheckToken&&(i[Nm]=this.appCheckToken),typeof location<"u"&&location.hostname&&uE.test(location.hostname)&&(i[lE]=cE);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Oa.forceAllow_=!0}static forceDisallow(){Oa.forceDisallow_=!0}static isAvailable(){return Oa.forceAllow_?!0:!Oa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_3()&&!w3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=BT(n),s=sE(i,H3);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[B3]="t",i[yE]=e,i[vE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pg{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=g3(),window[j3+this.uniqueCallbackIdentifier]=e,window[L3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pg.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(o){vt("frame writing exception"),o.stack&&vt(o.stack),vt(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yE]=this.myID,e[vE]=this.myPW,e[xE]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_E+i.length<=bE;){const r=this.pendingSegs.shift();i=i+"&"+P3+s+"="+r.seg+"&"+V3+s+"="+r.ts+"&"+z3+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(F3)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=16384,Y3=45e3;let wu=null;typeof MozWebSocket<"u"?wu=MozWebSocket:typeof WebSocket<"u"&&(wu=WebSocket);class Nn{constructor(e,n,i,s,a,r,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cl(this.connId),this.stats_=Ug(n),this.connURL=Nn.connectionURL_(n,r,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[rE]=Lg,typeof location<"u"&&location.hostname&&uE.test(location.hostname)&&(r[lE]=cE),n&&(r[oE]=n),i&&(r[dE]=i),s&&(r[Nm]=s),a&&(r[fE]=a),gE(e,hE,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Os.set("previous_websocket_failure",!0);try{let i;FM(),this.mySock=new wu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&wu!==null&&!Nn.forceDisallow_}static previouslyFailed(){return Os.isInMemoryStorage||Os.get("previous_websocket_failure")===!0}markConnectionHealthy(){Os.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Qo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=sE(n,q3);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Y3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static get ALL_TRANSPORTS(){return[Oa,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nn&&Nn.isAvailable();let i=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nn];else{const s=this.transports_=[];for(const a of Jo.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Jo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=6e4,$3=5e3,K3=10*1024,X3=100*1024,Bf="t",Gx="d",Q3="s",qx="r",Z3="e",Yx="o",Wx="a",$x="n",Kx="p",J3="h";class eL{constructor(e,n,i,s,a,r,o,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cl("c:"+this.id+":"),this.transportManager_=new Jo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>X3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>K3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bf in e){const n=e[Bf];n===Wx?this.upgradeIfSecondaryHealthy_():n===qx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Yx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$x,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(Bf,e);if(Gx in e){const i=e[Gx];if(n===J3){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===$x){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Q3?this.onConnectionShutdown_(i):n===qx?this.onReset_(i):n===Z3?Cm("Server Error: "+i):n===Yx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lg!==i&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(W3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends SE{static getInstance(){return new Su}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=32,Qx=768;class Ee{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new Ee("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ms(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function TE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function EE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function Je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ee)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ee(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=se(t),i=se(e);if(n===null)return e;if(n===i)return Ot(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vg(t,e){if(ms(t)!==ms(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ms(t)>ms(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class nL{constructor(e,n){this.errorPrefix_=n,this.parts_=EE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=hd(this.parts_[i]);NE(this)}}function iL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=hd(e),NE(t)}function sL(t){const e=t.parts_.pop();t.byteLength_-=hd(e),t.parts_.length>0&&(t.byteLength_-=1)}function NE(t){if(t.byteLength_>Qx)throw new Error(t.errorPrefix_+"has a key path longer than "+Qx+" bytes ("+t.byteLength_+").");if(t.parts_.length>Xx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xx+") or object contains a cycle "+Ds(t))}function Ds(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends SE{static getInstance(){return new zg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=1e3,aL=60*5*1e3,Zx=30*1e3,rL=1.3,oL=3e4,lL="server_kill",Jx=3;class hi extends wE{constructor(e,n,i,s,a,r,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=hi.nextPersistentConnectionId_++,this.log_=Cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gr,this.maxReconnectDelay_=aL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Su.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(ot(a)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new fd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const o=r.d;r.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,o=>{const l=o.d,c=o.s;hi.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ci(e,"w")){const i=lr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||XM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Zx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=KM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ot(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cm("Unrecognized action received from server: "+ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oL&&(this.reconnectDelay_=Gr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+hi.nextConnectionId_++,a=this.lastSessionId;let r=!1,o=null;const l=function(){o?o.close():(r=!0,i())},c=function(h){k(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);r?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,o=new eL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{Ut(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(lL)},a))}catch(h){this.log_("Failed to get token: "+h),r||(this.repoInfo_.nodeAdmin&&Ut(h),l())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bm(this.interruptReasons_)&&(this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>jg(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ee(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jx&&(this.reconnectDelay_=Zx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eE.replace(/\./g,"-")]=1,Rg()?e["framework.cordova"]=1:$T()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Su.getInstance().currentlyOnline();return bm(this.interruptReasons_)&&e}}hi.nextPersistentConnectionId_=0;hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ae(cr,e),s=new ae(cr,n);return this.compare(i,s)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;class AE extends pd{static get __EMPTY_NODE(){return nc}static set __EMPTY_NODE(e){nc=e}compare(e,n){return Cr(e.name,n.name)}isDefinedOn(e){throw Tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Ks,nc)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,nc)}toString(){return".key"}}const qa=new AE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??at.RED,this.left=s??Mt.EMPTY_NODE,this.right=a??Mt.EMPTY_NODE}copy(e,n,i,s,a){return new at(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class cL{copy(e,n,i,s,a){return this}insert(e,n,i){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,n=Mt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ic(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ic(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ic(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ic(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new cL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e){return Cr(t.name,e.name)}function Bg(t,e){return Cr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;function dL(t){Am=t}const RE=function(t){return typeof t=="number"?"number:"+aE(t):"string:"+t},DE=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ci(e,".sv"),"Priority must be a string or number.")}else k(t===Am||t.isEmpty(),"priority of unexpected type.");k(t===Am||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb;class it{static set __childrenNodeConstructor(e){eb=e}static get __childrenNodeConstructor(){return eb}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),DE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:se(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=se(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(k(i!==".priority"||ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+RE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=aE(this.value_):e+=this.value_,this.lazyHash_=nE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=it.VALUE_TYPE_ORDER.indexOf(n),a=it.VALUE_TYPE_ORDER.indexOf(i);return k(s>=0,"Unknown leaf type: "+n),k(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE,kE;function fL(t){IE=t}function hL(t){kE=t}class mL extends pd{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?Cr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Ks,new it("[PRIORITY-POST]",kE))}makePost(e,n){const i=IE(e);return new ae(n,new it("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ve=new mL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=Math.log(2);class gL{constructor(e){const n=a=>parseInt(Math.log(a)/pL,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tu=function(t,e,n,i){t.sort(e);const s=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new at(f,h.node,at.BLACK,null,null);{const m=parseInt(d/2,10)+l,v=s(l,m),_=s(m+1,c);return h=t[m],f=n?n(h):h,new at(f,h.node,at.BLACK,v,_)}},a=function(l){let c=null,d=null,h=t.length;const f=function(v,_){const w=h-v,g=h;h-=v;const p=s(w+1,g),y=t[w],b=n?n(y):y;m(new at(b,y.node,_,null,p))},m=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const _=l.nextBitIsOne(),w=Math.pow(2,l.count-(v+1));_?f(w,at.BLACK):(f(w,at.BLACK),f(w,at.RED))}return d},r=new gL(t.length),o=a(r);return new Mt(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;const da={};class ri{static get Default(){return k(da&&Ve,"ChildrenNode.ts has not been loaded"),Hf=Hf||new ri({".priority":da},{".priority":Ve}),Hf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return Ci(this.indexSet_,e.toString())}addIndex(e,n){k(e!==qa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(ae.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let o;s?o=Tu(i,e.getCompare()):o=da;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=o,new ri(d,c)}addToIndexes(e,n){const i=bu(this.indexes_,(s,a)=>{const r=lr(this.indexSet_,a);if(k(r,"Missing index implementation for "+a),s===da)if(r.isDefinedOn(e.node)){const o=[],l=n.getIterator(ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Tu(o,r.getCompare())}else return da;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new ae(e.name,o))),l.insert(e,e.node)}});return new ri(i,this.indexSet_)}removeFromIndexes(e,n){const i=bu(this.indexes_,s=>{if(s===da)return s;{const a=n.get(e.name);return a?s.remove(new ae(e.name,a)):s}});return new ri(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;class Q{static get EMPTY_NODE(){return qr||(qr=new Q(new Mt(Bg),null,ri.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&DE(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qr}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qr:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(Ce(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ae(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?qr:this.priorityNode_;return new Q(s,r,a)}}updateChild(e,n){const i=se(e);if(i===null)return n;{k(se(e)!==".priority"||ms(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ce(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(Ve,(r,o)=>{n[r]=o.val(e),i++,a&&Q.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const o in n)r[o]=n[o];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+RE(this.getPriority().val())+":"),this.forEachChild(Ve,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":nE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new ae(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ae.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nl?-1:0}withIndex(e){if(e===qa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ve),s=n.getIterator(Ve);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===qa?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yL extends Q{constructor(){super(new Mt(Bg),Q.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Nl=new yL;Object.defineProperties(ae,{MIN:{value:new ae(cr,Q.EMPTY_NODE)},MAX:{value:new ae(Ks,Nl)}});AE.__EMPTY_NODE=Q.EMPTY_NODE;it.__childrenNodeConstructor=Q;dL(Nl);hL(Nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=!0;function dt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,dt(e))}if(!(t instanceof Array)&&vL){const n=[];let i=!1;if(Vt(t,(r,o)=>{if(r.substring(0,1)!=="."){const l=dt(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ae(r,l)))}}),n.length===0)return Q.EMPTY_NODE;const a=Tu(n,uL,r=>r.name,Bg);if(i){const r=Tu(n,Ve.getCompare());return new Q(a,dt(e),new ri({".priority":r},{".priority":Ve}))}else return new Q(a,dt(e),ri.Default)}else{let n=Q.EMPTY_NODE;return Vt(t,(i,s)=>{if(Ci(t,i)&&i.substring(0,1)!=="."){const a=dt(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(dt(e))}}fL(dt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends pd{constructor(e){super(),this.indexPath_=e,k(!ce(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?Cr(e.name,n.name):a}makePost(e,n){const i=dt(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,i);return new ae(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Nl);return new ae(Ks,e)}toString(){return EE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends pd{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Cr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const i=dt(e);return new ae(n,i)}toString(){return".value"}}const _L=new bL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){return{type:"value",snapshotNode:t}}function ur(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function el(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(s).equals(i.getChild(s))&&o.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(el(n,o)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?r.trackChildChange(ur(n,i)):r.trackChildChange(tl(n,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ve,(s,a)=>{n.hasChild(s)||i.trackChildChange(el(s,a))}),n.isLeafNode()||n.forEachChild(Ve,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(tl(s,a,r))}else i.trackChildChange(ur(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.indexedFilter_=new Hg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nl.getStartPost_(e),this.endPost_=nl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new ae(n,i))||(i=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const a=this;return n.forEachChild(Ve,(r,o)=>{a.matches(new ae(r,o))||(s=s.updateImmediateChild(r,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new nl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new ae(n,i))||(i=Q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))s=s.updateImmediateChild(o.name,o.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const o=a.getNext();r<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?r++:s=s.updateImmediateChild(o.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const h=this.index_.getCompare();r=(f,m)=>h(m,f)}else r=this.index_.getCompare();const o=e;k(o.numChildren()===this.limit_,"");const l=new ae(n,i),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(n)){const h=o.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||o.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:r(f,l);if(d&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(tl(n,i,h)),o.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(el(n,h));const _=o.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(a!=null&&a.trackChildChange(ur(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return i.isEmpty()?e:d&&r(c,l)>=0?(a!=null&&(a.trackChildChange(el(c.name,c.node)),a.trackChildChange(ur(n,i))),o.updateImmediateChild(n,i).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cr}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Fg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TL(t){return t.loadsAllData()?new Hg(t.getIndex()):t.hasLimit()?new SL(t):new nl(t)}function tb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===_L?n="$value":t.index_===qa?n="$key":(k(t.index_ instanceof xL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ot(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ot(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ot(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ot(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ot(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends wE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Cl("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Eu.getListenId_(e,i),o={};this.listens_[r]=o;const l=tb(e._queryParams);this.restRequest_(a+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(a,h,!1,i),lr(this.listens_,r)===o){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const i=Eu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=tb(e._queryParams),i=e._path.toString(),s=new fd;return this.restRequest_(i+".json",n,(a,r)=>{let o=r;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Er(n);this.log_("Sending REST request for "+r);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Qo(o.responseText)}catch{Ut("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&Ut("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return{value:null,children:new Map}}function ME(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=se(e);t.children.has(i)||t.children.set(i,Cu());const s=t.children.get(i);e=Ce(e),ME(s,e,n)}}function Rm(t,e,n){t.value!==null?n(e,t.value):CL(t,(i,s)=>{const a=new Ee(e.toString()+"/"+i);Rm(s,a,n)})}function CL(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Vt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=10*1e3,AL=30*1e3,RL=5*60*1e3;class DL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NL(e);const i=ib+(AL-ib)*Math.random();Co(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Vt(e,(s,a)=>{a>0&&Ci(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),Co(this.reportStats_.bind(this),Math.floor(Math.random()*2*RL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Dn||(Dn={}));function jE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Dn.ACK_USER_WRITE,this.source=jE()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(e));return new Nu(he(),n,this.revert)}}else return k(se(this.path)===e,"operationForChild called for unrelated child."),new Nu(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.source=e,this.path=n,this.type=Dn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new il(this.source,he()):new il(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Dn.OVERWRITE}operationForChild(e){return ce(this.path)?new Xs(this.source,he(),this.snap.getImmediateChild(e)):new Xs(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Dn.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new Xs(this.source,he(),n.value):new sl(this.source,he(),n)}else return k(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sl(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kL(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(wL(r.childName,r.snapshotNode))}),Yr(t,s,"child_removed",e,i,n),Yr(t,s,"child_added",e,i,n),Yr(t,s,"child_moved",a,i,n),Yr(t,s,"child_changed",e,i,n),Yr(t,s,"value",e,i,n),s}function Yr(t,e,n,i,s,a){const r=i.filter(o=>o.type===n);r.sort((o,l)=>ML(t,o,l)),r.forEach(o=>{const l=OL(t,o,a);s.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function OL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ML(t,e,n){if(e.childName==null||n.childName==null)throw Tr("Should only compare child_ events.");const i=new ae(e.childName,e.snapshotNode),s=new ae(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){return{eventCache:t,serverCache:e}}function No(t,e,n,i){return gd(new Qs(e,n,i),t.serverCache)}function LE(t,e,n,i){return gd(t.eventCache,new Qs(e,n,i))}function Dm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;const jL=()=>(Ff||(Ff=new Mt(b3)),Ff);class Re{static fromObject(e){let n=new Re(null);return Vt(e,(i,s)=>{n=n.set(new Ee(i),s)}),n}constructor(e,n=jL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(ce(e))return null;{const i=se(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Ce(e),n);return a!=null?{path:Je(new Ee(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=se(e),i=this.children.get(n);return i!==null?i.subtree(Ce(e)):new Re(null)}}set(e,n){if(ce(e))return new Re(n,this.children);{const i=se(e),a=(this.children.get(i)||new Re(null)).set(Ce(e),n),r=this.children.insert(i,a);return new Re(this.value,r)}}remove(e){if(ce(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=se(e),i=this.children.get(n);if(i){const s=i.remove(Ce(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new Re(null):new Re(this.value,a)}else return this}}get(e){if(ce(e))return this.value;{const n=se(e),i=this.children.get(n);return i?i.get(Ce(e)):null}}setTree(e,n){if(ce(e))return n;{const i=se(e),a=(this.children.get(i)||new Re(null)).setTree(Ce(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new Re(this.value,r)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(Je(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ce(e))return null;{const a=se(e),r=this.children.get(a);return r?r.findOnPath_(Ce(e),Je(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,i){if(ce(e))return this;{this.value&&i(n,this.value);const s=se(e),a=this.children.get(s);return a?a.foreachOnPath_(Ce(e),Je(n,s),i):new Re(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new Re(null))}}function Ao(t,e,n){if(ce(e))return new kn(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Ot(s,e);return a=a.updateChild(r,n),new kn(t.writeTree_.set(s,a))}else{const s=new Re(n),a=t.writeTree_.setTree(e,s);return new kn(a)}}}function sb(t,e,n){let i=t;return Vt(n,(s,a)=>{i=Ao(i,Je(e,s),a)}),i}function ab(t,e){if(ce(e))return kn.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new kn(n)}}function Im(t,e){return oa(t,e)!=null}function oa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function rb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(i,s)=>{e.push(new ae(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ae(i,s.value))}),e}function as(t,e){if(ce(e))return t;{const n=oa(t,e);return n!=null?new kn(new Re(n)):new kn(t.writeTree_.subtree(e))}}function km(t){return t.writeTree_.isEmpty()}function dr(t,e){return UE(he(),t.writeTree_,e)}function UE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(k(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=UE(Je(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){return BE(e,t)}function LL(t,e,n,i,s){k(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Ao(t.visibleWrites,e,n)),t.lastWriteId=i}function UL(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function PL(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const o=t.allWrites[r];o.visible&&(r>=n&&VL(o,i.path)?s=!1:Rn(i.path,o.path)&&(a=!0)),r--}if(s){if(a)return zL(t),!0;if(i.snap)t.visibleWrites=ab(t.visibleWrites,i.path);else{const o=i.children;Vt(o,l=>{t.visibleWrites=ab(t.visibleWrites,Je(i.path,l))})}return!0}else return!1}function VL(t,e){if(t.snap)return Rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rn(Je(t.path,n),e))return!0;return!1}function zL(t){t.visibleWrites=PE(t.allWrites,BL,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function BL(t){return t.visible}function PE(t,e,n){let i=kn.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let o;if(a.snap)Rn(n,r)?(o=Ot(n,r),i=Ao(i,o,a.snap)):Rn(r,n)&&(o=Ot(r,n),i=Ao(i,he(),a.snap.getChild(o)));else if(a.children){if(Rn(n,r))o=Ot(n,r),i=sb(i,o,a.children);else if(Rn(r,n))if(o=Ot(r,n),ce(o))i=sb(i,he(),a.children);else{const l=lr(a.children,se(o));if(l){const c=l.getChild(Ce(o));i=Ao(i,he(),c)}}}else throw Tr("WriteRecord should have .snap or .children")}}return i}function VE(t,e,n,i,s){if(!i&&!s){const a=oa(t.visibleWrites,e);if(a!=null)return a;{const r=as(t.visibleWrites,e);if(km(r))return n;if(n==null&&!Im(r,he()))return null;{const o=n||Q.EMPTY_NODE;return dr(r,o)}}}else{const a=as(t.visibleWrites,e);if(!s&&km(a))return n;if(!s&&n==null&&!Im(a,he()))return null;{const r=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Rn(c.path,e)||Rn(e,c.path))},o=PE(t.allWrites,r,e),l=n||Q.EMPTY_NODE;return dr(o,l)}}}function HL(t,e,n){let i=Q.EMPTY_NODE;const s=oa(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ve,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=as(t.visibleWrites,e);return n.forEachChild(Ve,(r,o)=>{const l=dr(as(a,new Ee(r)),o);i=i.updateImmediateChild(r,l)}),rb(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=as(t.visibleWrites,e);return rb(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function FL(t,e,n,i,s){k(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=Je(e,n);if(Im(t.visibleWrites,a))return null;{const r=as(t.visibleWrites,a);return km(r)?s.getChild(n):dr(r,s.getChild(n))}}function GL(t,e,n,i){const s=Je(e,n),a=oa(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=as(t.visibleWrites,s);return dr(r,i.getNode().getImmediateChild(n))}else return null}function qL(t,e){return oa(t.visibleWrites,e)}function YL(t,e,n,i,s,a,r){let o;const l=as(t.visibleWrites,e),c=oa(l,he());if(c!=null)o=c;else if(n!=null)o=dr(l,n);else return[];if(o=o.withIndex(r),!o.isEmpty()&&!o.isLeafNode()){const d=[],h=r.getCompare(),f=a?o.getReverseIteratorFrom(i,r):o.getIteratorFrom(i,r);let m=f.getNext();for(;m&&d.length<s;)h(m,i)!==0&&d.push(m),m=f.getNext();return d}else return[]}function WL(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function Au(t,e,n,i){return VE(t.writeTree,t.treePath,e,n,i)}function Wg(t,e){return HL(t.writeTree,t.treePath,e)}function ob(t,e,n,i){return FL(t.writeTree,t.treePath,e,n,i)}function Ru(t,e){return qL(t.writeTree,Je(t.treePath,e))}function $L(t,e,n,i,s,a){return YL(t.writeTree,t.treePath,e,n,i,s,a)}function $g(t,e,n){return GL(t.writeTree,t.treePath,e,n)}function zE(t,e){return BE(Je(t.treePath,e),t.writeTree)}function BE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,tl(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,el(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,ur(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,tl(i,e.snapshotNode,s.oldSnap));else throw Tr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const HE=new XL;class Kg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $g(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zs(this.viewCache_),a=$L(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return{filter:t}}function ZL(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JL(t,e,n,i,s){const a=new KL;let r,o;if(n.type===Dn.OVERWRITE){const c=n;c.source.fromUser?r=Om(t,e,c.path,c.snap,i,s,a):(k(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),r=Du(t,e,c.path,c.snap,i,s,o,a))}else if(n.type===Dn.MERGE){const c=n;c.source.fromUser?r=t4(t,e,c.path,c.children,i,s,a):(k(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),r=Mm(t,e,c.path,c.children,i,s,o,a))}else if(n.type===Dn.ACK_USER_WRITE){const c=n;c.revert?r=s4(t,e,c.path,i,s,a):r=n4(t,e,c.path,c.affectedTree,i,s,a)}else if(n.type===Dn.LISTEN_COMPLETE)r=i4(t,e,n.path,i,a);else throw Tr("Unknown operation type: "+n.type);const l=a.getChanges();return e4(e,r,l),{viewCache:r,changes:l}}function e4(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Dm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(OE(Dm(e)))}}function FE(t,e,n,i,s,a){const r=e.eventCache;if(Ru(i,n)!=null)return e;{let o,l;if(ce(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zs(e),d=c instanceof Q?c:Q.EMPTY_NODE,h=Wg(i,d);o=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{const c=Au(i,Zs(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=se(n);if(c===".priority"){k(ms(n)===1,"Can't have a priority with additional path components");const d=r.getNode();l=e.serverCache.getNode();const h=ob(i,n,d,l);h!=null?o=t.filter.updatePriority(d,h):o=r.getNode()}else{const d=Ce(n);let h;if(r.isCompleteForChild(c)){l=e.serverCache.getNode();const f=ob(i,n,r.getNode(),l);f!=null?h=r.getNode().getImmediateChild(c).updateChild(d,f):h=r.getNode().getImmediateChild(c)}else h=$g(i,c,e.serverCache);h!=null?o=t.filter.updateChild(r.getNode(),c,h,d,s,a):o=r.getNode()}}return No(e,o,r.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function Du(t,e,n,i,s,a,r,o){const l=e.serverCache;let c;const d=r?t.filter:t.filter.getIndexedFilter();if(ce(n))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=d.updateFullNode(l.getNode(),m,null)}else{const m=se(n);if(!l.isCompleteForPath(n)&&ms(n)>1)return e;const v=Ce(n),w=l.getNode().getImmediateChild(m).updateChild(v,i);m===".priority"?c=d.updatePriority(l.getNode(),w):c=d.updateChild(l.getNode(),m,w,v,HE,null)}const h=LE(e,c,l.isFullyInitialized()||ce(n),d.filtersNodes()),f=new Kg(s,h,a);return FE(t,h,n,s,f,o)}function Om(t,e,n,i,s,a,r){const o=e.eventCache;let l,c;const d=new Kg(s,e,a);if(ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,r),l=No(e,c,!0,t.filter.filtersNodes());else{const h=se(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=No(e,c,o.isFullyInitialized(),o.isFiltered());else{const f=Ce(n),m=o.getNode().getImmediateChild(h);let v;if(ce(f))v=i;else{const _=d.getCompleteChild(h);_!=null?TE(f)===".priority"&&_.getChild(CE(f)).isEmpty()?v=_:v=_.updateChild(f,i):v=Q.EMPTY_NODE}if(m.equals(v))l=e;else{const _=t.filter.updateChild(o.getNode(),h,v,f,d,r);l=No(e,_,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lb(t,e){return t.eventCache.isCompleteForChild(e)}function t4(t,e,n,i,s,a,r){let o=e;return i.foreach((l,c)=>{const d=Je(n,l);lb(e,se(d))&&(o=Om(t,o,d,c,s,a,r))}),i.foreach((l,c)=>{const d=Je(n,l);lb(e,se(d))||(o=Om(t,o,d,c,s,a,r))}),o}function cb(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Mm(t,e,n,i,s,a,r,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ce(n)?c=i:c=new Re(null).setTree(n,i);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),v=cb(t,m,f);l=Du(t,l,new Ee(h),v,s,a,r,o)}}),c.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!m){const v=e.serverCache.getNode().getImmediateChild(h),_=cb(t,v,f);l=Du(t,l,new Ee(h),_,s,a,r,o)}}),l}function n4(t,e,n,i,s,a,r){if(Ru(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Du(t,e,n,l.getNode().getChild(n),s,a,o,r);if(ce(n)){let c=new Re(null);return l.getNode().forEachChild(qa,(d,h)=>{c=c.set(new Ee(d),h)}),Mm(t,e,n,c,s,a,o,r)}else return e}else{let c=new Re(null);return i.foreach((d,h)=>{const f=Je(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Mm(t,e,n,c,s,a,o,r)}}function i4(t,e,n,i,s){const a=e.serverCache,r=LE(e,a.getNode(),a.isFullyInitialized()||ce(n),a.isFiltered());return FE(t,r,n,i,HE,s)}function s4(t,e,n,i,s,a){let r;if(Ru(i,n)!=null)return e;{const o=new Kg(i,e,s),l=e.eventCache.getNode();let c;if(ce(n)||se(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Au(i,Zs(e));else{const h=e.serverCache.getNode();k(h instanceof Q,"serverChildren would be complete if leaf node"),d=Wg(i,h)}d=d,c=t.filter.updateFullNode(l,d,a)}else{const d=se(n);let h=$g(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,Ce(n),o,a):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,Q.EMPTY_NODE,Ce(n),o,a):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=Au(i,Zs(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,a)))}return r=e.serverCache.isFullyInitialized()||Ru(i,he())!=null,No(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Hg(i.getIndex()),a=TL(i);this.processor_=QL(a);const r=n.serverCache,o=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,r.getNode(),null),c=a.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),d=new Qs(l,r.isFullyInitialized(),s.filtersNodes()),h=new Qs(c,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=gd(h,d),this.eventGenerator_=new IL(this.query_)}get query(){return this.query_}}function r4(t){return t.viewCache_.serverCache.getNode()}function o4(t,e){const n=Zs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function ub(t){return t.eventRegistrations_.length===0}function l4(t,e){t.eventRegistrations_.push(e)}function db(t,e,n){const i=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function fb(t,e,n,i){e.type===Dn.MERGE&&e.source.queryId!==null&&(k(Zs(t.viewCache_),"We should always have a full cache before handling merges"),k(Dm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=JL(t.processor_,s,e,n,i);return ZL(t.processor_,a.viewCache),k(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,GE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function c4(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(a,r)=>{i.push(ur(a,r))}),n.isFullyInitialized()&&i.push(OE(n.getNode())),GE(t,i,n.getNode(),e)}function GE(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return kL(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;class u4{constructor(){this.views=new Map}}function d4(t){k(!Iu,"__referenceConstructor has already been defined"),Iu=t}function f4(){return k(Iu,"Reference.ts has not been loaded"),Iu}function h4(t){return t.views.size===0}function Xg(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return k(a!=null,"SyncTree gave us an op for an invalid query."),fb(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(fb(r,e,n,i));return a}}function m4(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let o=Au(n,s?i:null),l=!1;o?l=!0:i instanceof Q?(o=Wg(n,i),l=!1):(o=Q.EMPTY_NODE,l=!1);const c=gd(new Qs(o,l,!1),new Qs(i,s,!1));return new a4(e,c)}return r}function p4(t,e,n,i,s,a){const r=m4(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),l4(r,n),c4(r,n)}function g4(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const o=ps(t);if(s==="default")for(const[l,c]of t.views.entries())r=r.concat(db(c,n,i)),ub(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{const l=t.views.get(s);l&&(r=r.concat(db(l,n,i)),ub(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!ps(t)&&a.push(new(f4())(e._repo,e._path)),{removed:a,events:r}}function qE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ya(t,e){let n=null;for(const i of t.views.values())n=n||o4(i,e);return n}function YE(t,e){if(e._queryParams.loadsAllData())return yd(t);{const i=e._queryIdentifier;return t.views.get(i)}}function WE(t,e){return YE(t,e)!=null}function ps(t){return yd(t)!=null}function yd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;function y4(t){k(!ku,"__referenceConstructor has already been defined"),ku=t}function v4(){return k(ku,"Reference.ts has not been loaded"),ku}let x4=1;class hb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=WL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $E(t,e,n,i,s){return LL(t.pendingWriteTree_,e,n,i,s),s?Al(t,new Xs(jE(),e,n)):[]}function Ms(t,e,n=!1){const i=UL(t.pendingWriteTree_,e);if(PL(t.pendingWriteTree_,e)){let a=new Re(null);return i.snap!=null?a=a.set(he(),!0):Vt(i.children,r=>{a=a.set(new Ee(r),!0)}),Al(t,new Nu(i.path,a,n))}else return[]}function vd(t,e,n){return Al(t,new Xs(Gg(),e,n))}function b4(t,e,n){const i=Re.fromObject(n);return Al(t,new sl(Gg(),e,i))}function _4(t,e){return Al(t,new il(Gg(),e))}function w4(t,e,n){const i=Zg(t,n);if(i){const s=Jg(i),a=s.path,r=s.queryId,o=Ot(a,e),l=new il(qg(r),o);return ey(t,a,l)}else return[]}function jm(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let o=[];if(r&&(e._queryIdentifier==="default"||WE(r,e))){const l=g4(r,e,n,i);h4(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const c=l.removed;if(o=l.events,!s){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(a,(f,m)=>ps(m));if(d&&!h){const f=t.syncPointTree_.subtree(a);if(!f.isEmpty()){const m=E4(f);for(let v=0;v<m.length;++v){const _=m[v],w=_.query,g=QE(t,_);t.listenProvider_.startListening(Ro(w),Ou(t,w),g.hashFn,g.onComplete)}}}!h&&c.length>0&&!i&&(d?t.listenProvider_.stopListening(Ro(e),null):c.forEach(f=>{const m=t.queryToTagMap.get(xd(f));t.listenProvider_.stopListening(Ro(f),m)}))}C4(t,c)}return o}function S4(t,e,n,i){const s=Zg(t,i);if(s!=null){const a=Jg(s),r=a.path,o=a.queryId,l=Ot(r,e),c=new Xs(qg(o),l,n);return ey(t,r,c)}else return[]}function T4(t,e,n,i){const s=Zg(t,i);if(s){const a=Jg(s),r=a.path,o=a.queryId,l=Ot(r,e),c=Re.fromObject(n),d=new sl(qg(o),l,c);return ey(t,r,d)}else return[]}function mb(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(f,m)=>{const v=Ot(f,s);a=a||Ya(m,v),r=r||ps(m)});let o=t.syncPointTree_.get(s);o?(r=r||ps(o),a=a||Ya(o,he())):(o=new u4,t.syncPointTree_=t.syncPointTree_.set(s,o));let l;a!=null?l=!0:(l=!1,a=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,v)=>{const _=Ya(v,he());_&&(a=a.updateImmediateChild(m,_))}));const c=WE(o,e);if(!c&&!e._queryParams.loadsAllData()){const f=xd(e);k(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=N4();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const d=Yg(t.pendingWriteTree_,s);let h=p4(o,e,n,d,a,l);if(!c&&!r&&!i){const f=YE(o,e);h=h.concat(A4(t,e,f))}return h}function Qg(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,o)=>{const l=Ot(r,e),c=Ya(o,l);if(c)return c});return VE(s,e,a,n,!0)}function Al(t,e){return KE(e,t.syncPointTree_,null,Yg(t.pendingWriteTree_,he()))}function KE(t,e,n,i){if(ce(t.path))return XE(t,e,n,i);{const s=e.get(he());n==null&&s!=null&&(n=Ya(s,he()));let a=[];const r=se(t.path),o=t.operationForChild(r),l=e.children.get(r);if(l&&o){const c=n?n.getImmediateChild(r):null,d=zE(i,r);a=a.concat(KE(o,l,c,d))}return s&&(a=a.concat(Xg(s,t,i,n))),a}}function XE(t,e,n,i){const s=e.get(he());n==null&&s!=null&&(n=Ya(s,he()));let a=[];return e.children.inorderTraversal((r,o)=>{const l=n?n.getImmediateChild(r):null,c=zE(i,r),d=t.operationForChild(r);d&&(a=a.concat(XE(d,o,l,c)))}),s&&(a=a.concat(Xg(s,t,i,n))),a}function QE(t,e){const n=e.query,i=Ou(t,n);return{hashFn:()=>(r4(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?w4(t,n._path,i):_4(t,n._path);{const a=S3(s,n);return jm(t,n,null,a)}}}}function Ou(t,e){const n=xd(e);return t.queryToTagMap.get(n)}function xd(t){return t._path.toString()+"$"+t._queryIdentifier}function Zg(t,e){return t.tagToQueryMap.get(e)}function Jg(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function ey(t,e,n){const i=t.syncPointTree_.get(e);k(i,"Missing sync point for query tag that we're tracking");const s=Yg(t.pendingWriteTree_,e);return Xg(i,n,s,null)}function E4(t){return t.fold((e,n,i)=>{if(n&&ps(n))return[yd(n)];{let s=[];return n&&(s=qE(n)),Vt(i,(a,r)=>{s=s.concat(r)}),s}})}function Ro(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(v4())(t._repo,t._path):t}function C4(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=xd(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function N4(){return x4++}function A4(t,e,n){const i=e._path,s=Ou(t,e),a=QE(t,n),r=t.listenProvider_.startListening(Ro(e),s,a.hashFn,a.onComplete),o=t.syncPointTree_.subtree(i);if(s)k(!ps(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,d,h)=>{if(!ce(c)&&d&&ps(d))return[yd(d).query];{let f=[];return d&&(f=f.concat(qE(d).map(m=>m.query))),Vt(h,(m,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Ro(d),Ou(t,d))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ty(n)}node(){return this.node_}}class ny{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new ny(this.syncTree_,n)}node(){return Qg(this.syncTree_,this.path_)}}const R4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pb=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return D4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return I4(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},D4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},I4=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&k(!1,"Unexpected increment value: "+i);const s=e.node();if(k(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},k4=function(t,e,n,i){return iy(e,new ny(n,t),i)},ZE=function(t,e,n){return iy(t,new ty(e),n)};function iy(t,e,n){const i=t.getPriority().val(),s=pb(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,o=pb(r.getValue(),e,n);return o!==r.getValue()||s!==r.getPriority().val()?new it(o,dt(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new it(s))),r.forEachChild(Ve,(o,l)=>{const c=iy(l,e.getImmediateChild(o),n);c!==l&&(a=a.updateImmediateChild(o,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function ay(t,e){let n=e instanceof Ee?e:new Ee(e),i=t,s=se(n);for(;s!==null;){const a=lr(i.node.children,s)||{children:{},childCount:0};i=new sy(s,i,a),n=Ce(n),s=se(n)}return i}function Ar(t){return t.node.value}function JE(t,e){t.node.value=e,Lm(t)}function eC(t){return t.node.childCount>0}function O4(t){return Ar(t)===void 0&&!eC(t)}function bd(t,e){Vt(t.node.children,(n,i)=>{e(new sy(n,t,i))})}function tC(t,e,n,i){n&&e(t),bd(t,s=>{tC(s,e,!0)})}function M4(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Rl(t){return new Ee(t.parent===null?t.name:Rl(t.parent)+"/"+t.name)}function Lm(t){t.parent!==null&&j4(t.parent,t.name,t)}function j4(t,e,n){const i=O4(n),s=Ci(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Lm(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Lm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/[\[\].#$\/\u0000-\u001F\u007F]/,U4=/[\[\].#$\u0000-\u001F\u007F]/,Gf=10*1024*1024,nC=function(t){return typeof t=="string"&&t.length!==0&&!L4.test(t)},iC=function(t){return typeof t=="string"&&t.length!==0&&!U4.test(t)},P4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iC(t)},V4=function(t,e,n,i){ry(Dg(t,"value"),e,n)},ry=function(t,e,n){const i=n instanceof Ee?new nL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ds(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ds(i)+" with contents = "+e.toString());if(iE(e))throw new Error(t+"contains "+e.toString()+" "+Ds(i));if(typeof e=="string"&&e.length>Gf/3&&hd(e)>Gf)throw new Error(t+"contains a string greater than "+Gf+" utf8 bytes "+Ds(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Vt(e,(r,o)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!nC(r)))throw new Error(t+" contains an invalid key ("+r+") "+Ds(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iL(i,r),ry(t,o,i),sL(i)}),s&&a)throw new Error(t+' contains ".value" child '+Ds(i)+" in addition to actual children.")}},sC=function(t,e,n,i){if(!iC(n))throw new Error(Dg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},z4=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sC(t,e,n)},aC=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},B4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!P4(n))throw new Error(Dg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oy(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Vg(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function rC(t,e,n){oy(t,n),oC(t,i=>Vg(i,e))}function wi(t,e,n){oy(t,n),oC(t,i=>Rn(i,e)||Rn(e,i))}function oC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(F4(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function F4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Eo&&vt("event: "+n.toString()),Nr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="repo_interrupt",q4=25;class Y4{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new sy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W4(t,e,n){if(t.stats_=Ug(t.repoInfo_),t.forceRestClient_||N3())t.server_=new Eu(t.repoInfo_,(i,s,a,r)=>{gb(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new hi(t.repoInfo_,e,(i,s,a,r)=>{gb(t,i,s,a,r)},i=>{yb(t,i)},i=>{K4(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=k3(t.repoInfo_,()=>new DL(t.stats_,t.server_)),t.infoData_=new EL,t.infoSyncTree_=new hb({startListening:(i,s,a,r)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=vd(t.infoSyncTree_,i._path,l),setTimeout(()=>{r("ok")},0)),o},stopListening:()=>{}}),cy(t,"connected",!1),t.serverSyncTree_=new hb({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(o,l)=>{const c=r(o,l);wi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function $4(t){const n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ly(t){return R4({timestamp:$4(t)})}function gb(t,e,n,i,s){t.dataUpdateCount++;const a=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const l=bu(n,c=>dt(c));r=T4(t.serverSyncTree_,a,l,s)}else{const l=dt(n);r=S4(t.serverSyncTree_,a,l,s)}else if(i){const l=bu(n,c=>dt(c));r=b4(t.serverSyncTree_,a,l)}else{const l=dt(n);r=vd(t.serverSyncTree_,a,l)}let o=a;r.length>0&&(o=_d(t,a)),wi(t.eventQueue_,o,r)}function yb(t,e){cy(t,"connected",e),e===!1&&Q4(t)}function K4(t,e){Vt(e,(n,i)=>{cy(t,n,i)})}function cy(t,e,n){const i=new Ee("/.info/"+e),s=dt(n);t.infoData_.updateSnapshot(i,s);const a=vd(t.infoSyncTree_,i,s);wi(t.eventQueue_,i,a)}function lC(t){return t.nextWriteId_++}function X4(t,e,n,i,s){uy(t,"set",{path:e.toString(),value:n,priority:i});const a=ly(t),r=dt(n,i),o=Qg(t.serverSyncTree_,e),l=ZE(r,o,a),c=lC(t),d=$E(t.serverSyncTree_,e,l,c,!0);oy(t.eventQueue_,d),t.server_.put(e.toString(),r.val(!0),(f,m)=>{const v=f==="ok";v||Ut("set at "+e+" failed: "+f);const _=Ms(t.serverSyncTree_,c,!v);wi(t.eventQueue_,e,_),e6(t,s,f,m)});const h=mC(t,e);_d(t,h),wi(t.eventQueue_,h,[])}function Q4(t){uy(t,"onDisconnectEvents");const e=ly(t),n=Cu();Rm(t.onDisconnect_,he(),(s,a)=>{const r=k4(s,a,t.serverSyncTree_,e);ME(n,s,r)});let i=[];Rm(n,he(),(s,a)=>{i=i.concat(vd(t.serverSyncTree_,s,a));const r=mC(t,s);_d(t,r)}),t.onDisconnect_=Cu(),wi(t.eventQueue_,he(),i)}function Z4(t,e,n){let i;se(e._path)===".info"?i=mb(t.infoSyncTree_,e,n):i=mb(t.serverSyncTree_,e,n),rC(t.eventQueue_,e._path,i)}function cC(t,e,n){let i;se(e._path)===".info"?i=jm(t.infoSyncTree_,e,n):i=jm(t.serverSyncTree_,e,n),rC(t.eventQueue_,e._path,i)}function J4(t){t.persistentConnection_&&t.persistentConnection_.interrupt(G4)}function uy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function e6(t,e,n,i){e&&Nr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function uC(t,e,n){return Qg(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function dy(t,e=t.transactionQueueTree_){if(e||wd(t,e),Ar(e)){const n=fC(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&t6(t,Rl(e),n)}else eC(e)&&bd(e,n=>{dy(t,n)})}function t6(t,e,n){const i=n.map(c=>c.currentWriteId),s=uC(t,e,i);let a=s;const r=s.hash();for(let c=0;c<n.length;c++){const d=n[c];k(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ot(e,d.path);a=a.updateChild(h,d.currentOutputSnapshotRaw)}const o=a.val(!0),l=e;t.server_.put(l.toString(),o,c=>{uy(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Ms(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wd(t,ay(t.transactionQueueTree_,e)),dy(t,t.transactionQueueTree_),wi(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Nr(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ut("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}_d(t,e)}},r)}function _d(t,e){const n=dC(t,e),i=Rl(n),s=fC(t,n);return n6(t,s,i),i}function n6(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Ot(n,l.path);let d=!1,h;if(k(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=q4)d=!0,h="maxretry",s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0));else{const f=uC(t,l.path,r);l.currentInputSnapshot=f;const m=e[o].update(f.val());if(m!==void 0){ry("transaction failed: Data returned ",m,l.path);let v=dt(m);typeof m=="object"&&m!=null&&Ci(m,".priority")||(v=v.updatePriority(f.getPriority()));const w=l.currentWriteId,g=ly(t),p=ZE(v,f,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=p,l.currentWriteId=lC(t),r.splice(r.indexOf(w),1),s=s.concat($E(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Ms(t.serverSyncTree_,w,!0))}else d=!0,h="nodata",s=s.concat(Ms(t.serverSyncTree_,l.currentWriteId,!0))}wi(t.eventQueue_,n,s),s=[],d&&(e[o].status=2,function(f){setTimeout(f,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(h==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(h),!1,null))))}wd(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Nr(i[o]);dy(t,t.transactionQueueTree_)}function dC(t,e){let n,i=t.transactionQueueTree_;for(n=se(e);n!==null&&Ar(i)===void 0;)i=ay(i,n),e=Ce(e),n=se(e);return i}function fC(t,e){const n=[];return hC(t,e,n),n.sort((i,s)=>i.order-s.order),n}function hC(t,e,n){const i=Ar(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);bd(e,s=>{hC(t,s,n)})}function wd(t,e){const n=Ar(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,JE(e,n.length>0?n:void 0)}bd(e,i=>{wd(t,i)})}function mC(t,e){const n=Rl(dC(t,e)),i=ay(t.transactionQueueTree_,e);return M4(i,s=>{qf(t,s)}),qf(t,i),tC(i,s=>{qf(t,s)}),n}function qf(t,e){const n=Ar(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(k(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(k(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Ms(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?JE(e,void 0):n.length=a+1,wi(t.eventQueue_,Rl(e),s);for(let r=0;r<i.length;r++)Nr(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function s6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const vb=function(t,e){const n=a6(t),i=n.namespace;n.domain==="firebase.com"&&_i(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&_i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v3();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pE(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ee(n.pathString)}},a6=function(t){let e="",n="",i="",s="",a="",r=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=i6(t.substring(d,h)));const f=s6(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(r=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");i=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=i}"ns"in f&&(a=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:r,scheme:o,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ot(this.snapshot.exportVal())}}class o6{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ce(this._path)?null:TE(this._path)}get ref(){return new bs(this._repo,this._path)}get _queryIdentifier(){const e=nb(this._queryParams),n=jg(e);return n==="{}"?"default":n}get _queryObject(){return nb(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof fy))return!1;const n=this._repo===e._repo,i=Vg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+tL(this._path)}}class bs extends fy{constructor(e,n){super(e,n,new Fg,!1)}get parent(){const e=CE(this._path);return e===null?null:new bs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ee(e),i=Um(this.ref,e);return new Mu(this._node.getChild(n),i,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Mu(s,Um(this.ref,i),Ve)))}hasChild(e){const n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _n(t,e){return t=Ge(t),t._checkNotDeleted("ref"),e!==void 0?Um(t._root,e):t._root}function Um(t,e){return t=Ge(t),se(t._path)===null?z4("child","path",e):sC("child","path",e),new bs(t._repo,Je(t._path,e))}function xb(t){return aC("remove",t._path),pa(t,null)}function pa(t,e){t=Ge(t),aC("set",t._path),V4("set",e,t._path);const n=new fd;return X4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class hy{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new r6("value",this,new Mu(e.snapshotNode,new bs(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new o6(this,e,n):null}matches(e){return e instanceof hy?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function c6(t,e,n,i,s){const a=new l6(n,void 0),r=new hy(a);return Z4(t._repo,t,r),()=>cC(t._repo,t,r)}function sc(t,e,n,i){return c6(t,"value",e)}function ac(t,e,n){cC(t._repo,t,null)}d4(bs);y4(bs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="FIREBASE_DATABASE_EMULATOR_HOST",Pm={};let d6=!1;function f6(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=xs(a);t.repoInfo_=new pE(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function h6(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||_i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=vb(a,s),o=r.repoInfo,l;typeof process<"u"&&Px&&(l=Px[u6]),l?(a=`http://${l}?ns=${o.namespace}`,r=vb(a,s),o=r.repoInfo):r.repoInfo.secure;const c=new R3(t.name,t.options,e);B4("Invalid Firebase Database URL",r),ce(r.path)||_i("Database URL must point to the root of a Firebase Database (not including a child path).");const d=p6(o,t,c,new A3(t,n));return new g6(d,t)}function m6(t,e){const n=Pm[e];(!n||n[t.key]!==t)&&_i(`Database ${e}(${t.repoInfo_}) has already been deleted.`),J4(t),delete n[t.key]}function p6(t,e,n,i){let s=Pm[e.name];s||(s={},Pm[e.name]=s);let a=s[t.toURLString()];return a&&_i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Y4(t,d6,n,i),s[t.toURLString()]=a,a}class g6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bs(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(m6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_i("Cannot call "+e+" on a deleted database.")}}function y6(t=Mg(),e){const n=md(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=GT("database");i&&v6(n,...i)}return n}function v6(t,e,n,i={}){t=Ge(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ws(i,a.repoInfo_.emulatorOptions))return;_i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&_i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Dc(Dc.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:WT(i.mockUserToken,t.app.options.projectId);r=new Dc(o)}xs(e)&&(Ng(e),Ag("Database",!0)),f6(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){f3(ra),$s(new hs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return h6(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),Gn(Vx,zx,t),Gn(Vx,zx,"esm2020")}hi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};x6();function pC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b6=pC,gC=new Tl("auth","Firebase",pC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Ig("@firebase/auth");function _6(t,...e){ju.logLevel<=we.WARN&&ju.warn(`Auth (${ra}): ${t}`,...e)}function Ic(t,...e){ju.logLevel<=we.ERROR&&ju.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,...e){throw my(t,...e)}function qn(t,...e){return my(t,...e)}function yC(t,e,n){const i={...b6(),[e]:n};return new Tl("auth","Firebase",i).create(e,{appName:t.name})}function rs(t){return yC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function my(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gC.create(t,...e)}function X(t,e,...n){if(!t)throw my(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ic(e),new Error(e)}function Si(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function w6(){return bb()==="http:"||bb()==="https:"}function bb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w6()||BM()||"connection"in navigator)?navigator.onLine:!0}function T6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Rg()||$T()}get(){return S6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N6=new Dl(3e4,6e4);function la(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _s(t,e,n,i,s={}){return xC(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const o=Er({key:t.config.apiKey,...r}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return zM()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&xs(t.emulatorConfig.host)&&(c.credentials="include"),vC.fetch()(await bC(t,t.config.apiHost,n,o),c)})}async function xC(t,e,n){t._canInitEmulator=!1;const i={...E6,...e};try{const s=new R6(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw rc(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const o=a.ok?r.errorMessage:r.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(t,"credential-already-in-use",r);if(l==="EMAIL_EXISTS")throw rc(t,"email-already-in-use",r);if(l==="USER_DISABLED")throw rc(t,"user-disabled",r);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yC(t,d,c);jn(t,d)}}catch(s){if(s instanceof Ei)throw s;jn(t,"network-request-failed",{message:String(s)})}}async function Sd(t,e,n,i,s={}){const a=await _s(t,e,n,i,s);return"mfaPendingCredential"in a&&jn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bC(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?py(t.config,s):`${t.config.apiScheme}://${s}`;return C6.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}function A6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),N6.get())})}}function rc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qn(t,e,i);return s.customData._tokenResponse=n,s}function _b(t){return t!==void 0&&t.enterprise!==void 0}class D6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I6(t,e){return _s(t,"GET","/v2/recaptchaConfig",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return _s(t,"POST","/v1/accounts:delete",e)}async function Lu(t,e){return _s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O6(t,e=!1){const n=Ge(t),i=await n.getIdToken(e),s=gy(i);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Do(Yf(s.auth_time)),issuedAtTime:Do(Yf(s.iat)),expirationTime:Do(Yf(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Yf(t){return Number(t)*1e3}function gy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const s=xu(n);return s?JSON.parse(s):(Ic("Failed to decode base64 JWT payload"),null)}catch(s){return Ic("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function wb(t){const e=gy(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ei&&M6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function M6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){var h;const e=t.auth,n=await t.getIdToken(),i=await al(t,Lu(e,{idToken:n}));X(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(h=s.providerUserInfo)!=null&&h.length?_C(s.providerUserInfo):[],r=U6(t.providerData,a),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),c=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function L6(t){const e=Ge(t);await Uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U6(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function _C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){const n=await xC(t,{},async()=>{const i=Er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await bC(t,s,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return t.emulatorConfig&&xs(t.emulatorConfig.host)&&(l.credentials="include"),vC.fetch()(r,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V6(t,e){return _s(t,"POST","/v2/accounts:revokeToken",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await P6(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Wa;return i&&(X(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(X(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(X(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new j6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O6(this,e)}reload(){return L6(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Uu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await al(this,k6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:v,stsTokenManager:_}=n;X(h&&_,e,"internal-error");const w=Wa.fromJSON(this.name,_);X(typeof h=="string",e,"internal-error"),Ai(i,e.name),Ai(s,e.name),X(typeof f=="boolean",e,"internal-error"),X(typeof m=="boolean",e,"internal-error"),Ai(a,e.name),Ai(r,e.name),Ai(o,e.name),Ai(l,e.name),Ai(c,e.name),Ai(d,e.name);const g=new In({uid:h,auth:e,email:s,emailVerified:f,displayName:i,isAnonymous:m,photoURL:r,phoneNumber:a,tenantId:o,stsTokenManager:w,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(g.providerData=v.map(p=>({...p}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,i=!1){const s=new Wa;s.updateFromServerResponse(n);const a=new In({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Uu(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];X(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?_C(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),o=new Wa;o.updateFromIdToken(i);const l=new In({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;function li(t){Si(t instanceof Function,"Expected a class definition");let e=Sb.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wC.type="NONE";const Tb=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=kc(this.userKey,s.apiKey,a),this.fullPersistenceKey=kc("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lu(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $a(li(Tb),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||li(Tb);const r=kc(i,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(r);if(d){let h;if(typeof d=="string"){const f=await Lu(e,{idToken:d}).catch(()=>{});if(!f)break;h=await In._fromGetAccountInfoResponse(e,f,d)}else h=In._fromJSON(e,d);c!==a&&(o=h),a=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new $a(a,e,i):(a=l[0],o&&await a._set(r,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(r)}catch{}})),new $a(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(RC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(NC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SC(t=Et()){return/firefox\//i.test(t)}function TC(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(t=Et()){return/crios\//i.test(t)}function CC(t=Et()){return/iemobile/i.test(t)}function NC(t=Et()){return/android/i.test(t)}function AC(t=Et()){return/blackberry/i.test(t)}function RC(t=Et()){return/webos/i.test(t)}function yy(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z6(t=Et()){var e;return yy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function B6(){return HM()&&document.documentMode===10}function DC(t=Et()){return yy(t)||NC(t)||RC(t)||AC(t)||/windows phone/i.test(t)||CC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e=[]){let n;switch(t){case"Browser":n=Eb(Et());break;case"Worker":n=`${Eb(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,o)=>{try{const l=e(a);r(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e={}){return _s(t,"GET","/v2/passwordPolicy",la(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=6;class q6{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new H6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lu(this,{idToken:e}),i=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(fn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!r||r===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(rs(this));const n=e?Ge(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F6(this),n=new q6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await V6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(o,this,"internal-error"),o.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{r=!0,l()}}else{const l=e.addObserver(n);return()=>{r=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rr(t){return Ge(t)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZM(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W6(t){Td=t}function kC(t){return Td.loadJS(t)}function $6(){return Td.recaptchaEnterpriseScript}function K6(){return Td.gapiScript}function X6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Q6{constructor(){this.enterprise=new Z6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Z6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J6="recaptcha-enterprise",OC="NO_RECAPTCHA";class eU{constructor(e){this.type=J6,this.auth=Rr(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(r,o)=>{I6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new D6(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,r(c.siteKey)}}).catch(l=>{o(l)})})}function s(a,r,o){const l=window.grecaptcha;_b(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{r(c)}).catch(()=>{r(OC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q6().execute("siteKey",{action:"verify"}):new Promise((a,r)=>{i(this.auth).then(o=>{if(!n&&_b(window.grecaptcha))s(o,a,r);else{if(typeof window>"u"){r(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$6();l.length!==0&&(l+=o),kC(l).then(()=>{s(o,a,r)}).catch(c=>{r(c)})}}).catch(o=>{r(o)})})}}async function Nb(t,e,n,i=!1,s=!1){const a=new eU(t);let r;if(s)r=OC;else try{r=await a.verify(n)}catch{r=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ab(t,e,n,i,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Nb(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Nb(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t,e){const n=md(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ws(a,e??{}))return s;jn(s,"already-initialized")}return n.initialize({options:e})}function nU(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iU(t,e,n){const i=Rr(t);X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=MC(e),{host:r,port:o}=sU(e),l=o===null?"":`:${o}`,c={url:`${a}//${r}${l}/`},d=Object.freeze({host:r,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(Ws(c,i.config.emulator)&&Ws(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,xs(r)?(Ng(`${a}//${r}${l}`),Ag("Auth",!0)):aU()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sU(t){const e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Rb(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Rb(r)}}}function Rb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function rU(t,e){return _s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e){return Sd(t,"POST","/v1/accounts:signInWithPassword",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return Sd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}async function cU(t,e){return Sd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends vy{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,n,"signInWithPassword",oU);case"emailLink":return lU(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,i,"signUpPassword",rU);case"emailLink":return cU(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e){return Sd(t,"POST","/v1/accounts:signInWithIdp",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="http://localhost";class Js extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new Js(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ka(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:uU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Er(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fU(t){const e=to(no(t)).link,n=e?to(no(e)).deep_link_id:null,i=to(no(t)).deep_link_id;return(i?to(no(i)).link:null)||i||n||e||t}class xy{constructor(e){const n=to(no(e)),i=n.apiKey??null,s=n.oobCode??null,a=dU(n.mode??null);X(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fU(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.providerId=Dr.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=xy.parseLink(n);return X(i,"argument-error"),rl._fromEmailAndCode(e,i.code,i.tenantId)}}Dr.PROVIDER_ID="password";Dr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends jC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Il{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Pi.credential(n,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Il{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Il{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await In._fromIdTokenResponse(e,i,s),r=Db(i);return new fr({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Db(i);return new fr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Db(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Ei{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Pu(e,n,i,s)}}function LC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Pu._fromErrorAndOperation(t,a,e,i):a})}async function hU(t,e,n=!1){const i=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e,n=!1){const{auth:i}=t;if(fn(i.app))return Promise.reject(rs(i));const s="reauthenticate";try{const a=await al(t,LC(i,s,e,t),n);X(a.idToken,i,"internal-error");const r=gy(a.idToken);X(r,i,"internal-error");const{sub:o}=r;return X(t.uid===o,i,"user-mismatch"),fr._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e,n=!1){if(fn(t.app))return Promise.reject(rs(t));const i="signIn",s=await LC(t,i,e),a=await fr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function pU(t,e){return UC(Rr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t){const e=Rr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yU(t,e,n){return fn(t.app)?Promise.reject(rs(t)):pU(Ge(t),Dr.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gU(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e){return Ge(t).setPersistence(e)}function xU(t,e,n,i){return Ge(t).onIdTokenChanged(e,n,i)}function bU(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function _U(t,e,n,i){return Ge(t).onAuthStateChanged(e,n,i)}function wU(t){return Ge(t).signOut()}const Vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vu,"1"),this.storage.removeItem(Vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=1e3,TU=10;class VC extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,o,l)=>{this.notifyListeners(r,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);B6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TU):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VC.type="LOCAL";const zC=VC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BC.type="SESSION";const HC=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(r).map(async c=>c(n.origin,a)),l=await EU(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((o,l)=>{const c=by("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function NU(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function AU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function DU(){return FC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",IU=1,zu="firebaseLocalStorage",qC="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function kU(){const t=indexedDB.deleteDatabase(GC);return new kl(t).toPromise()}function Bm(){const t=indexedDB.open(GC,IU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(zu,{keyPath:qC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(zu)?e(i):(i.close(),await kU(),e(await Bm()))})})}async function Ib(t,e,n){const i=Cd(t,!0).put({[qC]:e,value:n});return new kl(i).toPromise()}async function OU(t,e){const n=Cd(t,!1).get(e),i=await new kl(n).toPromise();return i===void 0?null:i.value}function kb(t,e){const n=Cd(t,!0).delete(e);return new kl(n).toPromise()}const MU=800,jU=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>jU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(DU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await AU(),!this.activeServiceWorker)return;this.sender=new CU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await Ib(e,Vu,"1"),await kb(e,Vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ib(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>OU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Cd(s,!1).getAll();return new kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const LU=YC;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t,e){return e?li(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PU(t){return UC(t.auth,new _y(t),t.bypassAuthState)}function VU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),mU(n,new _y(t),t.bypassAuthState)}async function zU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),hU(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:o}=e;if(r){this.reject(r);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PU;case"linkViaPopup":case"linkViaRedirect":return zU;case"reauthViaPopup":case"reauthViaRedirect":return VU;default:jn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Dl(2e3,1e4);class Ma extends WC{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BU.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="pendingRedirect",Oc=new Map;class FU extends WC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await GU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GU(t,e){const n=WU(e),i=YU(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function qU(t,e){Oc.set(t._key(),e)}function YU(t){return li(t._redirectPersistence)}function WU(t){return kc(HU,t.config.apiKey,t.name)}async function $U(t,e,n=!1){if(fn(t.app))return Promise.reject(rs(t));const i=Rr(t),s=UU(i,e),r=await new FU(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=10*60*1e3;class XU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!$C(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $C({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $C(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e={}){return _s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e5=/^https?/;async function t5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZU(t);for(const n of e)try{if(n5(n))return}catch{}jn(t,"unauthorized-domain")}function n5(t){const e=Vm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!e5.test(n))return!1;if(JU.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Dl(3e4,6e4);function Mb(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s5(t){return new Promise((e,n)=>{var s,a,r;function i(){Mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mb(),n(qn(t,"network-request-failed"))},timeout:i5.get()})}if((a=(s=Yn().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=Yn().gapi)!=null&&r.load)i();else{const o=X6("iframefcb");return Yn()[o]=()=>{gapi.load?i():n(qn(t,"network-request-failed"))},kC(`${K6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function a5(t){return Mc=Mc||s5(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new Dl(5e3,15e3),o5="__/auth/iframe",l5="emulator/auth/iframe",c5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d5(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,l5):`https://${t.config.authDomain}/${o5}`,i={apiKey:e.apiKey,appName:t.name,v:ra},s=u5.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Er(i).slice(1)}`}async function f5(t){const e=await a5(t),n=Yn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:d5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c5,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=qn(t,"network-request-failed"),o=Yn().setTimeout(()=>{a(r)},r5.get());function l(){Yn().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m5=500,p5=600,g5="_blank",y5="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v5(t,e,n,i=m5,s=p5){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...h5,width:i.toString(),height:s.toString(),top:a,left:r},c=Et().toLowerCase();n&&(o=EC(c)?g5:n),SC(c)&&(e=e||y5,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(z6(c)&&o!=="_self")return x5(e||"",o),new jb(null);const h=window.open(e||"",o,d);X(h,t,"popup-blocked");try{h.focus()}catch{}return new jb(h)}function x5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="__/auth/handler",_5="emulator/auth/handler",w5=encodeURIComponent("fac");async function Lb(t,e,n,i,s,a){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ra,eventId:s};if(e instanceof jC){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",bm(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))r[d]=h}if(e instanceof Il){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(r.scopes=d.join(","))}t.tenantId&&(r.tid=t.tenantId);const o=r;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${w5}=${encodeURIComponent(l)}`:"";return`${S5(t)}?${Er(o).slice(1)}${c}`}function S5({config:t}){return t.emulator?py(t,_5):`https://${t.authDomain}/${b5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class T5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HC,this._completeRedirectFn=$U,this._overrideRedirectResult=qU}async _openPopup(e,n,i,s){var r;Si((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Lb(e,n,i,Vm(),s);return v5(e,a,by())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Lb(e,n,i,Vm(),s);return NU(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await f5(e),i=new XU(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wf,{type:Wf},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Wf];a!==void 0&&n(!!a),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DC()||TC()||yy()}}const E5=T5;var Ub="@firebase/auth",Pb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A5(t){$s(new hs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:o}=i.options;X(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IC(t)},c=new Y6(i,s,a,l);return nU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$s(new hs("auth-internal",e=>{const n=Rr(e.getProvider("auth").getImmediate());return(i=>new C5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Ub,Pb,N5(t)),Gn(Ub,Pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=5*60,D5=YT("authIdTokenMaxAge")||R5;let Vb=null;const I5=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>D5)return;const s=n==null?void 0:n.token;Vb!==s&&(Vb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function k5(t=Mg()){const e=md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tU(t,{popupRedirectResolver:E5,persistence:[LU,zC,HC]}),i=YT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=I5(a.toString());bU(n,r,()=>r(n.currentUser)),xU(n,o=>r(o))}}const s=FT("auth");return s&&iU(n,`http://${s}`),n}function O5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}W6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=qn("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",O5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A5("Browser");const KC={apiKey:"AIzaSyC9LA_PFA6KZ7s8IlQdJuolA0gaBm8kgNI",authDomain:"simply-louie.firebaseapp.com",databaseURL:"https://simply-louie-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"simply-louie",storageBucket:"simply-louie.firebasestorage.app",messagingSenderId:"822487405638",appId:"1:822487405638:web:f72ec1e2a915e470266647"},XC=Og(KC),wn=y6(XC),io=k5(XC);vU(io,zC);const $f={login:async(t,e)=>(await yU(io,t,e)).user,logout:async()=>{await wU(io)},getCurrentUser:()=>io.currentUser,onAuthStateChange:t=>_U(io,t)},qt={saveRSVP:async t=>{const e=_n(wn,`rsvps/${t.id}`);await pa(e,t)},subscribeToRSVPs:t=>{const e=_n(wn,"rsvps");return sc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>ac(e)},deleteRSVP:async t=>{const e=_n(wn,`rsvps/${t}`);await xb(e)},updateContent:async t=>{const e=_n(wn,"content");await pa(e,t)},subscribeToContent:t=>{const e=_n(wn,"content");return sc(e,n=>{const i=n.val();i&&t(i)}),()=>ac(e)},saveNote:async t=>{const e=_n(wn,`notes/${t.id}`);await pa(e,t)},deleteNote:async t=>{const e=_n(wn,`notes/${t}`);await pa(e,null)},subscribeToNotes:t=>{const e=_n(wn,"notes");return sc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>ac(e)},saveGuestbookEntry:async t=>{const e=_n(wn,`guestbook/${t.id}`);await pa(e,t)},deleteGuestbookEntry:async t=>{const e=_n(wn,`guestbook/${t}`);await xb(e)},subscribeToGuestbook:t=>{const e=_n(wn,"guestbook");return sc(e,n=>{const i=n.val(),s=i?Object.values(i):[];s.sort((a,r)=>new Date(r.date).getTime()-new Date(a.date).getTime()),t(s)}),()=>ac(e)}},M5=({isDarkMode:t})=>{const[e,n]=E.useState([]),[i,s]=E.useState(""),[a,r]=E.useState(""),[o,l]=E.useState(!1),[c,d]=E.useState(!1);E.useEffect(()=>{const f=qt.subscribeToGuestbook(n);return()=>f()},[]);const h=async f=>{if(f.preventDefault(),!i||!a)return;l(!0);const m={id:Date.now().toString(),name:i,message:a,date:new Date().toISOString(),isApproved:!0};try{await qt.saveGuestbookEntry(m),s(""),r(""),d(!1)}catch(v){console.error("Error saving guestbook entry:",v)}finally{l(!1)}};return u.jsxs("section",{id:"guestbook",className:"container mx-auto px-6 max-w-5xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Words of Love"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif-sc uppercase transition-colors duration-300 ${t?"text-white":"text-gray-800"}`,children:"Guestbook"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mt-4 mb-8"}),c?u.jsx(H.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:h,className:`max-w-xl mx-auto p-8 border border-gold/10 rounded-sm shadow-xl ${t?"bg-[#262626]":"bg-white"}`,children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("input",{required:!0,type:"text",value:i,onChange:f=>s(f.target.value),placeholder:"Your Name",className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent ${t?"border-gray-700 text-white":"border-gray-100"}`}),u.jsx("textarea",{required:!0,value:a,onChange:f=>r(f.target.value),placeholder:"Your message for the couple...",rows:4,className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent resize-none ${t?"border-gray-700 text-white":"border-gray-100"}`}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gold text-white py-3 rounded-full text-[10px] font-black uppercase tracking-widest disabled:opacity-50",children:o?"Sending...":"Post Message"}),u.jsx("button",{type:"button",onClick:()=>d(!1),className:`px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest border ${t?"border-gray-700 text-gray-400":"border-gray-100 text-gray-400"}`,children:"Cancel"})]})]})}):u.jsx(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!0),className:"bg-gold text-white px-8 py-3 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Leave a Message"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.jsx(kt,{mode:"popLayout",children:e.map(f=>u.jsxs(H.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`p-8 rounded-sm border-l-4 border-gold shadow-sm transition-all hover:shadow-md ${t?"bg-[#262626]":"bg-gold/5"}`,children:[u.jsxs("p",{className:`text-sm italic mb-6 leading-relaxed font-body ${t?"text-gray-300":"text-gray-700"}`,children:['"',f.message,'"']}),u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-serif text-gold text-lg",children:f.name}),u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold",children:new Date(f.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]}),u.jsx("i",{className:"fa-solid fa-quote-right text-gold/20 text-2xl"})]})]},f.id))})}),e.length===0&&!c&&u.jsxs("div",{className:"text-center py-20 opacity-30",children:[u.jsx("i",{className:"fa-solid fa-feather-pointed text-4xl text-gold mb-4"}),u.jsx("p",{className:"text-sm italic uppercase tracking-widest",children:"No messages yet. Be the first!"})]})]})},Kf=({children:t,id:e})=>{const n=E.useRef(null),i=TM(n,{once:!0,margin:"-100px"});return u.jsx(H.section,{ref:n,id:e,initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:"easeOut"},children:t})},j5=({src:t,index:e,setSelectedImageIndex:n})=>{const[i,s]=E.useState(!1),[a,r]=E.useState(!1);return u.jsxs(H.div,{whileHover:{y:-5,scale:1.02},onClick:()=>!a&&n(e),className:`aspect-square overflow-hidden relative shadow-lg rounded-sm bg-gray-100 ${a?"cursor-not-allowed":"cursor-pointer"}`,children:[!i&&!a&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 animate-shimmer",style:{backgroundSize:"200% 100%"}}),a?u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 text-gray-400",children:[u.jsx("i",{className:"fa-solid fa-image-slash text-3xl mb-2"}),u.jsx("span",{className:"text-xs",children:"Image unavailable"})]}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:t,alt:`Gallery ${e}`,className:`w-full h-full object-cover transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onError:()=>r(!0),loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gold/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-expand text-white text-2xl"})})]})]})},L5=({content:t,isDarkMode:e})=>{const[n,i]=E.useState(null);E.useEffect(()=>{const r=o=>{n!==null&&(o.key==="Escape"&&i(null),o.key==="ArrowRight"&&s(),o.key==="ArrowLeft"&&a())};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n]);const s=()=>{n!==null&&i((n+1)%t.galleryImages.length)},a=()=>{n!==null&&i((n-1+t.galleryImages.length)%t.galleryImages.length)};return u.jsxs("div",{className:"space-y-24",children:[u.jsx(Kf,{id:"story",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Chapter One"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Story"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mb-10"}),u.jsx("p",{className:`text-lg md:text-xl leading-relaxed font-light ${e?"text-gray-300":"text-gray-700"}`,style:{whiteSpace:"pre-line"},children:t.ourStory})]})})}),u.jsx(Kf,{id:"timeline",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Grand Affair"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Timeline"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-px bg-gold/20"}),t.timelineItems&&t.timelineItems.map((r,o)=>u.jsxs(H.div,{initial:{opacity:0,x:o%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:o*.1},className:`relative flex items-center mb-16 ${o%2===0?"md:flex-row-reverse md:text-left":"md:flex-row md:text-right"}`,children:[u.jsx("div",{className:"w-full md:w-5/12 px-6",children:u.jsxs("div",{className:`p-6 rounded-lg border ${e?"bg-[#1a1a1a] border-gold/20":"bg-champagne/10 border-gold/30"} backdrop-blur-sm`,children:[u.jsx("span",{className:"text-gold text-xs uppercase tracking-widest font-bold font-body block mb-2",children:r.time}),u.jsx("h3",{className:`text-2xl font-cursive mb-2 ${e?"text-white":"text-gray-800"}`,children:r.event}),u.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.description})]})}),u.jsx("div",{className:`w-4 h-4 rounded-full bg-gold border-4 absolute left-1/2 transform -translate-x-1/2 z-10 ${e?"border-[#262626]":"border-white"}`}),u.jsx("div",{className:"hidden md:block w-5/12"})]},o))]})]})})}),u.jsx(Kf,{id:"gallery",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Captured Moments"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Gallery"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.galleryImages.map((r,o)=>u.jsx(j5,{src:r,index:o,setSelectedImageIndex:i},o))}),t.googlePhotosLink&&u.jsx("div",{className:"text-center mt-12",children:t.googlePhotosLinkEnabled!==!1?u.jsxs("a",{href:t.googlePhotosLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gold text-white px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 transition-all",children:[u.jsx("i",{className:"fa-brands fa-google mr-2"}),"View Shared Album"]}):u.jsxs(H.button,{whileTap:{x:[-10,10,-10,10,0]},transition:{duration:.4},className:"inline-block bg-gray-400 text-gray-600 px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg cursor-not-allowed opacity-60",title:"Album is currently locked",children:[u.jsx("i",{className:"fa-solid fa-lock mr-2"}),"Shared Album Locked"]})})]})})}),u.jsx(M5,{isDarkMode:e}),u.jsx(kt,{children:n!==null&&u.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(null),className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4",children:[u.jsx("button",{onClick:r=>{r.stopPropagation(),i(null)},className:"absolute top-4 right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-xmark"})}),u.jsx("button",{onClick:r=>{r.stopPropagation(),a()},className:"absolute left-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-chevron-left"})}),u.jsx("button",{onClick:r=>{r.stopPropagation(),s()},className:"absolute right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-chevron-right"})}),u.jsx("img",{src:t.galleryImages[n],alt:`Gallery ${n}`,className:"max-w-full max-h-full object-contain",onClick:r=>r.stopPropagation()})]})})]})},U5=({onAddRSVP:t,isDarkMode:e})=>{const[n,i]=E.useState({name:"",email:"",status:ie.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),[s,a]=E.useState(!1),r=()=>{const d=Date.now()+3e3,h={startVelocity:30,spread:360,ticks:60,zIndex:0},f=(v,_)=>Math.random()*(_-v)+v,m=setInterval(function(){const v=d-Date.now();if(v<=0)return clearInterval(m);const _=50*(v/3e3),w=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Fa({...h,particleCount:_,origin:{x:f(.1,.3),y:Math.random()-.2},colors:w}),Fa({...h,particleCount:_,origin:{x:f(.7,.9),y:Math.random()-.2},colors:w})},250);Fa({particleCount:150,spread:70,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},o=c=>{c.preventDefault();const d={id:Date.now().toString(),...n,timestamp:new Date().toISOString()};t(d),a(!0),n.status===ie.ATTENDING&&r()},l=()=>{i({name:"",email:"",status:ie.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),a(!1)};return u.jsx("div",{className:"container mx-auto px-6 max-w-2xl",children:u.jsx(kt,{mode:"wait",children:s?u.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-16 shadow-[0_50px_100px_rgba(212,175,55,0.2)] border border-gold/30 text-center rounded-sm relative overflow-hidden ${e?"bg-[#262626]":"bg-white"}`,children:[u.jsx(H.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-24 h-24 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner border border-gold/20",children:u.jsx("i",{className:"fa-solid fa-crown text-gold text-4xl"})}),u.jsx("h2",{className:`text-4xl font-serif mb-6 tracking-tight ${e?"text-white":"text-gray-800"}`,children:"Response Recorded"}),u.jsx("div",{className:"w-12 h-px bg-gold mx-auto mb-8"}),u.jsx("p",{className:"text-gray-500 mb-10 leading-relaxed font-light italic max-w-sm mx-auto font-body",children:n.status===ie.ATTENDING?"We are delighted to have you join us. Your seat in the Grand Ballroom has been reserved with honor.":"We are sorry you can't make it. Your well wishes are deeply appreciated and will be shared with the couple."}),u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gold font-black flex items-center gap-3 font-body",children:[u.jsx("span",{className:"w-2 h-2 bg-gold rounded-full animate-ping"}),"Invitation Status Updated"]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-gold text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body",children:"Enter Portal"}),u.jsxs("a",{href:"https://calendar.google.com/calendar/render?action=TEMPLATE&text=Florie+%26+Louie%27s+Wedding&dates=20260704T150000Z/20260704T230000Z&details=A+Celebration+of+Love&location=Archdiocesan+Shrine+of+St.+Therese,+Cebu+City",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body flex items-center gap-2",children:[u.jsx("i",{className:"fa-brands fa-google"})," Add to Calendar"]}),u.jsx("button",{onClick:l,className:"bg-transparent border border-gold/20 text-gold px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-gold/5 transition-all font-body",children:"Edit Response"})]})]})]},"success"):u.jsxs(H.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9,filter:"blur(10px)"},className:`p-10 md:p-16 shadow-[0_40px_100px_rgba(0,0,0,0.1)] relative border border-gold/5 rounded-sm overflow-hidden transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:[u.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gold/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Union of Souls"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif mb-4 ${e?"text-white":"text-gray-800"}`,children:"Reservation"}),u.jsx("div",{className:"w-12 h-px bg-gold/30 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest italic font-body",children:"Kindly respond by July 15, 2025"})]}),u.jsxs("form",{onSubmit:o,className:"space-y-10",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Guest Full Name"}),u.jsx("input",{required:!0,type:"text",value:n.name,onChange:c=>i(d=>({...d,name:c.target.value})),className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-lg font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"e.g. Julianna Vancer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-4 font-black text-gray-400 font-body",children:"Attendance Selection"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"With Pleasure",value:ie.ATTENDING,icon:"fa-heart"},{label:"With Regret",value:ie.NOT_ATTENDING,icon:"fa-envelope-open"},{label:"Undecided",value:ie.UNDECIDED,icon:"fa-hourglass"}].map(c=>u.jsxs("button",{type:"button",onClick:()=>i(d=>({...d,status:c.value})),className:`flex flex-col items-center justify-center py-6 px-4 border-2 transition-all duration-300 rounded-sm group ${n.status===c.value?"bg-gold border-gold text-white shadow-lg scale-105":e?"bg-[#1a1a1a] border-gray-700 text-gray-400 hover:border-gold/30 hover:text-gold":"bg-white border-gray-50 text-gray-400 hover:border-gold/30 hover:text-gold"}`,children:[u.jsx("i",{className:`fa-solid ${c.icon} mb-3 text-lg ${n.status===c.value?"text-white":"text-gold/30 group-hover:text-gold"}`}),u.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest font-body",children:c.label})]},c.value))})]}),n.status===ie.UNDECIDED&&u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:["Email Address ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{required:!0,type:"email",value:n.email,onChange:c=>i(d=>({...d,email:c.target.value})),className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-lg font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"your@email.com"}),u.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:"Required for follow-up"})]}),n.status===ie.ATTENDING&&u.jsxs(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-6",children:[u.jsxs("div",{className:`flex items-center gap-3 p-6 border-l-4 border-gold rounded-sm ${e?"bg-[#1a1a1a]":"bg-gray-50"}`,children:[u.jsx("input",{type:"checkbox",id:"plusOne",checked:n.plusOne,onChange:c=>i(d=>({...d,plusOne:c.target.checked})),className:"accent-gold h-5 w-5 cursor-pointer"}),u.jsx("label",{htmlFor:"plusOne",className:"text-[11px] uppercase tracking-[0.2em] font-bold text-gray-500 cursor-pointer font-body",children:"I will be accompanied by a guest (+1)"})]}),n.plusOne&&u.jsxs(H.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group pl-6",children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Plus One Name"}),u.jsx("input",{required:!0,type:"text",value:n.plusOneName,onChange:c=>i(d=>({...d,plusOneName:c.target.value})),className:`w-full border-b-2 py-2 focus:border-gold outline-none transition-all text-base font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"Companion's full name"})]})]}),n.status===ie.NOT_ATTENDING&&u.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-6 border-l-4 border-gold/30 rounded-sm italic text-gray-400 text-sm font-body ${e?"bg-black/20":"bg-gray-50"}`,children:u.jsx("p",{className:"leading-relaxed",children:`"We'll miss you, but we'll carry your well-wishes in our hearts. Pour a glass for us at home! "`})}),u.jsxs("button",{type:"submit",className:"w-full py-6 bg-gold text-white uppercase tracking-[0.5em] font-black hover:bg-[#b8962d] shadow-[0_20px_40px_rgba(212,175,55,0.3)] transition-all transform hover:-translate-y-1 rounded-sm text-xs flex items-center justify-center gap-4 font-body",children:["Submit Response ",u.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})]},"form")})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebasestorage.googleapis.com",ZC="storageBucket",P5=2*60*1e3,V5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends Ei{constructor(e,n,i=0){super(Xf(e),`Firebase Storage: ${n} (${Xf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function Xf(t){return"storage/"+t}function wy(){const t="An unknown error occurred, please check the error payload for server response.";return new Be(ze.UNKNOWN,t)}function z5(t){return new Be(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function B5(t){return new Be(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(ze.UNAUTHENTICATED,t)}function F5(){return new Be(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G5(t){return new Be(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function q5(){return new Be(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y5(){return new Be(ze.CANCELED,"User canceled the upload/download.")}function W5(t){return new Be(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function $5(t){return new Be(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function K5(){return new Be(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZC+"' property when initializing the app?")}function X5(){return new Be(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Q5(){return new Be(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Z5(t){return new Be(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hm(t){return new Be(ze.INVALID_ARGUMENT,t)}function JC(){return new Be(ze.APP_DELETED,"The Firebase app was deleted.")}function J5(t){return new Be(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Io(t,e){return new Be(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wr(t){throw new Be(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Tt.makeFromUrl(e,n)}catch{return new Tt(e,"")}if(i.path==="")return i;throw $5(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const r="(/(.*))?$",o=new RegExp("^gs://"+s+r,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},_=n===QC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${_}/${s}/${w}`,"i"),y=[{regex:o,indices:l,postModify:a},{regex:m,indices:v,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<y.length;b++){const C=y[b],D=C.regex.exec(e);if(D){const A=D[C.indices.bucket];let N=D[C.indices.path];N||(N=""),i=new Tt(A,N),C.postModify(i);break}}if(i==null)throw W5(e);return i}}class eP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e,n){let i=1,s=null,a=null,r=!1,o=0;function l(){return o===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function f(){a&&clearTimeout(a)}function m(w,...g){if(c){f();return}if(w){f(),d.call(null,w,...g);return}if(l()||r){f(),d.call(null,w,...g);return}i<64&&(i*=2);let y;o===1?(o=2,y=0):y=(i+Math.random())*1e3,h(y)}let v=!1;function _(w){v||(v=!0,f(),!c&&(s!==null?(w||(o=2),clearTimeout(s),h(0)):w||(o=1)))}return h(0),a=setTimeout(()=>{r=!0,_(!0)},n),_}function nP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){return t!==void 0}function sP(t){return typeof t=="object"&&!Array.isArray(t)}function Sy(t){return typeof t=="string"||t instanceof String}function zb(t){return Ty()&&t instanceof Blob}function Ty(){return typeof Blob<"u"}function Fm(t,e,n,i){if(i<e)throw Hm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Hm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function eN(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bs||(Bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,i,s,a,r,o,l,c,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=r,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,_)=>{this.resolve_=v,this.reject_=_,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new oc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const r=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(r),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(r),this.pendingConnection_=null;const o=a.getErrorCode()===Bs.NO_ERROR,l=a.getStatus();if(!o||aP(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Bs.ABORT;i(!1,new oc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new oc(c,a))})},n=(i,s)=>{const a=this.resolve_,r=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());iP(l)?a(l):a()}catch(l){r(l)}else if(o!==null){const l=wy();l.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,l)):r(l)}else if(s.canceled){const l=this.appDelete_?JC():Y5();r(l)}else{const l=q5();r(l)}};this.canceled_?n(!1,new oc(!1,null,!0)):this.backoffId_=tP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function oP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dP(t,e,n,i,s,a,r=!0,o=!1){const l=eN(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return cP(d,e),oP(d,n),lP(d,a),uP(d,i),new rP(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hP(...t){const e=fP();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Ty())return new Blob(t);throw new Be(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){if(typeof atob>"u")throw Z5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qf{constructor(e,n){this.data=e,this.contentType=n||null}}function gP(t,e){switch(t){case Bn.RAW:return new Qf(tN(e));case Bn.BASE64:case Bn.BASE64URL:return new Qf(nN(t,e));case Bn.DATA_URL:return new Qf(vP(e),xP(e))}throw wy()}function tN(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=i,r=t.charCodeAt(++n);i=65536|(a&1023)<<10|r&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function yP(t){let e;try{e=decodeURIComponent(t)}catch{throw Io(Bn.DATA_URL,"Malformed data URL.")}return tN(e)}function nN(t,e){switch(t){case Bn.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Io(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Io(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pP(e)}catch(s){throw s.message.includes("polyfill")?s:Io(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class iN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Io(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=bP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function vP(t){const e=new iN(t);return e.base64?nN(Bn.BASE64,e.rest):yP(e.rest)}function xP(t){return new iN(t).contentType}function bP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){let i=0,s="";zb(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(zb(this.data_)){const i=this.data_,s=mP(i,e,n);return s===null?null:new Bi(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Bi(i,!0)}}static getBlob(...e){if(Ty()){const n=e.map(i=>i instanceof Bi?i.data_:i);return new Bi(hP.apply(null,n))}else{const n=e.map(r=>Sy(r)?gP(Bn.RAW,r).data:r.data_);let i=0;n.forEach(r=>{i+=r.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(r=>{for(let o=0;o<r.length;o++)s[a++]=r[o]}),new Bi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){let e;try{e=JSON.parse(t)}catch{return null}return sP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wP(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function sN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e){return e}class xt{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||SP}}let lc=null;function TP(t){return!Sy(t)||t.length<2?t:sN(t)}function aN(){if(lc)return lc;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(a,r){return TP(r)}const n=new xt("name");n.xform=e,t.push(n);function i(a,r){return r!==void 0?Number(r):r}const s=new xt("size");return s.xform=i,t.push(s),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),lc=t,lc}function EP(t,e){function n(){const i=t.bucket,s=t.fullPath,a=new Tt(i,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function CP(t,e,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const r=n[a];i[r.local]=r.xform(i,e[r.server])}return EP(i,t),i}function rN(t,e,n){const i=Ey(e);return i===null?null:CP(t,i,n)}function NP(t,e,n,i){const s=Ey(e);if(s===null||!Sy(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const r=encodeURIComponent;return a.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+r(d)+"/o/"+r(h),m=Ol(f,n,i),v=eN({alt:"media",token:c});return m+v})[0]}function AP(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="prefixes",Hb="items";function RP(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Bb])for(const s of n[Bb]){const a=s.replace(/\/$/,""),r=t._makeStorageReference(new Tt(e,a));i.prefixes.push(r)}if(n[Hb])for(const s of n[Hb]){const a=t._makeStorageReference(new Tt(e,s.name));i.items.push(a)}return i}function DP(t,e,n){const i=Ey(n);return i===null?null:RP(t,e,i)}class Nd{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){if(!t)throw wy()}function IP(t,e){function n(i,s){const a=rN(t,s,e);return Cy(a!==null),a}return n}function kP(t,e){function n(i,s){const a=DP(t,e,s);return Cy(a!==null),a}return n}function OP(t,e){function n(i,s){const a=rN(t,s,e);return Cy(a!==null),NP(a,s,t.host,t._protocol)}return n}function Ny(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=F5():s=H5():n.getStatus()===402?s=B5(t.bucket):n.getStatus()===403?s=G5(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function oN(t){const e=Ny(t);function n(i,s){let a=e(i,s);return i.getStatus()===404&&(a=z5(t.path)),a.serverResponse=s.serverResponse,a}return n}function MP(t,e,n,i,s){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),i&&(a.pageToken=i),s&&(a.maxResults=s);const r=e.bucketOnlyServerUrl(),o=Ol(r,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Nd(o,l,kP(t,e.bucket),c);return d.urlParams=a,d.errorHandler=Ny(e),d}function jP(t,e,n){const i=e.fullServerUrl(),s=Ol(i,t.host,t._protocol),a="GET",r=t.maxOperationRetryTime,o=new Nd(s,a,OP(t,n),r);return o.errorHandler=oN(e),o}function LP(t,e){const n=e.fullServerUrl(),i=Ol(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function r(l,c){}const o=new Nd(i,s,r,a);return o.successCodes=[200,204],o.errorHandler=oN(e),o}function UP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PP(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=UP(null,e)),i}function VP(t,e,n,i,s){const a=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function o(){let y="";for(let b=0;b<2;b++)y=y+Math.random().toString().slice(2);return y}const l=o();r["Content-Type"]="multipart/related; boundary="+l;const c=PP(e,i,s),d=AP(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Bi.getBlob(h,i,f);if(m===null)throw X5();const v={name:c.fullPath},_=Ol(a,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,p=new Nd(_,w,IP(t,n),g);return p.urlParams=v,p.headers=r,p.body=m.uploadData(),p.errorHandler=Ny(e),p}class zP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s,a){if(this.sent_)throw Wr("cannot .send() more than once");if(xs(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const r in a)a.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,a[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BP extends zP{initXhr(){this.xhr_.responseType="text"}}function Ad(){return new BP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof Tt?this._location=n:this._location=Tt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new Tt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sN(this._location.path)}get storage(){return this._service}get parent(){const e=_P(this._location.path);if(e===null)return null;const n=new Tt(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw J5(e)}}function HP(t,e,n){t._throwIfRoot("uploadBytes");const i=VP(t.storage,t._location,aN(),new Bi(e,!0),n);return t.storage.makeRequestWithTokens(i,Ad).then(s=>({metadata:s,ref:t}))}function FP(t){const e={prefixes:[],items:[]};return lN(t,e).then(()=>e)}async function lN(t,e,n){const s=await GP(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await lN(t,e,s.nextPageToken)}function GP(t,e){e!=null&&typeof e.maxResults=="number"&&Fm("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=MP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Ad)}function qP(t){t._throwIfRoot("getDownloadURL");const e=jP(t.storage,t._location,aN());return t.storage.makeRequestWithTokens(e,Ad).then(n=>{if(n===null)throw Q5();return n})}function YP(t){t._throwIfRoot("deleteObject");const e=LP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ad)}function WP(t,e){const n=wP(t._location.path,e),i=new Tt(t._location.bucket,n);return new ea(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){return/^[A-Za-z]+:\/\//.test(t)}function KP(t,e){return new ea(t,e)}function cN(t,e){if(t instanceof Ay){const n=t;if(n._bucket==null)throw K5();const i=new ea(n,n._bucket);return e!=null?cN(i,e):i}else return e!==void 0?WP(t,e):t}function XP(t,e){if(e&&$P(e)){if(t instanceof Ay)return KP(t,e);throw Hm("To use ref(service, url), the first argument must be a Storage instance.")}else return cN(t,e)}function Fb(t,e){const n=e==null?void 0:e[ZC];return n==null?null:Tt.makeFromBucketSpec(n,t)}function QP(t,e,n,i={}){t.host=`${e}:${n}`;const s=xs(e);s&&(Ng(`https://${t.host}/b`),Ag("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:WT(a,t.app.options.projectId))}class Ay{constructor(e,n,i,s,a,r=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=r,this._bucket=null,this._host=QC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P5,this._maxUploadRetryTime=V5,this._requests=new Set,s!=null?this._bucket=Tt.makeFromBucketSpec(s,this._host):this._bucket=Fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tt.makeFromBucketSpec(this._url,e):this._bucket=Fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new eP(JC());{const r=dP(e,this._appId,i,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const Gb="@firebase/storage",qb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="storage";function ZP(t,e,n){return t=Ge(t),HP(t,e,n)}function JP(t){return t=Ge(t),FP(t)}function Yb(t){return t=Ge(t),qP(t)}function e8(t){return t=Ge(t),YP(t)}function Zf(t,e){return t=Ge(t),XP(t,e)}function t8(t=Mg(),e){t=Ge(t);const i=md(t,uN).getImmediate({identifier:e}),s=GT("storage");return s&&n8(i,...s),i}function n8(t,e,n,i={}){QP(t,e,n,i)}function i8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ay(n,i,s,e,ra)}function s8(){$s(new hs(uN,i8,"PUBLIC").setMultipleInstances(!0)),Gn(Gb,qb,""),Gn(Gb,qb,"esm2020")}s8();const a8=Og(KC),Jf=t8(a8),Wb={uploadGalleryImage:async t=>{const n=`${Date.now()}_${t.name}`,i=Zf(Jf,`gallery/${n}`);return await ZP(i,t),await Yb(i)},deleteGalleryImage:async t=>{try{const n=decodeURIComponent(t).match(/\/o\/(.+?)\?/);if(n&&n[1]){const i=n[1],s=Zf(Jf,i);await e8(s)}else throw new Error("Invalid image URL format")}catch(e){throw console.error("Error deleting image:",e),e}},listGalleryImages:async()=>{const t=Zf(Jf,"gallery/"),n=(await JP(t)).items.map(s=>Yb(s));return await Promise.all(n)}},Sn=({icon:t,title:e,description:n})=>u.jsxs("div",{className:"mb-6 flex items-start gap-4 p-5 bg-gray-50 rounded-2xl border-l-4 border-gold shadow-sm",children:[u.jsx("div",{className:"text-gold text-2xl mt-1",children:u.jsx("i",{className:`fa-solid ${t}`})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-800 font-body",children:e}),u.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:n})]})]}),Tn=({label:t,value:e,onChange:n,placeholder:i})=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 font-body",children:t}),u.jsx("input",{type:"text",value:e,onChange:n,className:"w-full border border-gray-200 p-4 rounded-xl bg-white focus:border-gold focus:ring-1 focus:ring-gold outline-none transition-all text-gray-900 shadow-sm",placeholder:i})]}),r8=({content:t,onUpdateContent:e,rsvps:n,notes:i,onAddNote:s,onDeleteNote:a,onSendReminder:r,onBatchReminders:o,onDeleteRSVP:l,guestbookEntries:c,onDeleteGuestbookEntry:d,onClose:h})=>{var Or;const[f,m]=E.useState("content"),[v,_]=E.useState(""),[w,g]=E.useState(""),[p,y]=E.useState(!1),[b,C]=E.useState(null),[D,A]=E.useState(null),[N,M]=E.useState(null),[L,ve]=E.useState(""),[Oe,Bt]=E.useState("all"),[Ht,Nt]=E.useState("name-asc"),[I,U]=E.useState(new Set),[P,ue]=E.useState(null),[T,S]=E.useState(!1),[z,G]=E.useState(0),[q,W]=E.useState(!1),J=E.useMemo(()=>{const x=n.reduce((yt,vn)=>yt+(vn.status===ie.ATTENDING?1+(vn.plusOne?1:0):0),0),V=n.filter(yt=>yt.status===ie.ATTENDING).length,K=n.filter(yt=>yt.status===ie.NOT_ATTENDING).length,Xe=n.filter(yt=>yt.status===ie.UNDECIDED).length,gt=n.filter(yt=>yt.status===ie.ATTENDING&&yt.plusOne).length;return{totalGuests:x,attendingCount:V,declinedCount:K,pendingCount:Xe,plusOneCount:gt}},[n]),B=E.useMemo(()=>{let x=n.filter(V=>{var gt;const K=V.name.toLowerCase().includes(L.toLowerCase())||((gt=V.email)==null?void 0:gt.toLowerCase().includes(L.toLowerCase()))||!1,Xe=Oe==="all"||V.status===Oe;return K&&Xe});return x.sort((V,K)=>{switch(Ht){case"name-asc":return V.name.localeCompare(K.name);case"name-desc":return K.name.localeCompare(V.name);case"recent":return new Date(K.timestamp||0).getTime()-new Date(V.timestamp||0).getTime();case"status":{const Xe={[ie.ATTENDING]:0,[ie.UNDECIDED]:1,[ie.NOT_ATTENDING]:2};return Xe[V.status]-Xe[K.status]}default:return 0}}),x},[n,L,Oe,Ht]),$=E.useCallback((x,V="success")=>{ue({show:!0,message:x,type:V}),setTimeout(()=>ue(null),3e3)},[]),O=E.useCallback(()=>{const x=["Name","Email","Status","Plus One","Notes","Date"],V=B.map(vn=>[vn.name,vn.email,vn.status,vn.plusOne?"Yes":"No",vn.notes||"",vn.timestamp||""]),K=[x,...V].map(vn=>vn.map(fN=>`"${fN}"`).join(",")).join(`
`),Xe=new Blob([K],{type:"text/csv"}),gt=URL.createObjectURL(Xe),yt=document.createElement("a");yt.href=gt,yt.download=`guest-list-${new Date().toISOString().split("T")[0]}.csv`,yt.click(),URL.revokeObjectURL(gt),$("Guest list exported successfully!","success")},[B,$]),Y=E.useCallback(()=>{I.size===B.length?U(new Set):U(new Set(B.map(x=>x.id)))},[B,I]),ee=E.useCallback(x=>{const V=new Set(I);V.has(x)?V.delete(x):V.add(x),U(V)},[I]),re=E.useCallback(()=>{I.size!==0&&confirm(`Delete ${I.size} selected guests?`)&&(I.forEach(x=>l(x)),U(new Set),$(`${I.size} guests deleted`,"success"))},[I,l,$]),ye=E.useCallback(()=>{if(I.size===0)return;const x=n.filter(V=>I.has(V.id));M({show:!0,recipients:x,subject:"Update: Louie & Florie's Wedding",message:`Hi!

We're reaching out with some updates about our wedding...

Best,
Louie & Florie`})},[I,n]),F=(x,V)=>{e({...t,[x]:V})},tt=(x,V,K,Xe)=>{const gt=[...t[x]];gt[V]={...gt[V],[K]:Xe},F(x,gt)},Ft=(x,V)=>{const K=[...t[x]||[],V];F(x,K)},Gt=(x,V,K)=>{C({show:!0,field:x,index:V,itemName:K})},yn=()=>{if(!b)return;const{field:x,index:V}=b,K=t[x];if(Array.isArray(K)){const Xe=K.filter((gt,yt)=>yt!==V);F(x,Xe)}C(null)},Kn=(x,V,K)=>{Gt(x,V,K)},nn=()=>{if(!w.trim())return;const x={id:Date.now().toString(),text:w,completed:!1};F("checklist",[...t.checklist||[],x]),g("")},Rd=x=>{const V=(t.checklist||[]).map(K=>K.id===x?{...K,completed:!K.completed}:K);F("checklist",V)},Dd=x=>{const V=(t.checklist||[]).filter(K=>K.id!==x);F("checklist",V)},Id=()=>{y(!0),setTimeout(()=>y(!1),3e3)},Ir=async x=>{if(!(!x||x.length===0)){S(!0),G(0);try{const V=[];for(let K=0;K<x.length;K++){const Xe=x[K];if(!Xe.type.startsWith("image/")){$(`${Xe.name} is not an image file`,"error");continue}const gt=await Wb.uploadGalleryImage(Xe);V.push(gt),G((K+1)/x.length*100)}if(V.length>0){const K=[...t.galleryImages||[],...V];F("galleryImages",K),$(`Successfully uploaded ${V.length} image(s)!`,"success")}}catch(V){console.error("Upload error:",V),$("Failed to upload images. Please try again.","error")}finally{S(!1),G(0)}}},kr=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?W(!0):x.type==="dragleave"&&W(!1)},Ml=x=>{x.preventDefault(),x.stopPropagation(),W(!1),x.dataTransfer.files&&x.dataTransfer.files.length>0&&Ir(x.dataTransfer.files)},kd=async(x,V)=>{try{await Wb.deleteGalleryImage(x);const K=t.galleryImages.filter((Xe,gt)=>gt!==V);F("galleryImages",K),$("Image deleted successfully","success")}catch(K){console.error("Delete error:",K),$("Failed to delete image","error")}},Un={...t,venues:t.venues||[],socialLinks:Array.isArray(t.socialLinks)?t.socialLinks:[],checklist:t.checklist||[],openingScreen:t.openingScreen||{}};return u.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 backdrop-blur-xl relative overflow-hidden",children:[u.jsx(kt,{children:(P==null?void 0:P.show)&&u.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-24 left-1/2 -translate-x-1/2 px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest ${P.type==="success"?"bg-green-600 text-white":P.type==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:[u.jsx("i",{className:`fa-solid ${P.type==="success"?"fa-circle-check":P.type==="error"?"fa-circle-xmark":"fa-circle-info"}`})," ",P.message]})}),u.jsx(kt,{children:p&&u.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-1/2 -translate-x-1/2 bg-green-600 text-white px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest",children:[u.jsx("i",{className:"fa-solid fa-circle-check"})," Changes Published Successfully"]})}),u.jsx(kt,{children:(b==null?void 0:b.show)&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>C(null),children:u.jsx(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:"bg-white rounded-3xl p-6 md:p-10 max-w-md w-full shadow-2xl border border-gold/20",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx("i",{className:"fa-solid fa-trash-can text-red-500 text-xl md:text-2xl"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900 mb-3",children:"Confirm Deletion"}),u.jsx("p",{className:"text-sm md:text-base text-gray-500 mb-2 font-body",children:"Are you sure you want to delete:"}),u.jsxs("p",{className:"text-gold font-bold text-base md:text-lg mb-6 font-body",children:['"',b.itemName,'"']}),u.jsx("p",{className:"text-[10px] md:text-sm text-gray-400 mb-8",children:"This action cannot be undone."}),u.jsxs("div",{className:"flex gap-3 md:gap-4",children:[u.jsx("button",{onClick:()=>C(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:yn,className:"flex-1 bg-red-500 text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete"})]})]})})})}),u.jsx(kt,{children:(D==null?void 0:D.show)&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>A(null),children:u.jsx(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:"bg-white rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border border-gold/20",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-pen text-gold text-lg md:text-xl"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Edit Image URL"}),u.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Image #",D.index+1]})]})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsx(Tn,{label:"Image URL",value:D.newUrl,onChange:x=>A({...D,newUrl:x.target.value}),placeholder:"https://images.unsplash.com/..."}),D.newUrl&&D.newUrl!==D.currentUrl&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 md:p-4",children:u.jsxs("p",{className:"text-[10px] md:text-xs text-blue-800 font-body",children:[u.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),'Press "Save Changes" to update the image URL']})})]}),u.jsxs("div",{className:"flex gap-3 md:gap-4",children:[u.jsx("button",{onClick:()=>A(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:()=>{if(D.newUrl&&D.newUrl.trim()!==""&&D.newUrl!==D.currentUrl){const x=[...Un.galleryImages];x[D.index]=D.newUrl,F("galleryImages",x)}A(null)},disabled:!D.newUrl||D.newUrl.trim()===""||D.newUrl===D.currentUrl,className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 transition-all shadow-lg shadow-gold/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})})}),u.jsx(kt,{children:(N==null?void 0:N.show)&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>M(null),children:u.jsxs(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:"bg-white rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border border-gold/20 flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 shrink-0",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-paper-plane text-gold text-lg md:text-xl"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Send Email"}),u.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Targeting ",N.recipients.length," guests"]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6 md:mb-8 overflow-y-auto pr-2",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 md:p-4 border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 cursor-pointer",onClick:()=>{const x=document.getElementById("recipient-list");x&&x.classList.toggle("hidden")},children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body",children:"Recipients"}),u.jsx("i",{className:"fa-solid fa-chevron-down text-gray-400 text-xs"})]}),u.jsx("div",{id:"recipient-list",className:"hidden flex flex-wrap gap-2 transition-all",children:N.recipients.map(x=>u.jsx("span",{className:"text-[10px] bg-white border border-gray-200 px-2 py-1 rounded text-gray-600",children:x.name},x.id))}),N.recipients.length>0&&u.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[N.recipients.slice(0,3).map(x=>x.name).join(", ")," ",N.recipients.length>3&&`+ ${N.recipients.length-3} others`]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Subject Line"}),u.jsx("input",{type:"text",value:N.subject,onChange:x=>M({...N,subject:x.target.value}),className:"w-full border border-gray-200 p-3 md:p-4 rounded-xl bg-white focus:border-gold outline-none transition-all text-sm mb-2"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Message Body"}),u.jsx("textarea",{rows:6,value:N.message,onChange:x=>M({...N,message:x.target.value}),className:"w-full border border-gray-200 p-3 md:p-4 rounded-xl bg-white focus:border-gold outline-none transition-all text-sm resize-none font-body leading-relaxed"})]})]}),u.jsxs("div",{className:"flex gap-3 md:gap-4 shrink-0",children:[u.jsx("button",{onClick:()=>M(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:()=>{o(N.recipients.map(x=>x.id)),$(`Sent ${N.recipients.length} emails successfully!`,"success"),M(null)},className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 shadow-lg shadow-gold/30 transition-all",children:"Send"})]})]})})}),u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"bg-white/80 backdrop-blur-md border-b border-gray-100 p-4 md:p-8 flex justify-between items-center shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl md:text-3xl font-serif text-gray-900 leading-tight",children:t.adminPanelTitle||"Wedding CMS"}),u.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-gold font-bold mt-1",children:t.adminPanelSubtitle||"Digital Experience Architect"})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[u.jsxs("button",{onClick:Id,className:"bg-gold text-white px-3 md:px-6 py-2 md:py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:scale-105 transition-all flex items-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-cloud-arrow-up"}),u.jsx("span",{className:"hidden sm:inline",children:"Publish"})]}),u.jsx("button",{onClick:h,className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-all group",children:u.jsx("i",{className:"fa-solid fa-xmark text-gray-400 group-hover:text-gray-900 transition-colors"})})]})]}),u.jsx("div",{className:"flex flex-col md:flex-row flex-grow overflow-hidden",children:u.jsx("div",{className:"flex-grow overflow-y-auto p-4 sm:p-8 lg:p-12 bg-gray-50/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 mb-6 md:mb-10 border-b border-gray-100 pb-2",children:[{id:"content",label:"Art & Identity",icon:"fa-palette"},{id:"guests",label:"Guest Orchestrator",icon:"fa-users-gear"},{id:"lists",label:"Planning Assets",icon:"fa-list-ul"},{id:"notes",label:"Strategic Intel",icon:"fa-brain"},{id:"guestbook",label:"Legacy Wall",icon:"fa-pen-nib"}].map(x=>u.jsxs("button",{onClick:()=>m(x.id),className:`px-3 md:px-6 py-2 md:py-3 rounded-t-xl text-[10px] uppercase font-black tracking-widest transition-all relative ${f===x.id?"text-gray-900":"text-gray-600 hover:text-gray-900"}`,children:[u.jsx("i",{className:`fa-solid ${x.icon} mr-2`}),u.jsx("span",{className:"hidden sm:inline",children:x.label}),u.jsx("span",{className:"sm:hidden",children:x.label.split(" ")[0]}),f===x.id&&u.jsx(H.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-1 bg-gold rounded-full"})]},x.id))}),f==="content"&&u.jsxs("div",{className:"space-y-6 md:space-y-10 animate-fadeIn",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-display",title:"Main Branding & Hero",description:"Configure the primary titles and visual backdrop for your wedding site."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[u.jsx(Tn,{label:"Hero Section Title",value:t.heroTitle,onChange:x=>F("heroTitle",x.target.value)}),u.jsx(Tn,{label:"Hero Background Image URL",value:t.heroImageUrl,onChange:x=>F("heroImageUrl",x.target.value),placeholder:"https://unsplash.com/..."}),u.jsx(Tn,{label:"Seal Initials (SL/FL)",value:(Or=t.openingScreen)==null?void 0:Or.sealInitials,onChange:x=>F("openingScreen",{...t.openingScreen,sealInitials:x.target.value})}),u.jsx(Tn,{label:"Admin Panel Header Title",value:t.adminPanelTitle,onChange:x=>F("adminPanelTitle",x.target.value)}),u.jsx(Tn,{label:"Admin Panel Header Subtitle",value:t.adminPanelSubtitle,onChange:x=>F("adminPanelSubtitle",x.target.value)})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-music",title:"Background Music",description:"Choose from curated romantic tracks or add your own custom music URL."}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 font-body mb-4 block",children:"Curated Wedding Tracks"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Romantic Piano",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",icon:"fa-piano"},{name:"Classical Romance",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",icon:"fa-violin"},{name:"Acoustic Love",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",icon:"fa-guitar"},{name:"Elegant Strings",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",icon:"fa-music"}].map(x=>u.jsx("button",{onClick:()=>F("musicUrl",x.url),className:`p-4 rounded-xl border-2 transition-all text-left group hover:border-gold hover:bg-gold/5 ${t.musicUrl===x.url?"border-gold bg-gold/10":"border-gray-200 bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center transition-all ${t.musicUrl===x.url?"bg-gold text-white":"bg-white text-gray-400 group-hover:bg-gold/20 group-hover:text-gold"}`,children:u.jsx("i",{className:`fa-solid ${x.icon}`})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-sm text-gray-800",children:x.name}),u.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:"Preview Available"})]}),t.musicUrl===x.url&&u.jsx("i",{className:"fa-solid fa-check text-gold ml-auto"})]})},x.url))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 font-body mb-2 block",children:"Custom Music URL"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("input",{type:"text",value:t.musicUrl,onChange:x=>F("musicUrl",x.target.value),placeholder:"https://your-music-url.com/song.mp3",className:"flex-1 border border-gray-200 p-4 rounded-xl bg-white focus:border-gold focus:ring-1 focus:ring-gold outline-none transition-all text-gray-900 shadow-sm"}),u.jsxs("button",{onClick:()=>{if(t.musicUrl){const x=new Audio(t.musicUrl);x.volume=.5,x.play().catch(()=>$("Could not play audio","error")),setTimeout(()=>x.pause(),5e3)}},className:"w-full sm:w-auto px-6 py-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-sm font-bold",title:"Preview 5 seconds",children:[u.jsx("i",{className:"fa-solid fa-play"})," Preview"]})]}),u.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[u.jsx("i",{className:"fa-solid fa-info-circle mr-1"}),"Supports MP3, OGG, and WAV formats. Use a direct file URL."]})]}),t.musicUrl&&u.jsxs("div",{className:"bg-gold/5 border border-gold/20 rounded-xl p-4 md:p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/20 rounded-full flex items-center justify-center shrink-0",children:u.jsx("i",{className:"fa-solid fa-music text-gold text-lg md:text-xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Currently Selected"}),u.jsx("div",{className:"text-xs md:text-sm text-gray-800 font-mono truncate",children:t.musicUrl})]}),u.jsxs("button",{onClick:()=>F("musicUrl",""),className:"w-full sm:w-auto px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all text-[10px] font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-trash mr-2"}),"Remove"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-map-marked-alt",title:"Venue Orchestration",description:"Manage ceremony and reception locations."}),u.jsx(Sn,{icon:"fa-gem",title:"Wedding Foundation",description:"Update the key details that anchor your entire website."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[u.jsx(Tn,{label:"Couple Names",value:t.coupleNames,onChange:x=>F("coupleNames",x.target.value)}),u.jsx(Tn,{label:"Public Date String",value:t.weddingDate,onChange:x=>F("weddingDate",x.target.value)}),u.jsx(Tn,{label:"Wedding Time",value:t.weddingTime,onChange:x=>F("weddingTime",x.target.value),placeholder:"3:00 PM"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 font-body",children:"Countdown Timer (Asia/Manila Time)"}),u.jsx("input",{type:"datetime-local",value:t.countdownDate.substring(0,16),onChange:x=>F("countdownDate",x.target.value),className:"w-full border border-gray-200 p-4 rounded-xl bg-white focus:border-gold outline-none transition-all text-gray-900 shadow-sm"})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Tn,{label:"Footer Text",value:t.footerText||"",onChange:x=>F("footerText",x.target.value),placeholder:"Handcrafted with love for the celebration of a lifetime"})})]})]})]}),f==="lists"&&u.jsxs("div",{className:"space-y-6 md:space-y-12 animate-fadeIn",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsx(Sn,{icon:"fa-clock",title:"Timeline Orchestrator",description:"Manage the moments of your celebration."}),u.jsx("button",{onClick:()=>Ft("timelineItems",{time:"0:00 PM",event:"New Event",description:"Detail"}),className:"w-full sm:w-auto bg-gold text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Add Event"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Un.timelineItems.map((x,V)=>u.jsxs("div",{className:"p-4 md:p-6 border border-gray-100 rounded-2xl bg-gray-50 relative group",children:[u.jsx("button",{onClick:()=>Kn("timelineItems",V,x.event||"Event"),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-all",children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsx("input",{value:x.time,onChange:K=>tt("timelineItems",V,"time",K.target.value),className:"w-full mb-2 text-gold font-bold bg-white border border-gray-200 rounded px-3 py-2 outline-none focus:border-gold text-sm"}),u.jsx("input",{value:x.event,onChange:K=>tt("timelineItems",V,"event",K.target.value),className:"w-full mb-3 text-lg font-cursive bg-white border border-gray-200 rounded px-3 py-2 outline-none focus:border-gold"}),u.jsx("textarea",{value:x.description,onChange:K=>tt("timelineItems",V,"description",K.target.value),className:"w-full text-xs text-gray-600 bg-white border border-gray-200 rounded px-3 py-2 outline-none focus:border-gold resize-none",rows:2})]},V))})]}),u.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[u.jsxs("div",{className:"shrink-0",children:[u.jsx(Sn,{icon:"fa-images",title:"Gallery Curator",description:"Upload photos or link to external albums."}),u.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-body",children:[u.jsx("i",{className:"fa-solid fa-image mr-2"}),Un.galleryImages.length," ",Un.galleryImages.length===1?"image":"images"," in gallery"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:flex gap-3 w-full md:w-auto items-end",children:[u.jsx("div",{className:"flex-grow",children:u.jsx(Tn,{label:"Google Photos Shared Link",value:t.googlePhotosLink,onChange:x=>F("googlePhotosLink",x.target.value),placeholder:"https://photos.app.goo.gl/..."})}),u.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:u.jsxs("button",{onClick:()=>F("googlePhotosLinkEnabled",!(t.googlePhotosLinkEnabled??!0)),className:`flex-1 sm:flex-none px-4 py-4 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all sm:h-[58px] flex items-center justify-center gap-2 ${t.googlePhotosLinkEnabled!==!1?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,title:t.googlePhotosLinkEnabled!==!1?"Album link is visible to guests":"Album link is hidden from guests",children:[u.jsx("i",{className:`fa-solid ${t.googlePhotosLinkEnabled!==!1?"fa-lock-open":"fa-lock"}`}),u.jsx("span",{className:"sm:hidden lg:inline",children:t.googlePhotosLinkEnabled!==!1?"Unlocked":"Locked"})]})})]})]}),u.jsxs("div",{className:`relative mb-8 border-2 border-dashed rounded-2xl p-8 text-center transition-all ${q?"border-gold bg-gold/5":"border-gray-200 hover:border-gold/50"} ${T?"opacity-50 pointer-events-none":""}`,onDragEnter:kr,onDragLeave:kr,onDragOver:kr,onDrop:Ml,children:[u.jsx("input",{type:"file",id:"gallery-upload",multiple:!0,accept:"image/*",onChange:x=>Ir(x.target.files),className:"hidden",disabled:T}),T?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gold/20 rounded-full flex items-center justify-center mx-auto",children:u.jsx("i",{className:"fa-solid fa-spinner fa-spin text-gold text-2xl"})}),u.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Uploading to Firebase Storage..."}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs mx-auto",children:u.jsx("div",{className:"bg-gold h-2 rounded-full transition-all duration-300",style:{width:`${z}%`}})}),u.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(z),"%"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-gray-400 text-2xl"})}),u.jsx("h3",{className:"text-lg font-serif text-gray-800 mb-2",children:"Upload Images"}),u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop images here, or click to browse"}),u.jsxs("label",{htmlFor:"gallery-upload",className:"inline-block bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 cursor-pointer transition-all",children:[u.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Select Images"]}),u.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supports JPG, PNG, WebP  Max 10MB per file"})]})]}),Un.galleryImages.length===0?u.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-gray-200 rounded-2xl",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"fa-solid fa-image text-gray-400 text-2xl"})}),u.jsx("h3",{className:"text-lg font-serif text-gray-600 mb-2",children:"No Images Yet"}),u.jsx("p",{className:"text-sm text-gray-400 mb-6",children:'Click "Add Photo" to start building your gallery'})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Un.galleryImages.map((x,V)=>u.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden shadow-sm border-2 border-gray-100 hover:border-gold/30 transition-all",children:[u.jsx("img",{src:x,className:"w-full h-full object-cover",alt:"Gallery preview",loading:"lazy"}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all flex flex-col p-3 justify-between",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("span",{className:"text-white text-xs bg-black/50 px-2 py-1 rounded font-body",children:["#",V+1]}),u.jsx("button",{onClick:()=>kd(x,V),className:"text-white hover:text-red-400 bg-black/50 w-8 h-8 rounded-full flex items-center justify-center transition-all",children:u.jsx("i",{className:"fa-solid fa-trash-can"})})]}),u.jsx("div",{className:"space-y-2",children:u.jsxs("button",{onClick:K=>{K.stopPropagation(),A({show:!0,index:V,currentUrl:x,newUrl:x})},className:"w-full bg-white/90 hover:bg-white text-gray-800 px-3 py-2 rounded text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all shadow-sm",children:[u.jsx("i",{className:"fa-solid fa-pen"})," Edit URL"]})})]})]},V))})]})]}),f==="guests"&&u.jsxs("div",{className:"space-y-10 animate-fadeIn",children:[u.jsxs("div",{className:"bg-white rounded-3xl p-10 shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-chart-pie",title:"Guest Analytics",description:"Live statistics of your wedding attendance."}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[{label:"Total Souls",value:J.totalGuests,color:"text-gold",icon:"fa-users",bg:"bg-gold/10"},{label:"Attending",value:J.attendingCount,color:"text-green-500",icon:"fa-heart",bg:"bg-green-50"},{label:"Declined",value:J.declinedCount,color:"text-red-400",icon:"fa-heart-crack",bg:"bg-red-50"},{label:"Pending",value:J.pendingCount,color:"text-gray-400",icon:"fa-question",bg:"bg-gray-50"},{label:"Plus Ones",value:J.plusOneCount,color:"text-blue-500",icon:"fa-user-plus",bg:"bg-blue-50"}].map(x=>u.jsxs("div",{className:`p-6 ${x.bg} rounded-2xl border border-gray-100 flex flex-col items-center transition-all hover:scale-105`,children:[u.jsx("i",{className:`fa-solid ${x.icon} ${x.color} mb-3 text-xl`}),u.jsx("div",{className:"text-3xl font-serif-sc mb-1",children:x.value}),u.jsx("div",{className:"text-[10px] uppercase tracking-widest font-bold text-gray-500",children:x.label})]},x.label))})]}),u.jsxs("div",{className:"bg-white rounded-3xl p-10 shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-users-gear",title:"Guest List Management",description:"Advanced search, filter, and bulk operations."}),u.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx("i",{className:"fa-solid fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search by name or email...",value:L,onChange:x=>ve(x.target.value),className:"w-full pl-12 pr-10 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:border-gold outline-none transition-all text-sm"}),L&&u.jsx("button",{onClick:()=>ve(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gold",children:u.jsx("i",{className:"fa-solid fa-xmark"})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2",children:[u.jsxs("select",{value:Oe,onChange:x=>Bt(x.target.value),className:"flex-1 md:flex-none px-3 md:px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:border-gold outline-none text-xs md:text-sm",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:ie.ATTENDING,children:"Attending"}),u.jsx("option",{value:ie.NOT_ATTENDING,children:"Declined"}),u.jsx("option",{value:ie.UNDECIDED,children:"Pending"})]}),u.jsxs("select",{value:Ht,onChange:x=>Nt(x.target.value),className:"flex-1 md:flex-none px-3 md:px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:border-gold outline-none text-xs md:text-sm",children:[u.jsx("option",{value:"name-asc",children:"Name A-Z"}),u.jsx("option",{value:"name-desc",children:"Name Z-A"}),u.jsx("option",{value:"recent",children:"Recent First"}),u.jsx("option",{value:"status",children:"By Status"})]}),u.jsxs("button",{onClick:O,className:"col-span-2 md:col-span-1 px-4 md:px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-xs md:text-sm font-bold",children:[u.jsx("i",{className:"fa-solid fa-download"}),u.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),u.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),I.size>0&&u.jsxs(H.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gold/10 border border-gold/30 rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("i",{className:"fa-solid fa-check-double text-gold"}),u.jsxs("span",{className:"font-bold text-xs md:text-sm",children:[I.size," guest",I.size>1?"s":""," selected"]})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap w-full md:w-auto",children:[u.jsxs("button",{onClick:ye,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-paper-plane"}),u.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),u.jsxs("button",{onClick:re,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-trash"}),u.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),u.jsx("button",{onClick:()=>U(new Set),className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all text-[10px] md:text-xs font-bold uppercase",children:"Clear"})]})]}),J.pendingCount>0&&u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("i",{className:"fa-solid fa-clock text-yellow-600"}),u.jsxs("span",{className:"text-xs md:text-sm text-yellow-800",children:[J.pendingCount," guest",J.pendingCount>1?"s":""," haven't responded yet"]})]}),u.jsxs("button",{onClick:()=>{const x=n.filter(V=>V.status===ie.UNDECIDED);M({show:!0,recipients:x,subject:"Quick Reminder: Louie & Florie's Wedding",message:`Hi!

We hope you're doing well. We're finalizing our wedding numbers and wanted to check if you'll be able to join us.

Please let us know by visiting our website.

Best,
Louie & Florie`})},className:"w-full md:w-auto px-4 md:px-6 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-paper-plane"})," Follow Up All"]})]}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-100 text-left",children:[u.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:u.jsx("input",{type:"checkbox",checked:I.size===B.length&&B.length>0,onChange:Y,className:"w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer"})}),u.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Guest"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Status"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Email"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black text-right",children:"Actions"})]})}),u.jsxs("tbody",{children:[B.map(x=>u.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-5 pl-4",children:u.jsx("input",{type:"checkbox",checked:I.has(x.id),onChange:()=>ee(x.id),className:"w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer"})}),u.jsxs("td",{className:"py-5 pl-4",children:[u.jsx("div",{className:"font-bold text-gray-800",children:x.name}),x.plusOne&&u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[u.jsx("i",{className:"fa-solid fa-user-plus text-[10px]"})," +1 Guest"]})]}),u.jsx("td",{className:"py-5",children:u.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${x.status===ie.ATTENDING?"bg-green-100 text-green-600":x.status===ie.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.status===ie.ATTENDING?"Accepted":x.status===ie.NOT_ATTENDING?"Declined":"Pending"})}),u.jsx("td",{className:"py-5 text-sm text-gray-500 font-body",children:x.email}),u.jsx("td",{className:"py-5 text-right",children:u.jsxs("div",{className:"flex gap-2 items-center justify-end",children:[x.notes&&u.jsxs("div",{className:"text-xs text-gray-500 italic max-w-xs truncate mr-2",title:x.notes,children:['"',x.notes,'"']}),u.jsx("button",{onClick:()=>r(x.id),className:"text-gray-300 hover:text-gold transition-colors p-2",title:"Send Reminder",children:u.jsx("i",{className:"fa-solid fa-bell"})}),u.jsx("button",{onClick:()=>l(x.id),className:"text-gray-300 hover:text-red-500 transition-colors p-2",title:"Delete Guest",children:u.jsx("i",{className:"fa-solid fa-trash-can"})})]})})]},x.id)),B.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-20 text-center text-gray-300 italic",children:L||Oe!=="all"?"No guests match your filters":"No responses recorded yet."})})]})]})}),u.jsx("div",{className:"md:hidden space-y-4",children:B.length>0?B.map(x=>u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-3",children:u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("input",{type:"checkbox",checked:I.has(x.id),onChange:()=>ee(x.id),className:"w-5 h-5 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer mt-1"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-gray-800 text-base mb-1",children:x.name}),x.plusOne&&u.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mb-2",children:[u.jsx("i",{className:"fa-solid fa-user-plus text-[10px]"})," +1 Guest"]}),u.jsx("div",{className:"text-xs text-gray-500 mb-2 break-all",children:x.email}),u.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${x.status===ie.ATTENDING?"bg-green-100 text-green-600":x.status===ie.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.status===ie.ATTENDING?"Accepted":x.status===ie.NOT_ATTENDING?"Declined":"Pending"})]})]})}),x.notes&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold mb-1",children:"Notes"}),u.jsxs("div",{className:"text-xs text-gray-600 italic",children:['"',x.notes,'"']})]}),u.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[u.jsxs("button",{onClick:()=>r(x.id),className:"flex-1 bg-gold/10 text-gold px-4 py-2 rounded-lg hover:bg-gold/20 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[u.jsx("i",{className:"fa-solid fa-bell"})," Remind"]}),u.jsxs("button",{onClick:()=>l(x.id),className:"flex-1 bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[u.jsx("i",{className:"fa-solid fa-trash-can"})," Delete"]})]})]},x.id)):u.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center",children:[u.jsx("i",{className:"fa-solid fa-users-slash text-4xl text-gray-300 mb-4"}),u.jsx("p",{className:"text-gray-400 italic",children:L||Oe!=="all"?"No guests match your filters":"No responses recorded yet."})]})}),u.jsxs("div",{className:"mt-6 text-xs text-gray-400 text-center",children:["Showing ",B.length," of ",n.length," total guests"]})]})]}),f==="notes"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 animate-fadeIn",children:[u.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-list-check",title:"Planning Checklist",description:"Manage tasks with completion status."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 mb-8",children:[u.jsx("input",{value:w,onChange:x=>g(x.target.value),placeholder:"Add a new task...",className:"flex-1 border border-gray-200 p-4 rounded-xl outline-none focus:border-gold bg-gray-50 transition-colors text-sm"}),u.jsx("button",{onClick:nn,className:"w-full sm:w-auto bg-gold text-white px-8 py-4 rounded-xl font-bold text-[10px] uppercase tracking-widest shadow-lg shadow-gold/20 transition-all",children:"Add Task"})]}),u.jsxs("div",{className:"space-y-4",children:[Un.checklist.map(x=>u.jsxs("div",{className:`flex items-center justify-between p-4 md:p-5 rounded-2xl border-2 transition-all duration-300 ${x.completed?"bg-green-50 border-green-100 opacity-60":"bg-gray-50 border-gray-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 md:gap-4 cursor-pointer",onClick:()=>Rd(x.id),children:[u.jsx("button",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${x.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 bg-white hover:border-gold"}`,children:x.completed&&u.jsx("i",{className:"fa-solid fa-check text-[8px] md:text-[10px]"})}),u.jsx("span",{className:`text-xs md:text-sm transition-all select-none ${x.completed?"line-through text-gray-400 italic":"text-gray-700 font-medium"}`,children:x.text})]}),u.jsx("button",{onClick:()=>Dd(x.id),className:"text-gray-300 hover:text-red-500 transition-colors p-2",children:u.jsx("i",{className:"fa-solid fa-xmark"})})]},x.id)),Un.checklist.length===0&&u.jsx("p",{className:"text-center text-gray-300 italic py-10",children:"No items in your checklist."})]})]}),u.jsxs("div",{className:"space-y-6 md:space-y-8",children:[u.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-sm border border-gray-100",children:[u.jsx(Sn,{icon:"fa-pen-fancy",title:"Meeting Notes",description:"Keep track of conversations with vendors."}),u.jsx("textarea",{rows:5,value:v,onChange:x=>_(x.target.value),placeholder:"Type notes here...",className:"w-full border border-gray-200 p-4 md:p-5 rounded-2xl bg-gray-50 focus:bg-white focus:border-gold outline-none transition-all mb-4 md:mb-6 resize-none text-sm leading-relaxed"}),u.jsx("button",{onClick:()=>{v.trim()&&(s(v),_(""))},className:"w-full bg-gold text-white py-4 md:py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-gold/20 transition-all hover:bg-gold/90",children:"Store Note"})]}),u.jsx("div",{className:"space-y-6",children:i.map(x=>u.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-50 relative group",children:[u.jsx("button",{onClick:()=>a(x.id),className:"absolute top-6 right-6 text-gray-200 hover:text-red-500 opacity-0 group-hover:opacity-100",children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsx("div",{className:"text-gold text-[10px] font-black uppercase mb-4 tracking-widest",children:x.date}),u.jsxs("div",{className:"text-gray-600 italic font-body whitespace-pre-wrap leading-relaxed",children:['"',x.content,'"']})]},x.id))})]})]}),f==="guestbook"&&u.jsx("div",{className:"animate-fadeIn",children:u.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-sm border border-gray-100 mb-10",children:[u.jsx(Sn,{icon:"fa-book-open",title:"Guestbook Entries",description:"Manage public messages from your guests."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map(x=>u.jsxs("div",{className:"p-6 border border-gray-100 rounded-2xl relative group bg-gray-50 hover:bg-white transition-all shadow-sm",children:[u.jsx("button",{onClick:()=>d(x.id),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h4",{className:"font-serif text-gold text-lg",children:x.name}),u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold",children:new Date(x.date).toLocaleDateString()})]}),u.jsxs("p",{className:"text-gray-600 text-sm italic font-body",children:['"',x.message,'"']})]},x.id)),c.length===0&&u.jsx("div",{className:"col-span-full py-20 text-center text-gray-300 italic",children:"No guestbook entries yet."})]})]})})]})})}),u.jsx("div",{className:"md:hidden bg-white border-t border-gray-100 flex justify-around items-center py-4 px-2 safe-bottom z-[60] shadow-[0_-10px_30px_rgba(0,0,0,0.05)] shrink-0",children:[{id:"content",label:"Core",icon:"fa-pen-nib"},{id:"lists",label:"Lists",icon:"fa-list-check"},{id:"guests",label:"Guests",icon:"fa-users-gear"},{id:"guestbook",label:"Book",icon:"fa-book-open"},{id:"notes",label:"Notes",icon:"fa-flask"}].map(x=>u.jsxs("button",{onClick:()=>m(x.id),className:`flex flex-col items-center gap-1.5 transition-all w-full ${f===x.id?"text-gold":"text-gray-400"}`,children:[u.jsx("div",{className:`p-2 rounded-xl transition-all ${f===x.id?"bg-gold/10":""}`,children:u.jsx("i",{className:`fa-solid ${x.icon} text-lg`})}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:x.label})]},x.id))})]})]})},o8=({content:t,rsvps:e,initialName:n,onClose:i,isDarkMode:s})=>{const[a,r]=E.useState(n||""),[o,l]=E.useState(null),[c,d]=E.useState(!1),[h,f]=E.useState(null);E.useEffect(()=>{n&&m(n)},[n]);const m=p=>{const y=p||a,b=e.find(C=>C.name.toLowerCase().includes(y.toLowerCase().trim()));b?l(b):p||alert("No RSVP found for that name. Have you responded yet?")},v=p=>{f(p),d(!0)},_=p=>{if(p.includes("/maps/embed"))return p;if(p.includes("maps.app.goo.gl")||p.includes("goo.gl"))return`https://www.google.com/maps?q=${encodeURIComponent((h==null?void 0:h.name)||"")}&output=embed`;if(p.includes("google.com/maps")){const y=p.match(/place\/([^\/]+)/);if(y)return`https://www.google.com/maps?q=${encodeURIComponent(y[1].replace(/\+/g," "))}&output=embed`;const b=p.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(b)return`https://www.google.com/maps?q=${b[1]},${b[2]}&output=embed`}return p},w=()=>{var M;const p=new Date(t.countdownDate),y=p.toISOString().replace(/-|:|\.\d\d\d/g,""),b=new Date(p.getTime()+6*60*60*1e3).toISOString().replace(/-|:|\.\d\d\d/g,""),C=encodeURIComponent(`${t.coupleNames}'s Wedding`),D=(M=t.venues)==null?void 0:M[0],A=encodeURIComponent(D?`${D.name}, ${D.address}`:"Venue TBD"),N=encodeURIComponent("Join us for a beautiful celebration of love.");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${C}&dates=${y}/${b}&details=${N}&location=${A}`},g=t.venues||[];return u.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-xl flex items-center justify-center p-3 md:p-8",children:[u.jsxs(H.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},className:`w-full max-w-2xl rounded-3xl overflow-hidden shadow-[0_50px_100px_rgba(0,0,0,0.6)] border ${s?"bg-[#1a1a1a] border-white/5":"bg-white border-gold/10"}`,children:[u.jsxs("div",{className:"bg-neutral-900 px-6 py-10 md:p-12 text-white relative",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-gold via-[#f7e7ce] to-gold"}),u.jsx("button",{onClick:i,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white/50 hover:text-gold hover:bg-white/10 transition-all z-10",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gold/10 border border-gold/20 flex items-center justify-center text-gold shadow-inner",children:u.jsx("i",{className:"fa-solid fa-unlock-keyhole text-2xl"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-1 uppercase tracking-tight",children:"Guest Portal"}),u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3",children:[u.jsx("span",{className:"h-px w-6 bg-gold/50"}),u.jsx("p",{className:"text-gold uppercase tracking-[0.5em] text-[10px] font-black",children:"Private Invitation"}),u.jsx("span",{className:"h-px w-6 bg-gold/50"})]})]})]})]}),u.jsx("div",{className:"p-6 md:p-12",children:o?u.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start text-center md:text-left gap-6 border-b pb-10 border-gray-100 dark:border-white/5",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gold font-cursive text-3xl mb-1",children:"Welcome"}),u.jsx("h3",{className:`text-4xl font-serif ${s?"text-white":"text-gray-800"}`,children:o.name}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mt-4",children:[u.jsx("span",{className:`text-[10px] uppercase font-black px-5 py-2 rounded-full tracking-widest shadow-sm ${o.status===ie.ATTENDING?"bg-green-600 text-white":o.status===ie.NOT_ATTENDING?"bg-red-600 text-white":"bg-amber-500 text-white"}`,children:o.status.replace("_"," ")}),o.plusOne&&u.jsx("span",{className:"text-[10px] text-gold font-black uppercase tracking-[0.2em] bg-gold/5 px-5 py-2 rounded-full border border-gold/10",children:"Guest Included"})]})]}),u.jsxs("button",{onClick:()=>l(null),className:"text-gray-400 text-[10px] uppercase tracking-widest border border-gray-100 dark:border-white/10 px-6 py-3 rounded-full hover:bg-gold/5 hover:text-gold transition-all font-bold",children:[u.jsx("i",{className:"fa-solid fa-arrow-left-long mr-2"})," Switch User"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-[11px] uppercase font-black text-gray-400 tracking-[0.4em] flex items-center gap-3",children:[u.jsx("span",{className:"w-8 h-px bg-gray-200 dark:bg-white/10"}),"Event Details"]}),u.jsxs("ul",{className:"space-y-6",children:[u.jsxs("li",{className:"flex gap-5 items-center group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${s?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-calendar-days text-lg"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Wedding Date"}),u.jsx("span",{className:`font-serif text-lg ${s?"text-gray-200":"text-gray-700"}`,children:t.weddingDate})]})]}),u.jsxs("li",{className:"flex gap-5 items-center group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${s?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-clock text-lg"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Ceremony Time"}),u.jsx("span",{className:`font-serif text-lg ${s?"text-gray-200":"text-gray-700"}`,children:t.weddingTime})]})]}),g.length>0?g.map((p,y)=>u.jsxs("li",{className:"flex gap-5 items-start group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm mt-1 transition-transform group-hover:scale-110 ${s?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-location-dot text-lg"})}),u.jsxs("div",{className:"flex flex-col flex-1",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Location"}),u.jsxs("button",{onClick:()=>v(p),className:`text-left text-sm md:text-base leading-relaxed hover:text-gold transition-colors ${s?"text-gray-300":"text-gray-600"}`,children:[u.jsx("strong",{className:`${s?"text-white":"text-gray-900"}`,children:p.name}),u.jsx("br",{}),u.jsx("span",{className:"opacity-70",children:p.address}),u.jsx("i",{className:"fa-solid fa-map-location-dot ml-2 text-xs text-gold opacity-60"})]})]})]},y)):u.jsxs("li",{className:"flex gap-5 items-center",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold opacity-50 ${s?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-map-pin"})}),u.jsx("span",{className:"text-gray-400 text-sm italic",children:"Details to follow."})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:`p-8 rounded-3xl border flex-grow flex flex-col justify-center relative overflow-hidden ${s?"bg-white/5 border-white/5":"bg-gold/5 border-gold/10"}`,children:[u.jsx("div",{className:"absolute -right-4 -top-4 text-gold/5 text-8xl transform rotate-12",children:u.jsx("i",{className:"fa-solid fa-quote-right"})}),u.jsxs("h4",{className:"font-black text-[10px] uppercase tracking-[0.4em] text-gold mb-6 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),"Ceremony Note"]}),u.jsx("p",{className:`text-base italic leading-relaxed font-serif relative z-10 ${s?"text-gray-300":"text-gray-600"}`,children:o.status===ie.UNDECIDED?"Your celebration status is still pending. We've reserved a tentative place for you and cannot wait to celebrate together.":o.status===ie.ATTENDING?"We are delighted to confirm your presence. Our finest arrangements are being tailored for your arrival at the estate.":"We have received your regrets. While your presence will be missed, we remain deeply grateful for your warmth and well wishes."})]}),o.status===ie.ATTENDING&&u.jsxs("a",{href:w(),target:"_blank",rel:"noopener noreferrer",className:"w-full bg-neutral-900 text-white py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black hover:bg-black transition-all text-center flex items-center justify-center gap-4 shadow-xl active:scale-95 group",children:[u.jsx("i",{className:"fa-solid fa-calendar-circle-plus text-gold text-lg group-hover:scale-125 transition-transform"}),"Add to Calendar"]})]})]}),u.jsxs("div",{className:"text-center pt-8 border-t border-gray-100 dark:border-white/5",children:[u.jsx("div",{className:"font-cursive text-2xl text-gold mb-2",children:"Louie & Florie"}),u.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-[0.6em] font-medium leading-loose",children:" July 4, 2026  Cebu City "})]})]}):u.jsxs("div",{className:"text-center py-6 md:py-10",children:[u.jsx("h3",{className:`text-2xl font-serif mb-4 tracking-wide ${s?"text-white":"text-gray-800"}`,children:"Verify Invitation"}),u.jsx("p",{className:"text-gray-400 mb-10 text-[11px] uppercase tracking-[0.2em] leading-relaxed max-w-xs mx-auto",children:"Please enter your full name exactly as it appears on your formal invitation."}),u.jsxs("div",{className:"flex flex-col gap-8 max-w-sm mx-auto",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",value:a,onChange:p=>r(p.target.value),placeholder:"Invitation Name",className:`w-full bg-transparent border-b-2 outline-none py-4 px-2 transition-all font-serif text-2xl text-center placeholder:opacity-30 ${s?"border-white/10 text-white focus:border-gold":"border-gray-100 text-gray-800 focus:border-gold"}`}),u.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gold group-hover:w-full transition-all duration-500"})]}),u.jsx("button",{onClick:()=>m(),className:"bg-gold text-white px-10 py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black hover:bg-[#b8962d] transition-all shadow-xl shadow-gold/20 hover:scale-[1.02] active:scale-95",children:"Confirm Identity"})]}),u.jsx("p",{className:"mt-12 text-[10px] text-gray-500 italic opacity-60",children:"Having trouble? Please reach out to the couple directly."})]})})]}),c&&h&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"fixed inset-0 z-[70] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsxs(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:p=>p.stopPropagation(),className:"w-full max-w-4xl bg-white rounded-2xl overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"bg-neutral-900 p-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-serif text-white mb-1",children:h.name}),u.jsx("p",{className:"text-gray-400 text-sm",children:h.address})]}),u.jsx("button",{onClick:()=>d(!1),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),u.jsx("div",{className:"relative w-full h-[500px]",children:u.jsx("iframe",{src:_(h.mapUrl),width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map to ${h.name}`})}),u.jsx("div",{className:"p-4 bg-gray-50 flex justify-end",children:u.jsxs("a",{href:h.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gold/90 transition-all",children:[u.jsx("i",{className:"fa-solid fa-external-link mr-2"}),"Open in Maps"]})})]})})]})},l8=({content:t,onAdminClick:e,isDarkMode:n})=>{var a,r;const i=(o,l)=>{const c=o.toLowerCase(),d=l.toLowerCase();return c.includes("instagram")||d.includes("instagram")?"fa-brands fa-instagram":c.includes("facebook")||d.includes("facebook")?"fa-brands fa-facebook":c.includes("pinterest")||d.includes("pinterest")?"fa-brands fa-pinterest":c.includes("twitter")||d.includes("twitter")||c.includes("x")?"fa-brands fa-x-twitter":c.includes("tiktok")||d.includes("tiktok")?"fa-brands fa-tiktok":"fa-solid fa-link"},s=Array.isArray(t.socialLinks)?t.socialLinks:[];return u.jsxs("footer",{className:`py-24 border-t text-center relative overflow-hidden transition-colors duration-300 ${n?"bg-[#1a1a1a] border-gray-800":"bg-white border-gray-100"}`,children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-gold/5 rounded-full blur-3xl -z-10"}),u.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[u.jsx("div",{className:"text-5xl md:text-6xl font-serif text-gold mb-8 italic tracking-widest",children:t.coupleNames?t.coupleNames.split("&").map(o=>o.trim().charAt(0)).join(" & "):"A & I"}),u.jsxs("p",{className:"max-w-md mx-auto text-gray-400 uppercase tracking-[0.4em] text-[10px] font-bold mb-12",children:[t.weddingDate," ",u.jsx("span",{className:"mx-3 text-gold/30",children:""})," ",t.venues&&t.venues.length>0?t.venues[0].name:"Location TBD"]}),u.jsx("div",{className:"flex justify-center flex-wrap gap-10 mb-20",children:s.map((o,l)=>u.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-gold transition-all transform hover:scale-125",title:o.label,children:u.jsx("i",{className:`${i(o.label,o.url)} text-xl`})},l))}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-gray-400 font-medium",children:t.footerText||`Handcrafted with love for the ${t.coupleNames?(a=t.coupleNames.split("&")[1])==null?void 0:a.trim():"Couple"}`}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-[9px] uppercase tracking-widest text-gray-300",children:[u.jsxs("span",{children:[" 2026 ",((r=t.openingScreen)==null?void 0:r.brand)||t.coupleNames]}),u.jsx("span",{className:"w-1 h-1 bg-gray-200 rounded-full"}),u.jsxs("button",{onClick:e,className:"hover:text-gold transition-colors font-bold flex items-center gap-1",children:[u.jsx("i",{className:"fa-solid fa-lock text-[8px]"})," Management"]})]})]})]})]})};class eh{static getRSVPConfirmationMailto(e){const n=encodeURIComponent("RSVP Confirmation - Louie & Florie Wedding"),i=e.status===ie.ATTENDING?"Yes":e.status===ie.NOT_ATTENDING?"No":"Maybe",s=encodeURIComponent(`Dear ${e.name},

Thank you for your RSVP!

**Your RSVP Details:**
Name: ${e.name}
Email: ${e.email||"Not provided"}
Attending: ${i}
${e.plusOne?`Plus One: ${e.plusOneName||"Yes"}
`:""}
${e.dietary?`Dietary Restrictions: ${e.dietary}
`:""}
${e.notes?`Message: ${e.notes}
`:""}

We look forward to celebrating with you on July 4, 2026!

**Event Details:**
Date: July 4, 2026
Time: TBD
Venue: TBD

For any questions or changes, please reply to this email.

With love,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${s}`}static getFollowUpReminderMailto(e){const n=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),i=encodeURIComponent(`Dear ${e.name},

We hope this email finds you well!

We noticed you haven't confirmed your attendance for our wedding yet. We'd love to have you celebrate with us on July 4, 2026.

Please let us know if you'll be able to join us by visiting our wedding website:
[Your Website URL]

If you have any questions or need more information, feel free to reach out!

Looking forward to hearing from you.

Warmest regards,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${i}`}static getBatchReminderMailto(e){const n=e.map(a=>a.email).join(","),i=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),s=encodeURIComponent(`Dear Friends and Family,

We hope this email finds you well!

We're reaching out to remind you about our upcoming wedding on July 4, 2026. If you haven't already, please RSVP through our wedding website at your earliest convenience.

We can't wait to celebrate this special day with you!

If you need any additional information, please don't hesitate to reach out.

With love,
Louie & Florie`);return`mailto:?bcc=${n}&subject=${i}&body=${s}`}static sendRSVPConfirmation(e){const n=this.getRSVPConfirmationMailto(e);window.open(n,"_blank")}static sendFollowUpReminder(e){const n=this.getFollowUpReminderMailto(e);window.open(n,"_blank")}static sendBatchReminders(e){const n=this.getBatchReminderMailto(e);window.open(n,"_blank")}}const c8=()=>{const[t,e]=E.useState(!0),[n,i]=E.useState(!1),[s,a]=E.useState(!1),[r,o]=E.useState(!1),[l,c]=E.useState(""),[d,h]=E.useState(""),[f,m]=E.useState(!1),v="admin@simplylouie.com",[_,w]=E.useState(""),[g,p]=E.useState(!0),[y,b]=E.useState(!0),[C,D]=E.useState(()=>{const O=localStorage.getItem("wedding_content");return O?JSON.parse(O):EM}),[A,N]=E.useState(()=>{const O=localStorage.getItem("wedding_rsvps");return O?JSON.parse(O):[]}),[M,L]=E.useState(()=>{const O=localStorage.getItem("wedding_notes");return O?JSON.parse(O):[]}),[ve,Oe]=E.useState([]),Bt=E.useRef(null),{scrollYProgress:Ht}=LT(),Nt=_M(Ht,{stiffness:100,damping:30,restDelta:.001});E.useEffect(()=>{var Y,ee;if(C.coupleNames==="Florie & Louie"||((Y=C.openingScreen)==null?void 0:Y.brand)==="Florie & Louie"||C.coupleNames==="Simply Louie"||((ee=C.openingScreen)==null?void 0:ee.brand)==="Simply Louie"){const re={...C,coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",openingScreen:{...C.openingScreen,title:"Louie & Florie",brand:"Louie & Florie",sealInitials:"LF"},adminPanelTitle:"Louie & Florie CMS"};D(re),qt.updateContent(re)}},[C]),E.useEffect(()=>{const O=qt.subscribeToContent(ye=>{D(ye),localStorage.setItem("wedding_content",JSON.stringify(ye))}),Y=qt.subscribeToRSVPs(ye=>{N(ye),localStorage.setItem("wedding_rsvps",JSON.stringify(ye))}),ee=qt.subscribeToNotes(ye=>{L(ye),localStorage.setItem("wedding_notes",JSON.stringify(ye))}),re=qt.subscribeToGuestbook(ye=>{Oe(ye)});return()=>{O(),Y(),ee(),re()}},[]),E.useEffect(()=>{localStorage.setItem("wedding_content",JSON.stringify(C)),localStorage.setItem("wedding_rsvps",JSON.stringify(A)),localStorage.setItem("wedding_notes",JSON.stringify(M))},[C,A,M]),E.useEffect(()=>{const O=()=>{m(window.scrollY>400)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const I=()=>{Bt.current&&(g?Bt.current.play().catch(O=>console.log("Audio play blocked",O)):Bt.current.pause(),p(!g))},U=()=>{requestAnimationFrame(()=>{b(O=>!O)})},P=O=>{N(Y=>[...Y,O]),qt.saveRSVP(O),O.email&&O.status!==ie.UNDECIDED&&eh.sendRSVPConfirmation(O),setTimeout(()=>{w(O.name),a(!0)},2500)},ue=O=>{D(O),qt.updateContent(O).catch(console.error)},T=O=>{const Y=A.find(ee=>ee.id===O);Y&&(eh.sendFollowUpReminder(Y),N(ee=>ee.map(re=>re.id===O?{...re,reminderSent:!0}:re)))},S=O=>{const Y=A.filter(ee=>O.includes(ee.id));eh.sendBatchReminders(Y),N(ee=>ee.map(re=>O.includes(re.id)?{...re,reminderSent:!0}:re))},z=O=>{window.confirm("Are you sure you want to delete this guest? This cannot be undone.")&&(N(Y=>Y.filter(ee=>ee.id!==O)),qt.deleteRSVP(O))},G=O=>{const Y={id:Date.now().toString(),content:O,date:new Date().toLocaleDateString()};L(ee=>[Y,...ee]),qt.saveNote(Y)},q=O=>{L(Y=>Y.filter(ee=>ee.id!==O)),qt.deleteNote(O)};E.useEffect(()=>{const O=$f.onAuthStateChange(Y=>{Y?(i(!0),o(!1)):i(!1)});return()=>O()},[]);const W=()=>{o(!0),h(""),c("")},J=async O=>{O.preventDefault(),h("");try{await $f.login(v,l),i(!0),o(!1),window.scrollTo(0,0)}catch(Y){console.error("Login error:",Y),Y.code==="auth/invalid-credential"||Y.code==="auth/wrong-password"?h("Incorrect password"):Y.code==="auth/user-not-found"?h("Admin account not configured"):Y.code==="auth/too-many-requests"?h("Too many failed attempts. Try again later."):h("Authentication failed. Please try again.")}},B=async()=>{await $f.logout(),i(!1)},$=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(CM,{content:C,onComplete:()=>e(!1)}):u.jsxs("div",{className:`relative min-h-screen transition-colors duration-300 ${y?"bg-[#1a1a1a] text-white/90":"bg-[#fcfaf7] text-gray-800"}`,children:[u.jsx("audio",{ref:Bt,loop:!0,preload:"auto",children:u.jsx("source",{src:C.musicUrl,type:"audio/mpeg"})},C.musicUrl),u.jsx(H.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gold z-[100] origin-left",style:{scaleX:Nt}}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx(NM,{onAdminClick:W,onGuestDashboardClick:()=>{w(""),a(!0)},isMuted:g,onToggleMusic:I,isDarkMode:y,onToggleTheme:U}),u.jsx(AM,{content:C}),u.jsxs("main",{className:"flex-grow",children:[u.jsx(L5,{content:C,isDarkMode:y}),u.jsxs("div",{id:"rsvp",className:`py-20 relative transition-colors duration-300 ${y?"bg-black/20":"bg-champagne/10"}`,children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gold/30 to-transparent"}),u.jsx(U5,{onAddRSVP:P,isDarkMode:y})]})]}),u.jsx(l8,{content:C,onAdminClick:W,isDarkMode:y}),u.jsx(kt,{children:f&&u.jsx(H.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:$,className:"fixed bottom-8 left-8 z-40 w-12 h-12 bg-white text-gold rounded-full shadow-lg border border-gold/20 flex items-center justify-center hover:bg-gold hover:text-white transition-colors duration-300",children:u.jsx("i",{className:"fa-solid fa-arrow-up"})})}),u.jsx(kt,{children:s&&u.jsx(o8,{content:C,rsvps:A,initialName:_,onClose:()=>a(!1),isDarkMode:y})}),u.jsx(kt,{children:r&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>o(!1),children:u.jsxs(H.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`p-8 md:p-12 rounded-sm shadow-2xl max-w-md w-full relative border-t-4 border-gold ${y?"bg-[#262626] text-white":"bg-white text-gray-800"}`,onClick:O=>O.stopPropagation(),children:[u.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 transition-colors",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"fa-solid fa-lock text-3xl text-gold"})}),u.jsx("h3",{className:`text-2xl font-serif ${y?"text-white":"text-gray-800"}`,children:"Admin Access"}),u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2",children:"Enter Your Password"})]}),u.jsxs("form",{onSubmit:J,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold block mb-2",children:"Password"}),u.jsx("input",{autoFocus:!0,type:"password",value:l,onChange:O=>c(O.target.value),placeholder:"Enter your admin password",required:!0,className:`w-full text-center border-2 py-4 px-4 text-lg outline-none focus:border-gold transition-all rounded-xl font-body bg-transparent placeholder:text-gray-400 ${y?"border-gray-700 text-white":"border-gray-200 text-gray-800"}`})]}),d&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:u.jsxs("p",{className:"text-red-600 text-xs text-center font-bold flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-circle-exclamation"}),d]})}),u.jsxs("button",{type:"submit",className:"w-full bg-gold text-white py-4 rounded-xl text-[10px] uppercase font-bold tracking-[0.2em] hover:bg-[#b8962d] transition-all shadow-lg shadow-gold/20 flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-unlock"}),"Unlock Admin Panel"]}),u.jsx("div",{className:"text-center pt-2",children:u.jsxs("p",{className:"text-xs text-gray-400",children:[u.jsx("i",{className:"fa-solid fa-shield-halved mr-1"}),"Secured with Firebase Authentication"]})})]})]})})}),u.jsx(kt,{children:n&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 md:p-8",onClick:()=>i(!1),children:u.jsx(H.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"w-full max-w-[90vw] h-[90vh] rounded-3xl shadow-2xl relative overflow-hidden",onClick:O=>O.stopPropagation(),children:u.jsx(r8,{content:C,onUpdateContent:ue,rsvps:A,notes:M,onAddNote:G,onDeleteNote:q,onSendReminder:T,onBatchReminders:S,onDeleteRSVP:z,guestbookEntries:ve,onDeleteGuestbookEntry:O=>qt.deleteGuestbookEntry(O),onClose:B})})},"admin-modal")})]})]})},dN=document.getElementById("root");if(!dN)throw new Error("Could not find root element to mount to");const u8=d2.createRoot(dN);u8.render(u.jsx(IN.StrictMode,{children:u.jsx(c8,{})}));
