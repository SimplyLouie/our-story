(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Zb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jb={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN=Symbol.for("react.transitional.element"),vN=Symbol.for("react.fragment");function e_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:yN,type:t,key:i,ref:e!==void 0?e:null,props:n}}Gu.Fragment=vN;Gu.jsx=e_;Gu.jsxs=e_;Jb.exports=Gu;var u=Jb.exports,t_={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=Symbol.for("react.transitional.element"),xN=Symbol.for("react.portal"),bN=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),wN=Symbol.for("react.profiler"),SN=Symbol.for("react.consumer"),TN=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),NN=Symbol.for("react.memo"),n_=Symbol.for("react.lazy"),AN=Symbol.for("react.activity"),ky=Symbol.iterator;function RN(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var i_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s_=Object.assign,a_={};function mr(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||i_}mr.prototype.isReactComponent={};mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r_(){}r_.prototype=mr.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||i_}var Xm=Km.prototype=new r_;Xm.constructor=Km;s_(Xm,mr.prototype);Xm.isPureReactComponent=!0;var jy=Array.isArray;function af(){}var De={H:null,A:null,T:null,S:null},o_=Object.prototype.hasOwnProperty;function Qm(t,e,n){var i=n.ref;return{$$typeof:Wm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function IN(t,e){return Qm(t.type,e,t.props)}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wm}function ON(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var My=/\/+/g;function Ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ON(""+t.key):e.toString(36)}function DN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(af,af):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fa(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Wm:case xN:r=!0;break;case n_:return r=t._init,fa(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Ud(t,0):i,jy(s)?(n="",r!=null&&(n=r.replace(My,"$&/")+"/"),fa(s,e,n,"",function(c){return c})):s!=null&&(Zm(s)&&(s=IN(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(My,"$&/")+"/")+r)),e.push(s)),1;r=0;var o=i===""?".":i+":";if(jy(t))for(var l=0;l<t.length;l++)i=t[l],a=o+Ud(i,l),r+=fa(i,e,n,a,s);else if(l=RN(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,a=o+Ud(i,l++),r+=fa(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return fa(DN(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Pl(t,e,n){if(t==null)return t;var i=[],s=0;return fa(t,i,"","",function(a){return e.call(n,a,s++)}),i}function kN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ly=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jN={map:Pl,forEach:function(t,e,n){Pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Activity=AN;ee.Children=jN;ee.Component=mr;ee.Fragment=bN;ee.Profiler=wN;ee.PureComponent=Km;ee.StrictMode=_N;ee.Suspense=CN;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;ee.__COMPILER_RUNTIME={__proto__:null,c:function(t){return De.H.useMemoCache(t)}};ee.cache=function(t){return function(){return t.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=s_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!o_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];i.children=r}return Qm(t.type,s,i)};ee.createContext=function(t){return t={$$typeof:TN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:SN,_context:t},t};ee.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)o_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Qm(t,a,s)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:EN,render:t}};ee.isValidElement=Zm;ee.lazy=function(t){return{$$typeof:n_,_payload:{_status:-1,_result:t},_init:kN}};ee.memo=function(t,e){return{$$typeof:NN,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=De.T,n={};De.T=n;try{var i=t(),s=De.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(af,Ly)}catch(a){Ly(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),De.T=e}};ee.unstable_useCacheRefresh=function(){return De.H.useCacheRefresh()};ee.use=function(t){return De.H.use(t)};ee.useActionState=function(t,e,n){return De.H.useActionState(t,e,n)};ee.useCallback=function(t,e){return De.H.useCallback(t,e)};ee.useContext=function(t){return De.H.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t,e){return De.H.useDeferredValue(t,e)};ee.useEffect=function(t,e){return De.H.useEffect(t,e)};ee.useEffectEvent=function(t){return De.H.useEffectEvent(t)};ee.useId=function(){return De.H.useId()};ee.useImperativeHandle=function(t,e,n){return De.H.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return De.H.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return De.H.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return De.H.useMemo(t,e)};ee.useOptimistic=function(t,e){return De.H.useOptimistic(t,e)};ee.useReducer=function(t,e,n){return De.H.useReducer(t,e,n)};ee.useRef=function(t){return De.H.useRef(t)};ee.useState=function(t){return De.H.useState(t)};ee.useSyncExternalStore=function(t,e,n){return De.H.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return De.H.useTransition()};ee.version="19.2.3";t_.exports=ee;var E=t_.exports;const MN=Zb(E);var l_={exports:{}},qu={},c_={exports:{}},u_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var B=L.length;L.push(j);e:for(;0<B;){var te=B-1>>>1,T=L[te];if(0<s(T,j))L[te]=j,L[B]=T,B=te;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var j=L[0],B=L.pop();if(B!==j){L[0]=B;e:for(var te=0,T=L.length,_=T>>>1;te<_;){var z=2*(te+1)-1,F=L[z],G=z+1,Y=L[G];if(0>s(F,B))G<T&&0>s(Y,F)?(L[te]=Y,L[G]=B,te=G):(L[te]=F,L[z]=B,te=z);else if(G<T&&0>s(Y,B))L[te]=Y,L[G]=B,te=G;else break e}}return j}function s(L,j){var B=L.sortIndex-j.sortIndex;return B!==0?B:L.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();t.unstable_now=function(){return r.now()-o}}var l=[],c=[],h=1,f=null,d=3,m=!1,v=!1,b=!1,S=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(L){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=L)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function C(L){if(b=!1,w(L),!v)if(n(l)!==null)v=!0,D||(D=!0,je());else{var j=n(c);j!==null&&Ze(C,j.startTime-L)}}var D=!1,A=-1,N=5,I=-1;function M(){return S?!0:!(t.unstable_now()-I<N)}function ae(){if(S=!1,D){var L=t.unstable_now();I=L;var j=!0;try{e:{v=!1,b&&(b=!1,g(A),A=-1),m=!0;var B=d;try{t:{for(w(L),f=n(l);f!==null&&!(f.expirationTime>L&&M());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var T=te(f.expirationTime<=L);if(L=t.unstable_now(),typeof T=="function"){f.callback=T,w(L),j=!0;break t}f===n(l)&&i(l),w(L)}else i(l);f=n(l)}if(f!==null)j=!0;else{var _=n(c);_!==null&&Ze(C,_.startTime-L),j=!1}}break e}finally{f=null,d=B,m=!1}j=void 0}}finally{j?je():D=!1}}}var je;if(typeof y=="function")je=function(){y(ae)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Gt=$e.port2;$e.port1.onmessage=ae,je=function(){Gt.postMessage(null)}}else je=function(){p(ae,0)};function Ze(L,j){A=p(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var B=d;d=j;try{return L()}finally{d=B}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=d;d=L;try{return j()}finally{d=B}},t.unstable_scheduleCallback=function(L,j,B){var te=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=B+T,L={id:h++,callback:j,priorityLevel:L,startTime:B,expirationTime:T,sortIndex:-1},B>te?(L.sortIndex=B,e(c,L),n(l)===null&&L===n(c)&&(b?(g(A),A=-1):b=!0,Ze(C,B-te))):(L.sortIndex=T,e(l,L),v||m||(v=!0,D||(D=!0,je()))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var j=d;return function(){var B=d;d=j;try{return L.apply(this,arguments)}finally{d=B}}}})(u_);c_.exports=u_;var LN=c_.exports,d_={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=E;function h_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ni(){}var Et={d:{f:Ni,r:function(){throw Error(h_(522))},D:Ni,C:Ni,L:Ni,m:Ni,X:Ni,S:Ni,M:Ni},p:0,findDOMNode:null},PN=Symbol.for("react.portal");function VN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:PN,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var io=UN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $u(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(h_(299));return VN(t,e,null,n)};It.flushSync=function(t){var e=io.T,n=Et.p;try{if(io.T=null,Et.p=2,t)return t()}finally{io.T=e,Et.p=n,Et.d.f()}};It.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Et.d.C(t,e))};It.prefetchDNS=function(t){typeof t=="string"&&Et.d.D(t)};It.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=$u(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Et.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&Et.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};It.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=$u(e.as,e.crossOrigin);Et.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Et.d.M(t)};It.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=$u(n,e.crossOrigin);Et.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};It.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=$u(e.as,e.crossOrigin);Et.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Et.d.m(t)};It.requestFormReset=function(t){Et.d.r(t)};It.unstable_batchedUpdates=function(t,e){return t(e)};It.useFormState=function(t,e,n){return io.H.useFormState(t,e,n)};It.useFormStatus=function(){return io.H.useHostTransitionStatus()};It.version="19.2.3";function f_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f_)}catch(t){console.error(t)}}f_(),d_.exports=It;var zN=d_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=LN,m_=E,BN=zN;function R(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uy(t){if(rl(t)!==t)throw Error(R(188))}function HN(t){var e=t.alternate;if(!e){if(e=rl(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Uy(s),t;if(a===i)return Uy(s),e;a=a.sibling}throw Error(R(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function v_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=v_(t),e!==null)return e;t=t.sibling}return null}var ke=Object.assign,FN=Symbol.for("react.element"),Vl=Symbol.for("react.transitional.element"),Yr=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),b_=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),cf=Symbol.for("react.activity"),GN=Symbol.for("react.memo_cache_sentinel"),Py=Symbol.iterator;function kr(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var qN=Symbol.for("react.client.reference");function uf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===qN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case rf:return"Profiler";case x_:return"StrictMode";case of:return"Suspense";case lf:return"SuspenseList";case cf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Yr:return"Portal";case ii:return t.displayName||"Context";case b_:return(t._context.displayName||"Context")+".Consumer";case Jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:uf(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return uf(t(e))}catch{}}return null}var Wr=Array.isArray,K=m_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=BN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ms={pending:!1,data:null,method:null,action:null},df=[],va=-1;function Yn(t){return{current:t}}function ut(t){0>va||(t.current=df[va],df[va]=null,va--)}function Ae(t,e){va++,df[va]=t.current,t.current=e}var Hn=Yn(null),Oo=Yn(null),Wi=Yn(null),Pc=Yn(null);function Vc(t,e){switch(Ae(Wi,e),Ae(Oo,t),Ae(Hn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?G0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=G0(e),t=z1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(Hn),Ae(Hn,t)}function Qa(){ut(Hn),ut(Oo),ut(Wi)}function hf(t){t.memoizedState!==null&&Ae(Pc,t);var e=Hn.current,n=z1(e,t.type);e!==n&&(Ae(Oo,t),Ae(Hn,n))}function zc(t){Oo.current===t&&(ut(Hn),ut(Oo)),Pc.current===t&&(ut(Pc),Ho._currentValue=Ms)}var Pd,Vy;function Ts(t){if(Pd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pd=e&&e[1]||"",Vy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pd+t+Vy}var Vd=!1;function zd(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){d=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ts(n):""}function $N(t,e){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==e&&e!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return zd(t.type,!1);case 11:return zd(t.type.render,!1);case 1:return zd(t.type,!0);case 31:return Ts("Activity");default:return""}}function zy(t){try{var e="",n=null;do e+=$N(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ff=Object.prototype.hasOwnProperty,tp=nt.unstable_scheduleCallback,Bd=nt.unstable_cancelCallback,YN=nt.unstable_shouldYield,WN=nt.unstable_requestPaint,Qt=nt.unstable_now,KN=nt.unstable_getCurrentPriorityLevel,__=nt.unstable_ImmediatePriority,w_=nt.unstable_UserBlockingPriority,Bc=nt.unstable_NormalPriority,XN=nt.unstable_LowPriority,S_=nt.unstable_IdlePriority,QN=nt.log,ZN=nt.unstable_setDisableYieldValue,ol=null,Zt=null;function Hi(t){if(typeof QN=="function"&&ZN(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ol,t)}catch{}}var Jt=Math.clz32?Math.clz32:tA,JN=Math.log,eA=Math.LN2;function tA(t){return t>>>=0,t===0?32:31-(JN(t)/eA|0)|0}var zl=256,Bl=262144,Hl=4194304;function Es(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?s=Es(i):(r&=o,r!==0?s=Es(r):n||(n=o&~t,n!==0&&(s=Es(n))))):(o=i&~a,o!==0?s=Es(o):r!==0?s=Es(r):n||(n=i&~t,n!==0&&(s=Es(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function ll(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function nA(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T_(){var t=Hl;return Hl<<=1,!(Hl&62914560)&&(Hl=4194304),t}function Hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iA(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-Jt(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}i!==0&&E_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function E_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Jt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function C_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function N_(t,e){var n=e&-e;return n=n&42?1:np(n),n&(t.suspendedLanes|e)?0:n}function np(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ip(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function A_(){var t=xe.p;return t!==0?t:(t=window.event,t===void 0?32:Q1(t.type))}function By(t,e){var n=xe.p;try{return xe.p=t,e()}finally{xe.p=n}}var gs=Math.random().toString(36).slice(2),mt="__reactFiber$"+gs,Bt="__reactProps$"+gs,pr="__reactContainer$"+gs,mf="__reactEvents$"+gs,sA="__reactListeners$"+gs,aA="__reactHandles$"+gs,Hy="__reactResources$"+gs,ul="__reactMarker$"+gs;function sp(t){delete t[mt],delete t[Bt],delete t[mf],delete t[sA],delete t[aA]}function xa(t){var e=t[mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K0(t);t!==null;){if(n=t[mt])return n;t=K0(t)}return e}t=n,n=t.parentNode}return null}function gr(t){if(t=t[mt]||t[pr]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Kr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(R(33))}function La(t){var e=t[Hy];return e||(e=t[Hy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ot(t){t[ul]=!0}var R_=new Set,I_={};function ta(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(I_[t]=e,t=0;t<e.length;t++)R_.add(e[t])}var rA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fy={},Gy={};function oA(t){return ff.call(Gy,t)?!0:ff.call(Fy,t)?!1:rA.test(t)?Gy[t]=!0:(Fy[t]=!0,!1)}function hc(t,e,n){if(oA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Fl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lA(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pf(t){if(!t._valueTracker){var e=O_(t)?"checked":"value";t._valueTracker=lA(t,e,""+t[e])}}function D_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=O_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cA=/[\n"\\]/g;function dn(t){return t.replace(cA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gf(t,e,n,i,s,a,r,o){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ln(e)):t.value!==""+ln(e)&&(t.value=""+ln(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?yf(t,r,ln(e)):n!=null?yf(t,r,ln(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ln(o):t.removeAttribute("name")}function k_(t,e,n,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){pf(t);return}n=n!=null?""+ln(n):"",e=e!=null?""+ln(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),pf(t)}function yf(t,e,n){e==="number"&&Hc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ua(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function j_(t,e,n){if(e!=null&&(e=""+ln(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ln(n):""}function M_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(R(92));if(Wr(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ln(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),pf(t)}function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||uA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function L_(t,e,n){if(e!=null&&typeof e!="object")throw Error(R(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&qy(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&qy(t,a,e[a])}function ap(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fc(t){return hA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var vf=null;function rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,Pa=null;function $y(t){var e=gr(t);if(e&&(t=e.stateNode)){var n=t[Bt]||null;e:switch(t=e.stateNode,e.type){case"input":if(gf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Bt]||null;if(!s)throw Error(R(90));gf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&D_(i)}break e;case"textarea":j_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ua(t,!!n.multiple,e,!1)}}}var Fd=!1;function U_(t,e,n){if(Fd)return t(e,n);Fd=!0;try{var i=t(e);return i}finally{if(Fd=!1,(ba!==null||Pa!==null)&&(ad(),ba&&(e=ba,t=Pa,Pa=ba=null,$y(e),t)))for(e=0;e<t.length;e++)$y(t[e])}}function Do(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Bt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=!1;if(mi)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){xf=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{xf=!1}var Fi=null,op=null,mc=null;function P_(){if(mc)return mc;var t,e=op,n=e.length,i,s="value"in Fi?Fi.value:Fi.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return mc=s.slice(t,1<i?1-i:void 0)}function pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function Yy(){return!1}function Ft(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gl:Yy,this.isPropagationStopped=Yy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Ft(na),dl=ke({},na,{view:0,detail:0}),fA=Ft(dl),Gd,qd,Mr,Ku=ke({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(Gd=t.screenX-Mr.screenX,qd=t.screenY-Mr.screenY):qd=Gd=0,Mr=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Wy=Ft(Ku),mA=ke({},Ku,{dataTransfer:0}),pA=Ft(mA),gA=ke({},dl,{relatedTarget:0}),$d=Ft(gA),yA=ke({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),vA=Ft(yA),xA=ke({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bA=Ft(xA),_A=ke({},na,{data:0}),Ky=Ft(_A),wA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function lp(){return EA}var CA=ke({},dl,{key:function(t){if(t.key){var e=wA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NA=Ft(CA),AA=ke({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Ft(AA),RA=ke({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),IA=Ft(RA),OA=ke({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),DA=Ft(OA),kA=ke({},Ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=Ft(kA),MA=ke({},na,{newState:0,oldState:0}),LA=Ft(MA),UA=[9,13,27,32],cp=mi&&"CompositionEvent"in window,so=null;mi&&"documentMode"in document&&(so=document.documentMode);var PA=mi&&"TextEvent"in window&&!so,V_=mi&&(!cp||so&&8<so&&11>=so),Qy=" ",Zy=!1;function z_(t,e){switch(t){case"keyup":return UA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function VA(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(Zy=!0,Qy);case"textInput":return t=e.data,t===Qy&&Zy?null:t;default:return null}}function zA(t,e){if(_a)return t==="compositionend"||!cp&&z_(t,e)?(t=P_(),mc=op=Fi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V_&&e.locale!=="ko"?null:e.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BA[t.type]:e==="textarea"}function H_(t,e,n,i){ba?Pa?Pa.push(i):Pa=[i]:ba=i,e=ru(e,"onChange"),0<e.length&&(n=new Wu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ao=null,ko=null;function HA(t){U1(t,0)}function Xu(t){var e=Kr(t);if(D_(e))return t}function e0(t,e){if(t==="change")return e}var F_=!1;if(mi){var Yd;if(mi){var Wd="oninput"in document;if(!Wd){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),Wd=typeof t0.oninput=="function"}Yd=Wd}else Yd=!1;F_=Yd&&(!document.documentMode||9<document.documentMode)}function n0(){ao&&(ao.detachEvent("onpropertychange",G_),ko=ao=null)}function G_(t){if(t.propertyName==="value"&&Xu(ko)){var e=[];H_(e,ko,t,rp(t)),U_(HA,e)}}function FA(t,e,n){t==="focusin"?(n0(),ao=e,ko=n,ao.attachEvent("onpropertychange",G_)):t==="focusout"&&n0()}function GA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(ko)}function qA(t,e){if(t==="click")return Xu(e)}function $A(t,e){if(t==="input"||t==="change")return Xu(e)}function YA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:YA;function jo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!ff.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function i0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s0(t,e){var n=i0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i0(n)}}function q_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Hc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var WA=mi&&"documentMode"in document&&11>=document.documentMode,wa=null,bf=null,ro=null,_f=!1;function a0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||wa==null||wa!==Hc(i)||(i=wa,"selectionStart"in i&&up(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ro&&jo(ro,i)||(ro=i,i=ru(bf,"onSelect"),0<i.length&&(e=new Wu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=wa)))}function ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Kd={},Y_={};mi&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function ia(t){if(Kd[t])return Kd[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y_)return Kd[t]=e[n];return t}var W_=ia("animationend"),K_=ia("animationiteration"),X_=ia("animationstart"),KA=ia("transitionrun"),XA=ia("transitionstart"),QA=ia("transitioncancel"),Q_=ia("transitionend"),Z_=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Ln(t,e){Z_.set(t,e),ta(e,[t])}var Fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},on=[],Ta=0,dp=0;function Qu(){for(var t=Ta,e=dp=Ta=0;e<t;){var n=on[e];on[e++]=null;var i=on[e];on[e++]=null;var s=on[e];on[e++]=null;var a=on[e];if(on[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&J_(n,s,a)}}function Zu(t,e,n,i){on[Ta++]=t,on[Ta++]=e,on[Ta++]=n,on[Ta++]=i,dp|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function hp(t,e,n,i){return Zu(t,e,n,i),Gc(t)}function sa(t,e){return Zu(t,null,null,e),Gc(t)}function J_(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-Jt(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function Gc(t){if(50<go)throw go=0,Ff=null,Error(R(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ea={};function ZA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,i){return new ZA(t,e,n,i)}function fp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ew(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gc(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")fp(t)&&(r=1);else if(typeof t=="string")r=iR(t,n,Hn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case cf:return t=Kt(31,n,e,s),t.elementType=cf,t.lanes=a,t;case ya:return Ls(n.children,s,a,e);case x_:r=8,s|=24;break;case rf:return t=Kt(12,n,e,s|2),t.elementType=rf,t.lanes=a,t;case of:return t=Kt(13,n,e,s),t.elementType=of,t.lanes=a,t;case lf:return t=Kt(19,n,e,s),t.elementType=lf,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ii:r=10;break e;case b_:r=9;break e;case Jm:r=11;break e;case ep:r=14;break e;case Oi:r=16,i=null;break e}r=29,n=Error(R(130,t===null?"null":typeof t,"")),i=null}return e=Kt(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Ls(t,e,n,i){return t=Kt(7,t,i,e),t.lanes=n,t}function Xd(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function tw(t){var e=Kt(18,null,null,0);return e.stateNode=t,e}function Qd(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var r0=new WeakMap;function hn(t,e){if(typeof t=="object"&&t!==null){var n=r0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:zy(e)},r0.set(t,e),e)}return{value:t,source:e,stack:zy(e)}}var Ca=[],Na=0,qc=null,Mo=0,cn=[],un=0,os=null,Pn=1,Vn="";function ti(t,e){Ca[Na++]=Mo,Ca[Na++]=qc,qc=t,Mo=e}function nw(t,e,n){cn[un++]=Pn,cn[un++]=Vn,cn[un++]=os,os=t;var i=Pn;t=Vn;var s=32-Jt(i)-1;i&=~(1<<s),n+=1;var a=32-Jt(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Pn=1<<32-Jt(e)+s|n<<s|i,Vn=a+t}else Pn=1<<a|n<<s|i,Vn=t}function mp(t){t.return!==null&&(ti(t,1),nw(t,1,0))}function pp(t){for(;t===qc;)qc=Ca[--Na],Ca[Na]=null,Mo=Ca[--Na],Ca[Na]=null;for(;t===os;)os=cn[--un],cn[un]=null,Vn=cn[--un],cn[un]=null,Pn=cn[--un],cn[un]=null}function iw(t,e){cn[un++]=Pn,cn[un++]=Vn,cn[un++]=os,Pn=e.id,Vn=e.overflow,os=t}var pt=null,Oe=null,me=!1,Ki=null,fn=!1,Sf=Error(R(519));function ls(t){var e=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(hn(e,t)),Sf}function o0(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[mt]=t,e[Bt]=i,n){case"dialog":ue("cancel",e),ue("close",e);break;case"iframe":case"object":case"embed":ue("load",e);break;case"video":case"audio":for(n=0;n<zo.length;n++)ue(zo[n],e);break;case"source":ue("error",e);break;case"img":case"image":case"link":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"input":ue("invalid",e),k_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ue("invalid",e);break;case"textarea":ue("invalid",e),M_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||V1(e.textContent,n)?(i.popover!=null&&(ue("beforetoggle",e),ue("toggle",e)),i.onScroll!=null&&ue("scroll",e),i.onScrollEnd!=null&&ue("scrollend",e),i.onClick!=null&&(e.onclick=si),e=!0):e=!1,e||ls(t,!0)}function l0(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:pt=pt.return}}function ua(t){if(t!==pt)return!1;if(!me)return l0(t),me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Wf(t.type,t.memoizedProps)),n=!n),n&&Oe&&ls(t),l0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));Oe=W0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));Oe=W0(t)}else e===27?(e=Oe,ys(t.type)?(t=Zf,Zf=null,Oe=t):Oe=e):Oe=pt?yn(t.stateNode.nextSibling):null;return!0}function Hs(){Oe=pt=null,me=!1}function Zd(){var t=Ki;return t!==null&&(Mt===null?Mt=t:Mt.push.apply(Mt,t),Ki=null),t}function Lo(t){Ki===null?Ki=[t]:Ki.push(t)}var Tf=Yn(null),aa=null,ai=null;function ki(t,e,n){Ae(Tf,e._currentValue),e._currentValue=n}function ui(t){t._currentValue=Tf.current,ut(Tf)}function Ef(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Cf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=s;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ef(a.return,n,t),i||(r=null);break e}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(R(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Ef(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function yr(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(R(387));if(r=r.memoizedProps,r!==null){var o=s.type;tn(s.pendingProps.value,r.value)||(t!==null?t.push(o):t=[o])}}else if(s===Pc.current){if(r=s.alternate,r===null)throw Error(R(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Ho):t=[Ho])}s=s.return}t!==null&&Cf(e,t,n,i),e.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){aa=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gt(t){return sw(aa,t)}function ql(t,e){return aa===null&&Fs(t),sw(t,e)}function sw(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(R(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var JA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},e2=nt.unstable_scheduleCallback,t2=nt.unstable_NormalPriority,Xe={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new JA,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&e2(t2,function(){t.controller.abort()})}var oo=null,Nf=0,er=0,Va=null;function n2(t,e){if(oo===null){var n=oo=[];Nf=0,er=Bp(),Va={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Nf++,e.then(c0,c0),e}function c0(){if(--Nf===0&&oo!==null){Va!==null&&(Va.status="fulfilled");var t=oo;oo=null,er=0,Va=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function i2(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var u0=K.S;K.S=function(t,e){v1=Qt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&n2(t,e),u0!==null&&u0(t,e)};var Us=Yn(null);function yp(){var t=Us.current;return t!==null?t:Ee.pooledCache}function yc(t,e){e===null?Ae(Us,Us.current):Ae(Us,e.pool)}function aw(){var t=yp();return t===null?null:{parent:Xe._currentValue,pool:t}}var vr=Error(R(460)),vp=Error(R(474)),Ju=Error(R(542)),Yc={then:function(){}};function d0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rw(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(si,si),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,f0(t),t;default:if(typeof e.status=="string")e.then(si,si);else{if(t=Ee,t!==null&&100<t.shellSuspendCounter)throw Error(R(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,f0(t),t}throw Ps=e,vr}}function Cs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ps=n,vr):n}}var Ps=null;function h0(){if(Ps===null)throw Error(R(459));var t=Ps;return Ps=null,t}function f0(t){if(t===vr||t===Ju)throw Error(R(483))}var za=null,Uo=0;function $l(t){var e=Uo;return Uo+=1,za===null&&(za=[]),rw(za,t,e)}function Lr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Yl(t,e){throw e.$$typeof===FN?Error(R(525)):(t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ow(t){function e(p,g){if(t){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function i(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(p,g){return p=ci(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function r(p){return t&&p.alternate===null&&(p.flags|=67108866),p}function o(p,g,y,w){return g===null||g.tag!==6?(g=Xd(y,p.mode,w),g.return=p,g):(g=s(g,y),g.return=p,g)}function l(p,g,y,w){var C=y.type;return C===ya?h(p,g,y.props.children,w,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&Cs(C)===g.type)?(g=s(g,y.props),Lr(g,y),g.return=p,g):(g=gc(y.type,y.key,y.props,null,p.mode,w),Lr(g,y),g.return=p,g)}function c(p,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Qd(y,p.mode,w),g.return=p,g):(g=s(g,y.children||[]),g.return=p,g)}function h(p,g,y,w,C){return g===null||g.tag!==7?(g=Ls(y,p.mode,w,C),g.return=p,g):(g=s(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Xd(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vl:return y=gc(g.type,g.key,g.props,null,p.mode,y),Lr(y,g),y.return=p,y;case Yr:return g=Qd(g,p.mode,y),g.return=p,g;case Oi:return g=Cs(g),f(p,g,y)}if(Wr(g)||kr(g))return g=Ls(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return f(p,$l(g),y);if(g.$$typeof===ii)return f(p,ql(p,g),y);Yl(p,g)}return null}function d(p,g,y,w){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:o(p,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:return y.key===C?l(p,g,y,w):null;case Yr:return y.key===C?c(p,g,y,w):null;case Oi:return y=Cs(y),d(p,g,y,w)}if(Wr(y)||kr(y))return C!==null?null:h(p,g,y,w,null);if(typeof y.then=="function")return d(p,g,$l(y),w);if(y.$$typeof===ii)return d(p,g,ql(p,y),w);Yl(p,y)}return null}function m(p,g,y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(y)||null,o(g,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vl:return p=p.get(w.key===null?y:w.key)||null,l(g,p,w,C);case Yr:return p=p.get(w.key===null?y:w.key)||null,c(g,p,w,C);case Oi:return w=Cs(w),m(p,g,y,w,C)}if(Wr(w)||kr(w))return p=p.get(y)||null,h(g,p,w,C,null);if(typeof w.then=="function")return m(p,g,y,$l(w),C);if(w.$$typeof===ii)return m(p,g,y,ql(g,w),C);Yl(g,w)}return null}function v(p,g,y,w){for(var C=null,D=null,A=g,N=g=0,I=null;A!==null&&N<y.length;N++){A.index>N?(I=A,A=null):I=A.sibling;var M=d(p,A,y[N],w);if(M===null){A===null&&(A=I);break}t&&A&&M.alternate===null&&e(p,A),g=a(M,g,N),D===null?C=M:D.sibling=M,D=M,A=I}if(N===y.length)return n(p,A),me&&ti(p,N),C;if(A===null){for(;N<y.length;N++)A=f(p,y[N],w),A!==null&&(g=a(A,g,N),D===null?C=A:D.sibling=A,D=A);return me&&ti(p,N),C}for(A=i(A);N<y.length;N++)I=m(A,p,N,y[N],w),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?N:I.key),g=a(I,g,N),D===null?C=I:D.sibling=I,D=I);return t&&A.forEach(function(ae){return e(p,ae)}),me&&ti(p,N),C}function b(p,g,y,w){if(y==null)throw Error(R(151));for(var C=null,D=null,A=g,N=g=0,I=null,M=y.next();A!==null&&!M.done;N++,M=y.next()){A.index>N?(I=A,A=null):I=A.sibling;var ae=d(p,A,M.value,w);if(ae===null){A===null&&(A=I);break}t&&A&&ae.alternate===null&&e(p,A),g=a(ae,g,N),D===null?C=ae:D.sibling=ae,D=ae,A=I}if(M.done)return n(p,A),me&&ti(p,N),C;if(A===null){for(;!M.done;N++,M=y.next())M=f(p,M.value,w),M!==null&&(g=a(M,g,N),D===null?C=M:D.sibling=M,D=M);return me&&ti(p,N),C}for(A=i(A);!M.done;N++,M=y.next())M=m(A,p,N,M.value,w),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?N:M.key),g=a(M,g,N),D===null?C=M:D.sibling=M,D=M);return t&&A.forEach(function(je){return e(p,je)}),me&&ti(p,N),C}function S(p,g,y,w){if(typeof y=="object"&&y!==null&&y.type===ya&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:e:{for(var C=y.key;g!==null;){if(g.key===C){if(C=y.type,C===ya){if(g.tag===7){n(p,g.sibling),w=s(g,y.props.children),w.return=p,p=w;break e}}else if(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&Cs(C)===g.type){n(p,g.sibling),w=s(g,y.props),Lr(w,y),w.return=p,p=w;break e}n(p,g);break}else e(p,g);g=g.sibling}y.type===ya?(w=Ls(y.props.children,p.mode,w,y.key),w.return=p,p=w):(w=gc(y.type,y.key,y.props,null,p.mode,w),Lr(w,y),w.return=p,p=w)}return r(p);case Yr:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),w=s(g,y.children||[]),w.return=p,p=w;break e}else{n(p,g);break}else e(p,g);g=g.sibling}w=Qd(y,p.mode,w),w.return=p,p=w}return r(p);case Oi:return y=Cs(y),S(p,g,y,w)}if(Wr(y))return v(p,g,y,w);if(kr(y)){if(C=kr(y),typeof C!="function")throw Error(R(150));return y=C.call(y),b(p,g,y,w)}if(typeof y.then=="function")return S(p,g,$l(y),w);if(y.$$typeof===ii)return S(p,g,ql(p,y),w);Yl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),w=s(g,y),w.return=p,p=w):(n(p,g),w=Xd(y,p.mode,w),w.return=p,p=w),r(p)):n(p,g)}return function(p,g,y,w){try{Uo=0;var C=S(p,g,y,w);return za=null,C}catch(A){if(A===vr||A===Ju)throw A;var D=Kt(29,A,null,p.mode);return D.lanes=w,D.return=p,D}finally{}}}var Gs=ow(!0),lw=ow(!1),Di=!1;function xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Gc(t),J_(t,null,n),e}return Zu(t,i,e,n),Gc(t)}function lo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C_(t,n)}}function Jd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Rf=!1;function co(){if(Rf){var t=Va;if(t!==null)throw t}}function uo(t,e,n,i){Rf=!1;var s=t.updateQueue;Di=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==r&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var f=s.baseState;r=0,h=c=l=null,o=a;do{var d=o.lane&-536870913,m=d!==o.lane;if(m?(fe&d)===d:(i&d)===d){d!==0&&d===er&&(Rf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=t,b=o;d=e;var S=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(S,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(S,f,d):v,d==null)break e;f=ke({},f,d);break e;case 2:Di=!0}}d=o.callback,d!==null&&(t.flags|=64,m&&(t.flags|=8192),m=s.callbacks,m===null?s.callbacks=[d]:m.push(d))}else m={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,r|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),us|=r,t.lanes=r,t.memoizedState=f}}function cw(t,e){if(typeof t!="function")throw Error(R(191,t));t.call(e)}function uw(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)cw(n[t],e)}var tr=Yn(null),Wc=Yn(0);function m0(t,e){t=vi,Ae(Wc,t),Ae(tr,e),vi=t|e.baseLanes}function If(){Ae(Wc,vi),Ae(tr,tr.current)}function bp(){vi=Wc.current,ut(tr),ut(Wc)}var nn=Yn(null),gn=null;function ji(t){var e=t.alternate;Ae(Fe,Fe.current&1),Ae(nn,t),gn===null&&(e===null||tr.current!==null||e.memoizedState!==null)&&(gn=t)}function Of(t){Ae(Fe,Fe.current),Ae(nn,t),gn===null&&(gn=t)}function dw(t){t.tag===22?(Ae(Fe,Fe.current),Ae(nn,t),gn===null&&(gn=t)):Mi()}function Mi(){Ae(Fe,Fe.current),Ae(nn,nn.current)}function Wt(t){ut(nn),gn===t&&(gn=null),ut(Fe)}var Fe=Yn(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xf(n)||Qf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=0,se=null,Te=null,We=null,Xc=!1,Ba=!1,qs=!1,Qc=0,Po=0,Ha=null,s2=0;function Ue(){throw Error(R(321))}function _p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function wp(t,e,n,i,s,a){return pi=a,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K.H=t===null||t.memoizedState===null?Hw:kp,qs=!1,a=n(i,s),qs=!1,Ba&&(a=fw(e,n,i,s)),hw(t),a}function hw(t){K.H=Vo;var e=Te!==null&&Te.next!==null;if(pi=0,We=Te=se=null,Xc=!1,Po=0,Ha=null,e)throw Error(R(300));t===null||Qe||(t=t.dependencies,t!==null&&$c(t)&&(Qe=!0))}function fw(t,e,n,i){se=t;var s=0;do{if(Ba&&(Ha=null),Po=0,Ba=!1,25<=s)throw Error(R(301));if(s+=1,We=Te=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}K.H=Fw,a=e(n,i)}while(Ba);return a}function a2(){var t=K.H,e=t.useState()[0];return e=typeof e.then=="function"?fl(e):e,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(se.flags|=1024),e}function Sp(){var t=Qc!==0;return Qc=0,t}function Tp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ep(t){if(Xc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Xc=!1}pi=0,We=Te=se=null,Ba=!1,Po=Qc=0,Ha=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?se.memoizedState=We=t:We=We.next=t,We}function Ge(){if(Te===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=We===null?se.memoizedState:We.next;if(e!==null)We=e,Te=t;else{if(t===null)throw se.alternate===null?Error(R(467)):Error(R(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},We===null?se.memoizedState=We=t:We=We.next=t}return We}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var e=Po;return Po+=1,Ha===null&&(Ha=[]),t=rw(Ha,t,e),e=se,(We===null?e.memoizedState:We.next)===null&&(e=e.alternate,K.H=e===null||e.memoizedState===null?Hw:kp),t}function td(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ii)return gt(t)}throw Error(R(438,String(t)))}function Cp(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ed(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=GN;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function vc(t){var e=Ge();return Np(e,Te,t)}function Np(t,e,n){var i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var o=r=null,l=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(fe&f)===f:(pi&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===er&&(h=!0);else if((pi&d)===d){c=c.next,d===er&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,se.lanes|=d,us|=d;f=c.action,qs&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,r=a):l=l.next=d,se.lanes|=f,us|=f;c=c.next}while(c!==null&&c!==e);if(l===null?r=a:l.next=o,!tn(a,t.memoizedState)&&(Qe=!0,h&&(n=Va,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function eh(t){var e=Ge(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);tn(a,e.memoizedState)||(Qe=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function mw(t,e,n){var i=se,s=Ge(),a=me;if(a){if(n===void 0)throw Error(R(407));n=n()}else n=e();var r=!tn((Te||s).memoizedState,n);if(r&&(s.memoizedState=n,Qe=!0),s=s.queue,Ap(yw.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||We!==null&&We.memoizedState.tag&1){if(i.flags|=2048,nr(9,{destroy:void 0},gw.bind(null,i,s,n,e),null),Ee===null)throw Error(R(349));a||pi&127||pw(i,e,n)}return n}function pw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=ed(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gw(t,e,n,i){e.value=n,e.getSnapshot=i,vw(e)&&xw(t)}function yw(t,e,n){return n(function(){vw(e)&&xw(t)})}function vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function xw(t){var e=sa(t,2);e!==null&&Pt(e,t,2)}function Df(t){var e=Tt();if(typeof t=="function"){var n=t;if(t=n(),qs){Hi(!0);try{n()}finally{Hi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function bw(t,e,n,i){return t.baseState=n,Np(t,Te,typeof i=="function"?i:gi)}function r2(t,e,n,i,s){if(id(t))throw Error(R(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};K.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,_w(e,a)):(a.next=n.next,e.pending=n.next=a)}}function _w(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=K.T,r={};K.T=r;try{var o=n(s,i),l=K.S;l!==null&&l(r,o),p0(t,e,o)}catch(c){kf(t,e,c)}finally{a!==null&&r.types!==null&&(a.types=r.types),K.T=a}}else try{a=n(s,i),p0(t,e,a)}catch(c){kf(t,e,c)}}function p0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){g0(t,e,i)},function(i){return kf(t,e,i)}):g0(t,e,n)}function g0(t,e,n){e.status="fulfilled",e.value=n,ww(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,_w(t,n)))}function kf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ww(e),e=e.next;while(e!==i)}t.action=null}function ww(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sw(t,e){return e}function y0(t,e){if(me){var n=Ee.formState;if(n!==null){e:{var i=se;if(me){if(Oe){t:{for(var s=Oe,a=fn;s.nodeType!==8;){if(!a){s=null;break t}if(s=yn(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Oe=yn(s.nextSibling),i=s.data==="F!";break e}}ls(i)}i=!1}i&&(e=n[0])}}return n=Tt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sw,lastRenderedState:e},n.queue=i,n=Vw.bind(null,se,i),i.dispatch=n,i=Df(!1),a=Dp.bind(null,se,!1,i.queue),i=Tt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=r2.bind(null,se,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function v0(t){var e=Ge();return Tw(e,Te,t)}function Tw(t,e,n){if(e=Np(t,e,Sw)[0],t=vc(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=fl(e)}catch(r){throw r===vr?Ju:r}else i=e;e=Ge();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(se.flags|=2048,nr(9,{destroy:void 0},o2.bind(null,s,n),null)),[i,a,t]}function o2(t,e){t.action=e}function x0(t){var e=Ge(),n=Te;if(n!==null)return Tw(e,n,t);Ge(),e=e.memoizedState,n=Ge();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function nr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=se.updateQueue,e===null&&(e=ed(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ew(){return Ge().memoizedState}function xc(t,e,n,i){var s=Tt();se.flags|=t,s.memoizedState=nr(1|e,{destroy:void 0},n,i===void 0?null:i)}function nd(t,e,n,i){var s=Ge();i=i===void 0?null:i;var a=s.memoizedState.inst;Te!==null&&i!==null&&_p(i,Te.memoizedState.deps)?s.memoizedState=nr(e,a,n,i):(se.flags|=t,s.memoizedState=nr(1|e,a,n,i))}function b0(t,e){xc(8390656,8,t,e)}function Ap(t,e){nd(2048,8,t,e)}function l2(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=ed(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Cw(t){var e=Ge().memoizedState;return l2({ref:e,nextImpl:t}),function(){if(ye&2)throw Error(R(440));return e.impl.apply(void 0,arguments)}}function Nw(t,e){return nd(4,2,t,e)}function Aw(t,e){return nd(4,4,t,e)}function Rw(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iw(t,e,n){n=n!=null?n.concat([t]):null,nd(4,4,Rw.bind(null,e,t),n)}function Rp(){}function Ow(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&_p(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Dw(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&_p(e,i[1]))return i[0];if(i=t(),qs){Hi(!0);try{t()}finally{Hi(!1)}}return n.memoizedState=[i,e],i}function Ip(t,e,n){return n===void 0||pi&1073741824&&!(fe&261930)?t.memoizedState=e:(t.memoizedState=n,t=b1(),se.lanes|=t,us|=t,n)}function kw(t,e,n,i){return tn(n,e)?n:tr.current!==null?(t=Ip(t,n,i),tn(t,e)||(Qe=!0),t):!(pi&42)||pi&1073741824&&!(fe&261930)?(Qe=!0,t.memoizedState=n):(t=b1(),se.lanes|=t,us|=t,e)}function jw(t,e,n,i,s){var a=xe.p;xe.p=a!==0&&8>a?a:8;var r=K.T,o={};K.T=o,Dp(t,!1,e,n);try{var l=s(),c=K.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=i2(l,i);ho(t,e,h,en(t))}else ho(t,e,i,en(t))}catch(f){ho(t,e,{then:function(){},status:"rejected",reason:f},en())}finally{xe.p=a,r!==null&&o.types!==null&&(r.types=o.types),K.T=r}}function c2(){}function jf(t,e,n,i){if(t.tag!==5)throw Error(R(476));var s=Mw(t).queue;jw(t,s,e,Ms,n===null?c2:function(){return Lw(t),n(i)})}function Mw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ms,baseState:Ms,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Ms},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lw(t){var e=Mw(t);e.next===null&&(e=t.alternate.memoizedState),ho(t,e.next.queue,{},en())}function Op(){return gt(Ho)}function Uw(){return Ge().memoizedState}function Pw(){return Ge().memoizedState}function u2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=en();t=Xi(n);var i=Qi(e,t,n);i!==null&&(Pt(i,e,n),lo(i,e,n)),e={cache:gp()},t.payload=e;return}e=e.return}}function d2(t,e,n){var i=en();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},id(t)?zw(e,n):(n=hp(t,e,n,i),n!==null&&(Pt(n,t,i),Bw(n,e,i)))}function Vw(t,e,n){var i=en();ho(t,e,n,i)}function ho(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(id(t))zw(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,tn(o,r))return Zu(t,e,s,0),Ee===null&&Qu(),!1}catch{}finally{}if(n=hp(t,e,s,i),n!==null)return Pt(n,t,i),Bw(n,e,i),!0}return!1}function Dp(t,e,n,i){if(i={lane:2,revertLane:Bp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},id(t)){if(e)throw Error(R(479))}else e=hp(t,n,i,2),e!==null&&Pt(e,t,2)}function id(t){var e=t.alternate;return t===se||e!==null&&e===se}function zw(t,e){Ba=Xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bw(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C_(t,n)}}var Vo={readContext:gt,use:td,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Vo.useEffectEvent=Ue;var Hw={readContext:gt,use:td,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:gt,useEffect:b0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,xc(4194308,4,Rw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){xc(4,2,t,e)},useMemo:function(t,e){var n=Tt();e=e===void 0?null:e;var i=t();if(qs){Hi(!0);try{t()}finally{Hi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Tt();if(n!==void 0){var s=n(e);if(qs){Hi(!0);try{n(e)}finally{Hi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=d2.bind(null,se,t),[i.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:function(t){t=Df(t);var e=t.queue,n=Vw.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Rp,useDeferredValue:function(t,e){var n=Tt();return Ip(n,t,e)},useTransition:function(){var t=Df(!1);return t=jw.bind(null,se,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=se,s=Tt();if(me){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Ee===null)throw Error(R(349));fe&127||pw(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,b0(yw.bind(null,i,a,t),[t]),i.flags|=2048,nr(9,{destroy:void 0},gw.bind(null,i,a,n,e),null),n},useId:function(){var t=Tt(),e=Ee.identifierPrefix;if(me){var n=Vn,i=Pn;n=(i&~(1<<32-Jt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Qc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=s2++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Op,useFormState:y0,useActionState:y0,useOptimistic:function(t){var e=Tt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Dp.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:Cp,useCacheRefresh:function(){return Tt().memoizedState=u2.bind(null,se)},useEffectEvent:function(t){var e=Tt(),n={impl:t};return e.memoizedState=n,function(){if(ye&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},kp={readContext:gt,use:td,useCallback:Ow,useContext:gt,useEffect:Ap,useImperativeHandle:Iw,useInsertionEffect:Nw,useLayoutEffect:Aw,useMemo:Dw,useReducer:vc,useRef:Ew,useState:function(){return vc(gi)},useDebugValue:Rp,useDeferredValue:function(t,e){var n=Ge();return kw(n,Te.memoizedState,t,e)},useTransition:function(){var t=vc(gi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:fl(t),e]},useSyncExternalStore:mw,useId:Uw,useHostTransitionStatus:Op,useFormState:v0,useActionState:v0,useOptimistic:function(t,e){var n=Ge();return bw(n,Te,t,e)},useMemoCache:Cp,useCacheRefresh:Pw};kp.useEffectEvent=Cw;var Fw={readContext:gt,use:td,useCallback:Ow,useContext:gt,useEffect:Ap,useImperativeHandle:Iw,useInsertionEffect:Nw,useLayoutEffect:Aw,useMemo:Dw,useReducer:eh,useRef:Ew,useState:function(){return eh(gi)},useDebugValue:Rp,useDeferredValue:function(t,e){var n=Ge();return Te===null?Ip(n,t,e):kw(n,Te.memoizedState,t,e)},useTransition:function(){var t=eh(gi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:fl(t),e]},useSyncExternalStore:mw,useId:Uw,useHostTransitionStatus:Op,useFormState:x0,useActionState:x0,useOptimistic:function(t,e){var n=Ge();return Te!==null?bw(n,Te,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:Pw};Fw.useEffectEvent=Cw;function th(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),s=Xi(i);s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(Pt(e,t,i),lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),s=Xi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(Pt(e,t,i),lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=Xi(n);i.tag=2,e!=null&&(i.callback=e),e=Qi(t,i,n),e!==null&&(Pt(e,t,n),lo(e,t,n))}};function _0(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!jo(n,i)||!jo(s,a):!0}function w0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Mf.enqueueReplaceState(e,e.state,null)}function $s(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ke({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Gw(t){Fc(t)}function qw(t){console.error(t)}function $w(t){Fc(t)}function Zc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function S0(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Lf(t,e,n){return n=Xi(n),n.tag=3,n.payload={element:null},n.callback=function(){Zc(t,e)},n}function Yw(t){return t=Xi(t),t.tag=3,t}function Ww(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){S0(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){S0(e,n,i),typeof s!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function h2(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&yr(e,n,s,!0),n=nn.current,n!==null){switch(n.tag){case 31:case 13:return gn===null?iu():n.alternate===null&&Ve===0&&(Ve=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Yc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),hh(t,i,s)),!1;case 22:return n.flags|=65536,i===Yc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),hh(t,i,s)),!1}throw Error(R(435,n.tag))}return hh(t,i,s),iu(),!1}if(me)return e=nn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Sf&&(t=Error(R(422),{cause:i}),Lo(hn(t,n)))):(i!==Sf&&(e=Error(R(423),{cause:i}),Lo(hn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=hn(i,n),s=Lf(t.stateNode,i,s),Jd(t,s),Ve!==4&&(Ve=2)),!1;var a=Error(R(520),{cause:i});if(a=hn(a,n),po===null?po=[a]:po.push(a),Ve!==4&&(Ve=2),e===null)return!0;i=hn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Lf(n.stateNode,i,t),Jd(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Zi===null||!Zi.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Yw(s),Ww(s,t,n,i),Jd(n,s),!1}n=n.return}while(n!==null);return!1}var jp=Error(R(461)),Qe=!1;function ht(t,e,n,i){e.child=t===null?lw(e,null,n,i):Gs(e,t.child,n,i)}function T0(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return Fs(e),i=wp(t,e,n,r,a,s),o=Sp(),t!==null&&!Qe?(Tp(t,e,s),yi(t,e,s)):(me&&o&&mp(e),e.flags|=1,ht(t,e,i,s),e.child)}function E0(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!fp(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Kw(t,e,a,i,s)):(t=gc(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Mp(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(r,i)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=ci(a,i),t.ref=e.ref,t.return=e,e.child=t}function Kw(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(jo(a,i)&&t.ref===e.ref)if(Qe=!1,e.pendingProps=i=a,Mp(t,s))t.flags&131072&&(Qe=!0);else return e.lanes=t.lanes,yi(t,e,s)}return Uf(t,e,n,i,s)}function Xw(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return C0(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(e,a!==null?a.cachePool:null),a!==null?m0(e,a):If(),dw(e);else return i=e.lanes=536870912,C0(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(yc(e,a.cachePool),m0(e,a),Mi(),e.memoizedState=null):(t!==null&&yc(e,null),If(),Mi());return ht(t,e,s,n),e.child}function Xr(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function C0(t,e,n,i,s){var a=yp();return a=a===null?null:{parent:Xe._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&yc(e,null),If(),dw(e),t!==null&&yr(t,e,i,!0),e.childLanes=s,null}function bc(t,e){return e=Jc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function N0(t,e,n){return Gs(e,t.child,null,n),t=bc(e,e.pendingProps),t.flags|=2,Wt(e),e.memoizedState=null,t}function f2(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(me){if(i.mode==="hidden")return t=bc(e,i),e.lanes=536870912,Xr(null,t);if(Of(e),(t=Oe)?(t=H1(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:os!==null?{id:Pn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=tw(t),n.return=e,e.child=n,pt=e,Oe=null)):t=null,t===null)throw ls(e);return e.lanes=536870912,null}return bc(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(Of(e),s)if(e.flags&256)e.flags&=-257,e=N0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(R(558));else if(Qe||yr(t,e,n,!1),s=(n&t.childLanes)!==0,Qe||s){if(i=Ee,i!==null&&(r=N_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,sa(t,r),Pt(i,t,r),jp;iu(),e=N0(t,e,n)}else t=a.treeContext,Oe=yn(r.nextSibling),pt=e,me=!0,Ki=null,fn=!1,t!==null&&iw(e,t),e=bc(e,i),e.flags|=4096;return e}return t=ci(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function _c(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Uf(t,e,n,i,s){return Fs(e),n=wp(t,e,n,i,void 0,s),i=Sp(),t!==null&&!Qe?(Tp(t,e,s),yi(t,e,s)):(me&&i&&mp(e),e.flags|=1,ht(t,e,n,s),e.child)}function A0(t,e,n,i,s,a){return Fs(e),e.updateQueue=null,n=fw(e,i,n,s),hw(t),i=Sp(),t!==null&&!Qe?(Tp(t,e,a),yi(t,e,a)):(me&&i&&mp(e),e.flags|=1,ht(t,e,n,a),e.child)}function R0(t,e,n,i,s){if(Fs(e),e.stateNode===null){var a=Ea,r=n.contextType;typeof r=="object"&&r!==null&&(a=gt(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Mf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},xp(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?gt(r):Ea,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(th(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Mf.enqueueReplaceState(a,a.state,null),uo(e,i,a,s),co(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=$s(n,o);a.props=l;var c=a.context,h=n.contextType;r=Ea,typeof h=="object"&&h!==null&&(r=gt(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==r)&&w0(e,a,i,r),Di=!1;var d=e.memoizedState;a.state=d,uo(e,i,a,s),co(),c=e.memoizedState,o||d!==c||Di?(typeof f=="function"&&(th(e,n,f,i),c=e.memoizedState),(l=Di||_0(e,n,l,i,d,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Af(t,e),r=e.memoizedProps,h=$s(n,r),a.props=h,f=e.pendingProps,d=a.context,c=n.contextType,l=Ea,typeof c=="object"&&c!==null&&(l=gt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||d!==l)&&w0(e,a,i,l),Di=!1,d=e.memoizedState,a.state=d,uo(e,i,a,s),co();var m=e.memoizedState;r!==f||d!==m||Di||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof o=="function"&&(th(e,n,o,i),m=e.memoizedState),(h=Di||_0(e,n,h,i,d,m,l)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,_c(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,n,s)):ht(t,e,n,s),e.memoizedState=a.state,t=e.child):t=yi(t,e,s),t}function I0(t,e,n,i){return Hs(),e.flags|=256,ht(t,e,n,i),e.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ih(t){return{baseLanes:t,cachePool:aw()}}function sh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Xt),t}function Qw(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(me){if(s?ji(e):Mi(),(t=Oe)?(t=H1(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:os!==null?{id:Pn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=tw(t),n.return=e,e.child=n,pt=e,Oe=null)):t=null,t===null)throw ls(e);return Qf(t)?e.lanes=32:e.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(Mi(),s=e.mode,o=Jc({mode:"hidden",children:o},s),i=Ls(i,s,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i=e.child,i.memoizedState=ih(n),i.childLanes=sh(t,r,n),e.memoizedState=nh,Xr(null,i)):(ji(e),Pf(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(ji(e),e.flags&=-257,e=ah(t,e,n)):e.memoizedState!==null?(Mi(),e.child=t.child,e.flags|=128,e=null):(Mi(),o=i.fallback,s=e.mode,i=Jc({mode:"visible",children:i.children},s),o=Ls(o,s,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,Gs(e,t.child,null,n),i=e.child,i.memoizedState=ih(n),i.childLanes=sh(t,r,n),e.memoizedState=nh,e=Xr(null,i));else if(ji(e),Qf(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(R(419)),i.stack="",i.digest=r,Lo({value:i,source:null,stack:null}),e=ah(t,e,n)}else if(Qe||yr(t,e,n,!1),r=(n&t.childLanes)!==0,Qe||r){if(r=Ee,r!==null&&(i=N_(r,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,sa(t,i),Pt(r,t,i),jp;Xf(o)||iu(),e=ah(t,e,n)}else Xf(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Oe=yn(o.nextSibling),pt=e,me=!0,Ki=null,fn=!1,t!==null&&iw(e,t),e=Pf(e,i.children),e.flags|=4096);return e}return s?(Mi(),o=i.fallback,s=e.mode,l=t.child,c=l.sibling,i=ci(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=ci(c,o):(o=Ls(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,Xr(null,i),i=e.child,o=t.child.memoizedState,o===null?o=ih(n):(s=o.cachePool,s!==null?(l=Xe._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=aw(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=sh(t,r,n),e.memoizedState=nh,Xr(t.child,i)):(ji(e),n=t.child,t=n.sibling,n=ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Pf(t,e){return e=Jc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Jc(t,e){return t=Kt(22,t,null,e),t.lanes=0,t}function ah(t,e,n){return Gs(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ef(t.return,e,n)}function rh(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function Zw(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=Fe.current,o=(r&2)!==0;if(o?(r=r&1|2,e.flags|=128):r&=1,Ae(Fe,r),ht(t,e,i,n),i=me?Mo:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,n,e);else if(t.tag===19)O0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),rh(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}rh(e,!0,n,null,a,i);break;case"together":rh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))if(t!==null){if(yr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function m2(t,e,n){switch(e.tag){case 3:Vc(e,e.stateNode.containerInfo),ki(e,Xe,t.memoizedState.cache),Hs();break;case 27:case 5:hf(e);break;case 4:Vc(e,e.stateNode.containerInfo);break;case 10:ki(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Of(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(ji(e),e.flags|=128,null):n&e.child.childLanes?Qw(t,e,n):(ji(e),t=yi(t,e,n),t!==null?t.sibling:null);ji(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(yr(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Zw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Fe,Fe.current),i)break;return null;case 22:return e.lanes=0,Xw(t,e,n,e.pendingProps);case 24:ki(e,Xe,t.memoizedState.cache)}return yi(t,e,n)}function Jw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Qe=!0;else{if(!Mp(t,n)&&!(e.flags&128))return Qe=!1,m2(t,e,n);Qe=!!(t.flags&131072)}else Qe=!1,me&&e.flags&1048576&&nw(e,Mo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Cs(e.elementType),e.type=t,typeof t=="function")fp(t)?(i=$s(t,i),e.tag=1,e=R0(null,e,t,i,n)):(e.tag=0,e=Uf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Jm){e.tag=11,e=T0(null,e,t,i,n);break e}else if(s===ep){e.tag=14,e=E0(null,e,t,i,n);break e}}throw e=uf(t)||t,Error(R(306,e,""))}}return e;case 0:return Uf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=$s(i,e.pendingProps),R0(t,e,i,s,n);case 3:e:{if(Vc(e,e.stateNode.containerInfo),t===null)throw Error(R(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,Af(t,e),uo(e,i,null,n);var r=e.memoizedState;if(i=r.cache,ki(e,Xe,i),i!==a.cache&&Cf(e,[Xe],n,!0),co(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=I0(t,e,i,n);break e}else if(i!==s){s=hn(Error(R(424)),e),Lo(s),e=I0(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=yn(t.firstChild),pt=e,me=!0,Ki=null,fn=!0,n=lw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hs(),i===s){e=yi(t,e,n);break e}ht(t,e,i,n)}e=e.child}return e;case 26:return _c(t,e),t===null?(n=Q0(e.type,null,e.pendingProps,null))?e.memoizedState=n:me||(n=e.type,t=e.pendingProps,i=ou(Wi.current).createElement(n),i[mt]=e,i[Bt]=t,yt(i,n,t),ot(i),e.stateNode=i):e.memoizedState=Q0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hf(e),t===null&&me&&(i=e.stateNode=F1(e.type,e.pendingProps,Wi.current),pt=e,fn=!0,s=Oe,ys(e.type)?(Zf=s,Oe=yn(i.firstChild)):Oe=s),ht(t,e,e.pendingProps.children,n),_c(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&me&&((s=i=Oe)&&(i=G2(i,e.type,e.pendingProps,fn),i!==null?(e.stateNode=i,pt=e,Oe=yn(i.firstChild),fn=!1,s=!0):s=!1),s||ls(e)),hf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Wf(s,a)?i=null:r!==null&&Wf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=wp(t,e,a2,null,null,n),Ho._currentValue=s),_c(t,e),ht(t,e,i,n),e.child;case 6:return t===null&&me&&((t=n=Oe)&&(n=q2(n,e.pendingProps,fn),n!==null?(e.stateNode=n,pt=e,Oe=null,t=!0):t=!1),t||ls(e)),null;case 13:return Qw(t,e,n);case 4:return Vc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Gs(e,null,i,n):ht(t,e,i,n),e.child;case 11:return T0(t,e,e.type,e.pendingProps,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,ki(e,e.type,i.value),ht(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Fs(e),s=gt(s),i=i(s),e.flags|=1,ht(t,e,i,n),e.child;case 14:return E0(t,e,e.type,e.pendingProps,n);case 15:return Kw(t,e,e.type,e.pendingProps,n);case 19:return Zw(t,e,n);case 31:return f2(t,e,n);case 22:return Xw(t,e,n,e.pendingProps);case 24:return Fs(e),i=gt(Xe),t===null?(s=yp(),s===null&&(s=Ee,a=gp(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},xp(e),ki(e,Xe,s)):(t.lanes&n&&(Af(t,e),uo(e,null,null,n),co()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),ki(e,Xe,i)):(i=a.cache,ki(e,Xe,i),i!==s.cache&&Cf(e,[Xe],n,!0))),ht(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(R(156,e.tag))}function Qn(t){t.flags|=4}function oh(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(S1())t.flags|=8192;else throw Ps=Yc,vp}else t.flags&=-16777217}function D0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$1(e))if(S1())t.flags|=8192;else throw Ps=Yc,vp}function Wl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?T_():536870912,t.lanes|=e,ir|=e)}function Ur(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function p2(t,e,n){var i=e.pendingProps;switch(pp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Re(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ui(Xe),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ua(e)?Qn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zd())),Re(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Qn(e),a!==null?(Re(e),D0(e,a)):(Re(e),oh(e,s,null,i,n))):a?a!==t.memoizedState?(Qn(e),Re(e),D0(e,a)):(Re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Qn(e),Re(e),oh(e,s,t,i,n)),null;case 27:if(zc(e),n=Wi.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Re(e),null}t=Hn.current,ua(e)?o0(e):(t=F1(s,i,n),e.stateNode=t,Qn(e))}return Re(e),null;case 5:if(zc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(!i){if(e.stateNode===null)throw Error(R(166));return Re(e),null}if(a=Hn.current,ua(e))o0(e);else{var r=ou(Wi.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[mt]=e,a[Bt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(yt(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qn(e)}}return Re(e),oh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Qn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(t=Wi.current,ua(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=pt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[mt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||V1(t.nodeValue,n)),t||ls(e,!0)}else t=ou(t).createTextNode(i),t[mt]=e,e.stateNode=t}return Re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ua(e),n!==null){if(t===null){if(!i)throw Error(R(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(557));t[mt]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),t=!1}else n=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Wt(e),e):(Wt(e),null);if(e.flags&128)throw Error(R(558))}return Re(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ua(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[mt]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),s=!1}else s=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Wt(e),e):(Wt(e),null)}return Wt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Wl(e,e.updateQueue),Re(e),null);case 4:return Qa(),t===null&&Hp(e.stateNode.containerInfo),Re(e),null;case 10:return ui(e.type),Re(e),null;case 19:if(ut(Fe),i=e.memoizedState,i===null)return Re(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ur(i,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kc(t),a!==null){for(e.flags|=128,Ur(i,!1),t=a.updateQueue,e.updateQueue=t,Wl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ew(n,t),n=n.sibling;return Ae(Fe,Fe.current&1|2),me&&ti(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Qt()>tu&&(e.flags|=128,s=!0,Ur(i,!1),e.lanes=4194304)}else{if(!s)if(t=Kc(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Wl(e,t),Ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!me)return Re(e),null}else 2*Qt()-i.renderingStartTime>tu&&n!==536870912&&(e.flags|=128,s=!0,Ur(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qt(),t.sibling=null,n=Fe.current,Ae(Fe,s?n&1|2:n&1),me&&ti(e,i.treeForkCount),t):(Re(e),null);case 22:case 23:return Wt(e),bp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),n=e.updateQueue,n!==null&&Wl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ut(Us),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ui(Xe),Re(e),null;case 25:return null;case 30:return null}throw Error(R(156,e.tag))}function g2(t,e){switch(pp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui(Xe),Qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return zc(e),null;case 31:if(e.memoizedState!==null){if(Wt(e),e.alternate===null)throw Error(R(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Wt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(Fe),null;case 4:return Qa(),null;case 10:return ui(e.type),null;case 22:case 23:return Wt(e),bp(),t!==null&&ut(Us),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ui(Xe),null;case 25:return null;default:return null}}function e1(t,e){switch(pp(e),e.tag){case 3:ui(Xe),Qa();break;case 26:case 27:case 5:zc(e);break;case 4:Qa();break;case 31:e.memoizedState!==null&&Wt(e);break;case 13:Wt(e);break;case 19:ut(Fe);break;case 10:ui(e.type);break;case 22:case 23:Wt(e),bp(),t!==null&&ut(Us);break;case 24:ui(Xe)}}function ml(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(o){_e(e,e.return,o)}}function cs(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=e;var l=n,c=o;try{c()}catch(h){_e(s,l,h)}}}i=i.next}while(i!==a)}}catch(h){_e(e,e.return,h)}}function t1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{uw(e,n)}catch(i){_e(t,t.return,i)}}}function n1(t,e,n){n.props=$s(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function fo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){_e(t,e,s)}}function zn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){_e(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){_e(t,e,s)}else n.current=null}function i1(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){_e(t,t.return,s)}}function lh(t,e,n){try{var i=t.stateNode;P2(i,t.type,n,e),i[Bt]=e}catch(s){_e(t,t.return,s)}}function s1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function ch(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(i!==4&&(i===27&&ys(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function eu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&ys(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(eu(t,e,n),t=t.sibling;t!==null;)eu(t,e,n),t=t.sibling}function a1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);yt(e,i,n),e[mt]=t,e[Bt]=n}catch(a){_e(t,t.return,a)}}var ni=!1,Ke=!1,uh=!1,k0=typeof WeakSet=="function"?WeakSet:Set,at=null;function y2(t,e){if(t=t.containerInfo,$f=du,t=$_(t),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(o=r+s),f!==a||i!==0&&f.nodeType!==3||(l=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===s&&(o=r),d===a&&++h===i&&(l=r),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yf={focusedElem:t,selectionRange:n},du=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){switch(e=at,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var v=$s(n.type,s);t=i.getSnapshotBeforeUpdate(v,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(b){_e(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Kf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(R(163))}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}}function r1(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n),i&4&&ml(5,n);break;case 1:if(Jn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){_e(n,n.return,r)}else{var s=$s(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){_e(n,n.return,r)}}i&64&&t1(n),i&512&&fo(n,n.return);break;case 3:if(Jn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{uw(t,e)}catch(r){_e(n,n.return,r)}}break;case 27:e===null&&i&4&&a1(n);case 26:case 5:Jn(t,n),e===null&&i&4&&i1(n),i&512&&fo(n,n.return);break;case 12:Jn(t,n);break;case 31:Jn(t,n),i&4&&c1(t,n);break;case 13:Jn(t,n),i&4&&u1(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=C2.bind(null,n),$2(t,n))));break;case 22:if(i=n.memoizedState!==null||ni,!i){e=e!==null&&e.memoizedState!==null||Ke,s=ni;var a=Ke;ni=i,(Ke=e)&&!a?ei(t,n,(n.subtreeFlags&8772)!==0):Jn(t,n),ni=s,Ke=a}break;case 30:break;default:Jn(t,n)}}function o1(t){var e=t.alternate;e!==null&&(t.alternate=null,o1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&sp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,jt=!1;function Zn(t,e,n){for(n=n.child;n!==null;)l1(t,e,n),n=n.sibling}function l1(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ol,n)}catch{}switch(n.tag){case 26:Ke||zn(n,e),Zn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||zn(n,e);var i=Me,s=jt;ys(n.type)&&(Me=n.stateNode,jt=!1),Zn(t,e,n),yo(n.stateNode),Me=i,jt=s;break;case 5:Ke||zn(n,e);case 6:if(i=Me,s=jt,Me=null,Zn(t,e,n),Me=i,jt=s,Me!==null)if(jt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(a){_e(n,e,a)}else try{Me.removeChild(n.stateNode)}catch(a){_e(n,e,a)}break;case 18:Me!==null&&(jt?(t=Me,$0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),or(t)):$0(Me,n.stateNode));break;case 4:i=Me,s=jt,Me=n.stateNode.containerInfo,jt=!0,Zn(t,e,n),Me=i,jt=s;break;case 0:case 11:case 14:case 15:cs(2,n,e),Ke||cs(4,n,e),Zn(t,e,n);break;case 1:Ke||(zn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&n1(n,e,i)),Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:Ke=(i=Ke)||n.memoizedState!==null,Zn(t,e,n),Ke=i;break;default:Zn(t,e,n)}}function c1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{or(t)}catch(n){_e(e,e.return,n)}}}function u1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{or(t)}catch(n){_e(e,e.return,n)}}function v2(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new k0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new k0),e;default:throw Error(R(435,t.tag))}}function Kl(t,e){var n=v2(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=N2.bind(null,t,i);i.then(s,s)}})}function Ot(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(ys(o.type)){Me=o.stateNode,jt=!1;break e}break;case 5:Me=o.stateNode,jt=!1;break e;case 3:case 4:Me=o.stateNode.containerInfo,jt=!0;break e}o=o.return}if(Me===null)throw Error(R(160));l1(a,r,s),Me=null,jt=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}var Cn=null;function d1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ot(e,t),Dt(t),i&4&&(cs(3,t,t.return),ml(3,t),cs(5,t,t.return));break;case 1:Ot(e,t),Dt(t),i&512&&(Ke||n===null||zn(n,n.return)),i&64&&ni&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Cn;if(Ot(e,t),Dt(t),i&512&&(Ke||n===null||zn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[ul]||a[mt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),yt(a,i,n),a[mt]=t,ot(a),i=a;break e;case"link":var r=J0("link","href",s).get(i+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break t}}a=s.createElement(i),yt(a,i,n),s.head.appendChild(a);break;case"meta":if(r=J0("meta","content",s).get(i+(n.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break t}}a=s.createElement(i),yt(a,i,n),s.head.appendChild(a);break;default:throw Error(R(468,i))}a[mt]=t,ot(a),i=a}t.stateNode=i}else ev(s,t.type,t.stateNode);else t.stateNode=Z0(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?ev(s,t.type,t.stateNode):Z0(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&lh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ot(e,t),Dt(t),i&512&&(Ke||n===null||zn(n,n.return)),n!==null&&i&4&&lh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ot(e,t),Dt(t),i&512&&(Ke||n===null||zn(n,n.return)),t.flags&32){s=t.stateNode;try{Ja(s,"")}catch(v){_e(t,t.return,v)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,lh(t,s,n!==null?n.memoizedProps:s)),i&1024&&(uh=!0);break;case 6:if(Ot(e,t),Dt(t),i&4){if(t.stateNode===null)throw Error(R(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){_e(t,t.return,v)}}break;case 3:if(Tc=null,s=Cn,Cn=lu(e.containerInfo),Ot(e,t),Cn=s,Dt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{or(e.containerInfo)}catch(v){_e(t,t.return,v)}uh&&(uh=!1,h1(t));break;case 4:i=Cn,Cn=lu(t.stateNode.containerInfo),Ot(e,t),Dt(t),Cn=i;break;case 12:Ot(e,t),Dt(t);break;case 31:Ot(e,t),Dt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kl(t,i)));break;case 13:Ot(e,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(sd=Qt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kl(t,i)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=ni,h=Ke;if(ni=c||s,Ke=h||l,Ot(e,t),Ke=h,ni=c,Dt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||ni||Ke||Ns(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(v){_e(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(v){_e(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;s?Y0(m,!0):Y0(l.stateNode,!1)}catch(v){_e(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(t,n))));break;case 19:Ot(e,t),Dt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kl(t,i)));break;case 30:break;case 21:break;default:Ot(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(s1(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var s=n.stateNode,a=ch(t);eu(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Ja(r,""),n.flags&=-33);var o=ch(t);eu(t,o,r);break;case 3:case 4:var l=n.stateNode.containerInfo,c=ch(t);Vf(t,c,l);break;default:throw Error(R(161))}}catch(h){_e(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;h1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Jn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)r1(t,e.alternate,e),e=e.sibling}function Ns(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:cs(4,e,e.return),Ns(e);break;case 1:zn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&n1(e,e.return,n),Ns(e);break;case 27:yo(e.stateNode);case 26:case 5:zn(e,e.return),Ns(e);break;case 22:e.memoizedState===null&&Ns(e);break;case 30:Ns(e);break;default:Ns(e)}t=t.sibling}}function ei(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:ei(s,a,n),ml(4,a);break;case 1:if(ei(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){_e(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)cw(l[s],o)}catch(c){_e(i,i.return,c)}}n&&r&64&&t1(a),fo(a,a.return);break;case 27:a1(a);case 26:case 5:ei(s,a,n),n&&i===null&&r&4&&i1(a),fo(a,a.return);break;case 12:ei(s,a,n);break;case 31:ei(s,a,n),n&&r&4&&c1(s,a);break;case 13:ei(s,a,n),n&&r&4&&u1(s,a);break;case 22:a.memoizedState===null&&ei(s,a,n),fo(a,a.return);break;case 30:break;default:ei(s,a,n)}e=e.sibling}}function Lp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&hl(n))}function Up(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t))}function bn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)f1(t,e,n,i),e=e.sibling}function f1(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:bn(t,e,n,i),s&2048&&ml(9,e);break;case 1:bn(t,e,n,i);break;case 3:bn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t)));break;case 12:if(s&2048){bn(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){_e(e,e.return,l)}}else bn(t,e,n,i);break;case 31:bn(t,e,n,i);break;case 13:bn(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?bn(t,e,n,i):mo(t,e):a._visibility&2?bn(t,e,n,i):(a._visibility|=2,ma(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Lp(r,e);break;case 24:bn(t,e,n,i),s&2048&&Up(e.alternate,e);break;default:bn(t,e,n,i)}}function ma(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,o=n,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:ma(a,r,o,l,s),ml(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?ma(a,r,o,l,s):mo(a,r):(h._visibility|=2,ma(a,r,o,l,s)),s&&c&2048&&Lp(r.alternate,r);break;case 24:ma(a,r,o,l,s),s&&c&2048&&Up(r.alternate,r);break;default:ma(a,r,o,l,s)}e=e.sibling}}function mo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:mo(n,i),s&2048&&Lp(i.alternate,i);break;case 24:mo(n,i),s&2048&&Up(i.alternate,i);break;default:mo(n,i)}e=e.sibling}}var Qr=8192;function da(t,e,n){if(t.subtreeFlags&Qr)for(t=t.child;t!==null;)m1(t,e,n),t=t.sibling}function m1(t,e,n){switch(t.tag){case 26:da(t,e,n),t.flags&Qr&&t.memoizedState!==null&&sR(n,Cn,t.memoizedState,t.memoizedProps);break;case 5:da(t,e,n);break;case 3:case 4:var i=Cn;Cn=lu(t.stateNode.containerInfo),da(t,e,n),Cn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Qr,Qr=16777216,da(t,e,n),Qr=i):da(t,e,n));break;default:da(t,e,n)}}function p1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pr(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];at=i,y1(i,t)}p1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g1(t),t=t.sibling}function g1(t){switch(t.tag){case 0:case 11:case 15:Pr(t),t.flags&2048&&cs(9,t,t.return);break;case 3:Pr(t);break;case 12:Pr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wc(t)):Pr(t);break;default:Pr(t)}}function wc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];at=i,y1(i,t)}p1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:cs(8,e,e.return),wc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,wc(e));break;default:wc(e)}t=t.sibling}}function y1(t,e){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:cs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:hl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,at=i;else e:for(n=t;at!==null;){i=at;var s=i.sibling,a=i.return;if(o1(i),i===n){at=null;break e}if(s!==null){s.return=a,at=s;break e}at=a}}}var x2={getCacheForType:function(t){var e=gt(Xe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return gt(Xe).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ee=null,de=null,fe=0,be=0,Yt=null,Gi=!1,xr=!1,Pp=!1,vi=0,Ve=0,us=0,Vs=0,Vp=0,Xt=0,ir=0,po=null,Mt=null,zf=!1,sd=0,v1=0,tu=1/0,nu=null,Zi=null,et=0,Ji=null,sr=null,di=0,Bf=0,Hf=null,x1=null,go=0,Ff=null;function en(){return ye&2&&fe!==0?fe&-fe:K.T!==null?Bp():A_()}function b1(){if(Xt===0)if(!(fe&536870912)||me){var t=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),Xt=t}else Xt=536870912;return t=nn.current,t!==null&&(t.flags|=32),Xt}function Pt(t,e,n){(t===Ee&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(ar(t,0),qi(t,fe,Xt,!1)),cl(t,n),(!(ye&2)||t!==Ee)&&(t===Ee&&(!(ye&2)&&(Vs|=n),Ve===4&&qi(t,fe,Xt,!1)),Wn(t))}function _1(t,e,n){if(ye&6)throw Error(R(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||ll(t,e),s=i?S2(t,e):dh(t,e,!0),a=i;do{if(s===0){xr&&!i&&qi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!_2(n)){s=dh(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var o=t;s=po;var l=o.current.memoizedState.isDehydrated;if(l&&(ar(o,r).flags|=256),r=dh(o,r,!1),r!==2){if(Pp&&!l){o.errorRecoveryDisabledLanes|=a,Vs|=a,s=4;break e}a=Mt,Mt=s,a!==null&&(Mt===null?Mt=a:Mt.push.apply(Mt,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){ar(t,0),qi(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(R(345));case 4:if((e&4194048)!==e)break;case 6:qi(i,e,Xt,!Gi);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(R(329))}if((e&62914560)===e&&(s=sd+300-Qt(),10<s)){if(qi(i,e,Xt,!Gi),Yu(i,0,!0)!==0)break e;di=e,i.timeoutHandle=B1(j0.bind(null,i,n,Mt,nu,zf,e,Xt,Vs,ir,Gi,a,"Throttled",-0,0),s);break e}j0(i,n,Mt,nu,zf,e,Xt,Vs,ir,Gi,a,null,-0,0)}}break}while(!0);Wn(t)}function j0(t,e,n,i,s,a,r,o,l,c,h,f,d,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},m1(e,a,f);var v=(a&62914560)===a?sd-Qt():(a&4194048)===a?v1-Qt():0;if(v=aR(f,v),v!==null){di=a,t.cancelPendingCommit=v(L0.bind(null,t,e,a,n,i,s,r,o,l,h,f,null,d,m)),qi(t,a,r,!c);return}}L0(t,e,a,n,i,s,r,o,l)}function _2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!tn(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e,n,i){e&=~Vp,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-Jt(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&E_(t,n,e)}function ad(){return ye&6?!0:(pl(0),!1)}function zp(){if(de!==null){if(be===0)var t=de.return;else t=de,ai=aa=null,Ep(t),za=null,Uo=0,t=de;for(;t!==null;)e1(t.alternate,t),t=t.return;de=null}}function ar(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,B2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),di=0,zp(),Ee=t,de=n=ci(t.current,null),fe=e,be=0,Yt=null,Gi=!1,xr=ll(t,e),Pp=!1,ir=Xt=Vp=Vs=us=Ve=0,Mt=po=null,zf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Jt(i),a=1<<s;e|=t[s],i&=~a}return vi=e,Qu(),n}function w1(t,e){se=null,K.H=Vo,e===vr||e===Ju?(e=h0(),be=3):e===vp?(e=h0(),be=4):be=e===jp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Yt=e,de===null&&(Ve=1,Zc(t,hn(e,t.current)))}function S1(){var t=nn.current;return t===null?!0:(fe&4194048)===fe?gn===null:(fe&62914560)===fe||fe&536870912?t===gn:!1}function T1(){var t=K.H;return K.H=Vo,t===null?Vo:t}function E1(){var t=K.A;return K.A=x2,t}function iu(){Ve=4,Gi||(fe&4194048)!==fe&&nn.current!==null||(xr=!0),!(us&134217727)&&!(Vs&134217727)||Ee===null||qi(Ee,fe,Xt,!1)}function dh(t,e,n){var i=ye;ye|=2;var s=T1(),a=E1();(Ee!==t||fe!==e)&&(nu=null,ar(t,e)),e=!1;var r=Ve;e:do try{if(be!==0&&de!==null){var o=de,l=Yt;switch(be){case 8:zp(),r=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(e=!0);var c=be;if(be=0,Yt=null,Aa(t,o,l,c),n&&xr){r=0;break e}break;default:c=be,be=0,Yt=null,Aa(t,o,l,c)}}w2(),r=Ve;break}catch(h){w1(t,h)}while(!0);return e&&t.shellSuspendCounter++,ai=aa=null,ye=i,K.H=s,K.A=a,de===null&&(Ee=null,fe=0,Qu()),r}function w2(){for(;de!==null;)C1(de)}function S2(t,e){var n=ye;ye|=2;var i=T1(),s=E1();Ee!==t||fe!==e?(nu=null,tu=Qt()+500,ar(t,e)):xr=ll(t,e);e:do try{if(be!==0&&de!==null){e=de;var a=Yt;t:switch(be){case 1:be=0,Yt=null,Aa(t,e,a,1);break;case 2:case 9:if(d0(a)){be=0,Yt=null,M0(e);break}e=function(){be!==2&&be!==9||Ee!==t||(be=7),Wn(t)},a.then(e,e);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:d0(a)?(be=0,Yt=null,M0(e)):(be=0,Yt=null,Aa(t,e,a,7));break;case 5:var r=null;switch(de.tag){case 26:r=de.memoizedState;case 5:case 27:var o=de;if(r?$1(r):o.stateNode.complete){be=0,Yt=null;var l=o.sibling;if(l!==null)de=l;else{var c=o.return;c!==null?(de=c,rd(c)):de=null}break t}}be=0,Yt=null,Aa(t,e,a,5);break;case 6:be=0,Yt=null,Aa(t,e,a,6);break;case 8:zp(),Ve=6;break e;default:throw Error(R(462))}}T2();break}catch(h){w1(t,h)}while(!0);return ai=aa=null,K.H=i,K.A=s,ye=n,de!==null?0:(Ee=null,fe=0,Qu(),Ve)}function T2(){for(;de!==null&&!YN();)C1(de)}function C1(t){var e=Jw(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?rd(t):de=e}function M0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=A0(n,e,e.pendingProps,e.type,void 0,fe);break;case 11:e=A0(n,e,e.pendingProps,e.type.render,e.ref,fe);break;case 5:Ep(e);default:e1(n,e),e=de=ew(e,vi),e=Jw(n,e,vi)}t.memoizedProps=t.pendingProps,e===null?rd(t):de=e}function Aa(t,e,n,i){ai=aa=null,Ep(e),za=null,Uo=0;var s=e.return;try{if(h2(t,s,e,n,fe)){Ve=1,Zc(t,hn(n,t.current)),de=null;return}}catch(a){if(s!==null)throw de=s,a;Ve=1,Zc(t,hn(n,t.current)),de=null;return}e.flags&32768?(me||i===1?t=!0:xr||fe&536870912?t=!1:(Gi=t=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),N1(e,t)):rd(e)}function rd(t){var e=t;do{if(e.flags&32768){N1(e,Gi);return}t=e.return;var n=p2(e.alternate,e,vi);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);Ve===0&&(Ve=5)}function N1(t,e){do{var n=g2(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);Ve=6,de=null}function L0(t,e,n,i,s,a,r,o,l){t.cancelPendingCommit=null;do od();while(et!==0);if(ye&6)throw Error(R(327));if(e!==null){if(e===t.current)throw Error(R(177));if(a=e.lanes|e.childLanes,a|=dp,iA(t,n,a,r,o,l),t===Ee&&(de=Ee=null,fe=0),sr=e,Ji=t,di=n,Bf=a,Hf=s,x1=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,A2(Bc,function(){return D1(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=K.T,K.T=null,s=xe.p,xe.p=2,r=ye,ye|=4;try{y2(t,e,n)}finally{ye=r,xe.p=s,K.T=i}}et=1,A1(),R1(),I1()}}function A1(){if(et===1){et=0;var t=Ji,e=sr,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=K.T,K.T=null;var i=xe.p;xe.p=2;var s=ye;ye|=4;try{d1(e,t);var a=Yf,r=$_(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&q_(o.ownerDocument.documentElement,o)){if(l!==null&&up(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),v=o.textContent.length,b=Math.min(l.start,v),S=l.end===void 0?b:Math.min(l.end,v);!m.extend&&b>S&&(r=S,S=b,b=r);var p=s0(o,b),g=s0(o,S);if(p&&g&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=f.createRange();y.setStart(p.node,p.offset),m.removeAllRanges(),b>S?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var w=f[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}du=!!$f,Yf=$f=null}finally{ye=s,xe.p=i,K.T=n}}t.current=e,et=2}}function R1(){if(et===2){et=0;var t=Ji,e=sr,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=K.T,K.T=null;var i=xe.p;xe.p=2;var s=ye;ye|=4;try{r1(t,e.alternate,e)}finally{ye=s,xe.p=i,K.T=n}}et=3}}function I1(){if(et===4||et===3){et=0,WN();var t=Ji,e=sr,n=di,i=x1;e.subtreeFlags&10256||e.flags&10256?et=5:(et=0,sr=Ji=null,O1(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Zi=null),ip(n),e=e.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ol,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=K.T,s=xe.p,xe.p=2,K.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var o=i[r];a(o.value,{componentStack:o.stack})}}finally{K.T=e,xe.p=s}}di&3&&od(),Wn(t),s=t.pendingLanes,n&261930&&s&42?t===Ff?go++:(go=0,Ff=t):go=0,pl(0)}}function O1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,hl(e)))}function od(){return A1(),R1(),I1(),D1()}function D1(){if(et!==5)return!1;var t=Ji,e=Bf;Bf=0;var n=ip(di),i=K.T,s=xe.p;try{xe.p=32>n?32:n,K.T=null,n=Hf,Hf=null;var a=Ji,r=di;if(et=0,sr=Ji=null,di=0,ye&6)throw Error(R(331));var o=ye;if(ye|=4,g1(a.current),f1(a,a.current,r,n),ye=o,pl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ol,a)}catch{}return!0}finally{xe.p=s,K.T=i,O1(t,e)}}function U0(t,e,n){e=hn(n,e),e=Lf(t.stateNode,e,2),t=Qi(t,e,2),t!==null&&(cl(t,2),Wn(t))}function _e(t,e,n){if(t.tag===3)U0(t,t,n);else for(;e!==null;){if(e.tag===3){U0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zi===null||!Zi.has(i))){t=hn(n,t),n=Yw(2),i=Qi(e,n,2),i!==null&&(Ww(n,i,e,t),cl(i,2),Wn(i));break}}e=e.return}}function hh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new b2;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Pp=!0,s.add(n),t=E2.bind(null,t,e,n),e.then(t,t))}function E2(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ee===t&&(fe&n)===n&&(Ve===4||Ve===3&&(fe&62914560)===fe&&300>Qt()-sd?!(ye&2)&&ar(t,0):Vp|=n,ir===fe&&(ir=0)),Wn(t)}function k1(t,e){e===0&&(e=T_()),t=sa(t,e),t!==null&&(cl(t,e),Wn(t))}function C2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k1(t,n)}function N2(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(e),k1(t,n)}function A2(t,e){return tp(t,e)}var su=null,pa=null,Gf=!1,au=!1,fh=!1,$i=0;function Wn(t){t!==pa&&t.next===null&&(pa===null?su=pa=t:pa=pa.next=t),au=!0,Gf||(Gf=!0,I2())}function pl(t,e){if(!fh&&au){fh=!0;do for(var n=!1,i=su;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Jt(42|t)+1)-1,a&=s&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,P0(i,a))}else a=fe,a=Yu(i,i===Ee?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||ll(i,a)||(n=!0,P0(i,a));i=i.next}while(n);fh=!1}}function R2(){j1()}function j1(){au=Gf=!1;var t=0;$i!==0&&z2()&&(t=$i);for(var e=Qt(),n=null,i=su;i!==null;){var s=i.next,a=M1(i,e);a===0?(i.next=null,n===null?su=s:n.next=s,s===null&&(pa=n)):(n=i,(t!==0||a&3)&&(au=!0)),i=s}et!==0&&et!==5||pl(t),$i!==0&&($i=0)}function M1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-Jt(a),o=1<<r,l=s[r];l===-1?(!(o&n)||o&i)&&(s[r]=nA(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ee,n=fe,n=Yu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(be===2||be===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Bd(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ll(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Bd(i),ip(n)){case 2:case 8:n=w_;break;case 32:n=Bc;break;case 268435456:n=S_;break;default:n=Bc}return i=L1.bind(null,t),n=tp(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Bd(i),t.callbackPriority=2,t.callbackNode=null,2}function L1(t,e){if(et!==0&&et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(od()&&t.callbackNode!==n)return null;var i=fe;return i=Yu(t,t===Ee?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(_1(t,i,e),M1(t,Qt()),t.callbackNode!=null&&t.callbackNode===n?L1.bind(null,t):null)}function P0(t,e){if(od())return null;_1(t,e,!0)}function I2(){H2(function(){ye&6?tp(__,R2):j1()})}function Bp(){if($i===0){var t=er;t===0&&(t=zl,zl<<=1,!(zl&261888)&&(zl=256)),$i=t}return $i}function V0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fc(""+t)}function z0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function O2(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=V0((s[Bt]||null).action),r=i.submitter;r&&(e=(e=r[Bt]||null)?V0(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var o=new Wu("action","action",null,i,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if($i!==0){var l=r?z0(s,r):new FormData(s);jf(n,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?z0(s,r):new FormData(s),jf(n,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var mh=0;mh<wf.length;mh++){var ph=wf[mh],D2=ph.toLowerCase(),k2=ph[0].toUpperCase()+ph.slice(1);Ln(D2,"on"+k2)}Ln(W_,"onAnimationEnd");Ln(K_,"onAnimationIteration");Ln(X_,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(KA,"onTransitionRun");Ln(XA,"onTransitionStart");Ln(QA,"onTransitionCancel");Ln(Q_,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function U1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(h){Fc(h)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(h){Fc(h)}s.currentTarget=null,a=l}}}}function ue(t,e){var n=e[mf];n===void 0&&(n=e[mf]=new Set);var i=t+"__bubble";n.has(i)||(P1(e,t,2,!1),n.add(i))}function gh(t,e,n){var i=0;e&&(i|=4),P1(n,t,i,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Hp(t){if(!t[Xl]){t[Xl]=!0,R_.forEach(function(n){n!=="selectionchange"&&(j2.has(n)||gh(n,!1,t),gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,gh("selectionchange",!1,e))}}function P1(t,e,n,i){switch(Q1(e)){case 2:var s=lR;break;case 8:s=cR;break;default:s=$p}n=s.bind(null,e,n,t),s=void 0,!xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yh(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;o!==null;){if(r=xa(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue e}o=o.parentNode}}i=i.return}U_(function(){var c=a,h=rp(n),f=[];e:{var d=Z_.get(t);if(d!==void 0){var m=Wu,v=t;switch(t){case"keypress":if(pc(n)===0)break e;case"keydown":case"keyup":m=NA;break;case"focusin":v="focus",m=$d;break;case"focusout":v="blur",m=$d;break;case"beforeblur":case"afterblur":m=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IA;break;case W_:case K_:case X_:m=vA;break;case Q_:m=DA;break;case"scroll":case"scrollend":m=fA;break;case"wheel":m=jA;break;case"copy":case"cut":case"paste":m=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xy;break;case"toggle":case"beforetoggle":m=LA}var b=(e&4)!==0,S=!b&&(t==="scroll"||t==="scrollend"),p=b?d!==null?d+"Capture":null:d;b=[];for(var g=c,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||p===null||(w=Do(g,p),w!=null&&b.push(Bo(g,w,y))),S)break;g=g.return}0<b.length&&(d=new m(d,v,null,n,h),f.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==vf&&(v=n.relatedTarget||n.fromElement)&&(xa(v)||v[pr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?xa(v):null,v!==null&&(S=rl(v),b=v.tag,v!==S||b!==5&&b!==27&&b!==6)&&(v=null)):(m=null,v=c),m!==v)){if(b=Wy,w="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=Xy,w="onPointerLeave",p="onPointerEnter",g="pointer"),S=m==null?d:Kr(m),y=v==null?d:Kr(v),d=new b(w,g+"leave",m,n,h),d.target=S,d.relatedTarget=y,w=null,xa(h)===c&&(b=new b(p,g+"enter",v,n,h),b.target=y,b.relatedTarget=S,w=b),S=w,m&&v)t:{for(b=M2,p=m,g=v,y=0,w=p;w;w=b(w))y++;w=0;for(var C=g;C;C=b(C))w++;for(;0<y-w;)p=b(p),y--;for(;0<w-y;)g=b(g),w--;for(;y--;){if(p===g||g!==null&&p===g.alternate){b=p;break t}p=b(p),g=b(g)}b=null}else b=null;m!==null&&B0(f,d,m,b,!1),v!==null&&S!==null&&B0(f,S,v,b,!0)}}e:{if(d=c?Kr(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var D=e0;else if(Jy(d))if(F_)D=$A;else{D=GA;var A=FA}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&ap(c.elementType)&&(D=e0):D=qA;if(D&&(D=D(t,c))){H_(f,D,n,h);break e}A&&A(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&yf(d,"number",d.value)}switch(A=c?Kr(c):window,t){case"focusin":(Jy(A)||A.contentEditable==="true")&&(wa=A,bf=c,ro=null);break;case"focusout":ro=bf=wa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,a0(f,n,h);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":a0(f,n,h)}var N;if(cp)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else _a?z_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(V_&&n.locale!=="ko"&&(_a||I!=="onCompositionStart"?I==="onCompositionEnd"&&_a&&(N=P_()):(Fi=h,op="value"in Fi?Fi.value:Fi.textContent,_a=!0)),A=ru(c,I),0<A.length&&(I=new Ky(I,t,null,n,h),f.push({event:I,listeners:A}),N?I.data=N:(N=B_(n),N!==null&&(I.data=N)))),(N=PA?VA(t,n):zA(t,n))&&(I=ru(c,"onBeforeInput"),0<I.length&&(A=new Ky("onBeforeInput","beforeinput",null,n,h),f.push({event:A,listeners:I}),A.data=N)),O2(f,t,c,n,h)}U1(f,e)})}function Bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Do(t,n),s!=null&&i.unshift(Bo(t,s,a)),s=Do(t,e),s!=null&&i.push(Bo(t,s,a))),t.tag===3)return i;t=t.return}return[]}function M2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B0(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=Do(n,a),c!=null&&r.unshift(Bo(n,c,l))):s||(c=Do(n,a),c!=null&&r.push(Bo(n,c,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var L2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function H0(t){return(typeof t=="string"?t:""+t).replace(L2,`
`).replace(U2,"")}function V1(t,e){return e=H0(e),H0(t)===e}function we(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ja(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ja(t,""+i);break;case"className":Fl(t,"class",i);break;case"tabIndex":Fl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(t,n,i);break;case"style":L_(t,i,a);break;case"data":if(e!=="object"){Fl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=fc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&we(t,e,"name",s.name,s,null),we(t,e,"formEncType",s.formEncType,s,null),we(t,e,"formMethod",s.formMethod,s,null),we(t,e,"formTarget",s.formTarget,s,null)):(we(t,e,"encType",s.encType,s,null),we(t,e,"method",s.method,s,null),we(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=fc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=si);break;case"onScroll":i!=null&&ue("scroll",t);break;case"onScrollEnd":i!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=fc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ue("beforetoggle",t),ue("toggle",t),hc(t,"popover",i);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=dA.get(n)||n,hc(t,n,i))}}function qf(t,e,n,i,s,a){switch(n){case"style":L_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(R(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ja(t,i):(typeof i=="number"||typeof i=="bigint")&&Ja(t,""+i);break;case"onScroll":i!=null&&ue("scroll",t);break;case"onScrollEnd":i!=null&&ue("scrollend",t);break;case"onClick":i!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!I_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[Bt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):hc(t,n,i)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:we(t,e,a,r,n,null)}}s&&we(t,e,"srcSet",n.srcSet,n,null),i&&we(t,e,"src",n.src,n,null);return;case"input":ue("invalid",t);var o=a=r=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,e));break;default:we(t,e,i,h,n,null)}}k_(t,a,o,l,c,r,s,!1);return;case"select":ue("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:we(t,e,s,o,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ua(t,!!i,e,!1):n!=null&&Ua(t,!!i,n,!0);return;case"textarea":ue("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:we(t,e,r,o,n,null)}M_(t,i,s,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:we(t,e,l,i,n,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(i=0;i<zo.length;i++)ue(zo[i],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,e));default:we(t,e,c,i,n,null)}return;default:if(ap(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&qf(t,e,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&we(t,e,o,i,n,null))}function P2(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,c=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(m)||we(t,e,m,null,i,f)}}for(var d in i){var m=i[d];if(f=n[d],i.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":a=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(R(137,e));break;default:m!==f&&we(t,e,d,m,i,f)}}gf(t,r,o,l,c,h,a,s);return;case"select":m=r=o=d=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(a)||we(t,e,a,null,i,l)}for(s in i)if(a=i[s],l=n[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&we(t,e,s,a,i,l)}e=o,n=r,i=m,d!=null?Ua(t,!!n,d,!1):!!i!=!!n&&(e!=null?Ua(t,!!n,e,!0):Ua(t,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:we(t,e,o,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":d=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(R(91));break;default:s!==a&&we(t,e,r,s,i,a)}j_(t,d,m);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:we(t,e,v,null,i,d)}for(l in i)if(d=i[l],m=n[l],i.hasOwnProperty(l)&&d!==m&&(d!=null||m!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:we(t,e,l,d,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!i.hasOwnProperty(b)&&we(t,e,b,null,i,d);for(c in i)if(d=i[c],m=n[c],i.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,e));break;default:we(t,e,c,d,i,m)}return;default:if(ap(e)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!i.hasOwnProperty(S)&&qf(t,e,S,void 0,i,d);for(h in i)d=i[h],m=n[h],!i.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||qf(t,e,h,d,i,m);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!i.hasOwnProperty(p)&&we(t,e,p,null,i,d);for(f in i)d=i[f],m=n[f],!i.hasOwnProperty(f)||d===m||d==null&&m==null||we(t,e,f,d,i,m)}function F0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,o=s.duration;if(a&&o&&F0(r)){for(r=0,o=s.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var h=l.transferSize,f=l.initiatorType;h&&F0(f)&&(l=l.responseEnd,r+=h*(l<o?1:(o-c)/(l-c)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Yf=null;function ou(t){return t.nodeType===9?t:t.ownerDocument}function G0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=null;function z2(){var t=window.event;return t&&t.type==="popstate"?t===vh?!1:(vh=t,!0):(vh=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(t){return q0.resolve(null).then(t).catch(F2)}:B1;function F2(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function $0(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),or(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")yo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,yo(n);for(var a=n.firstChild;a;){var r=a.nextSibling,o=a.nodeName;a[ul]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&yo(t.ownerDocument.body);n=s}while(n);or(e)}function Y0(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Kf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kf(n),sp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function G2(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ul])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=yn(t.nextSibling),t===null)break}return null}function q2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yn(t.nextSibling),t===null))return null;return t}function H1(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=yn(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $2(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Zf=null;function W0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return yn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function K0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function F1(t,e,n){switch(e=ou(n),t){case"html":if(t=e.documentElement,!t)throw Error(R(452));return t;case"head":if(t=e.head,!t)throw Error(R(453));return t;case"body":if(t=e.body,!t)throw Error(R(454));return t;default:throw Error(R(451))}}function yo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);sp(t)}var vn=new Map,X0=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=xe.d;xe.d={f:Y2,r:W2,D:K2,C:X2,L:Q2,m:Z2,X:eR,S:J2,M:tR};function Y2(){var t=Ti.f(),e=ad();return t||e}function W2(t){var e=gr(t);e!==null&&e.tag===5&&e.type==="form"?Lw(e):Ti.r(t)}var br=typeof document>"u"?null:document;function G1(t,e,n){var i=br;if(i&&typeof e=="string"&&e){var s=dn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),X0.has(s)||(X0.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),yt(e,"link",t),ot(e),i.head.appendChild(e)))}}function K2(t){Ti.D(t),G1("dns-prefetch",t,null)}function X2(t,e){Ti.C(t,e),G1("preconnect",t,e)}function Q2(t,e,n){Ti.L(t,e,n);var i=br;if(i&&t&&e){var s='link[rel="preload"][as="'+dn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+dn(n.imageSizes)+'"]')):s+='[href="'+dn(t)+'"]';var a=s;switch(e){case"style":a=rr(t);break;case"script":a=_r(t)}vn.has(a)||(t=ke({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),vn.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(gl(a))||e==="script"&&i.querySelector(yl(a))||(e=i.createElement("link"),yt(e,"link",t),ot(e),i.head.appendChild(e)))}}function Z2(t,e){Ti.m(t,e);var n=br;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+dn(i)+'"][href="'+dn(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=_r(t)}if(!vn.has(a)&&(t=ke({rel:"modulepreload",href:t},e),vn.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(yl(a)))return}i=n.createElement("link"),yt(i,"link",t),ot(i),n.head.appendChild(i)}}}function J2(t,e,n){Ti.S(t,e,n);var i=br;if(i&&t){var s=La(i).hoistableStyles,a=rr(t);e=e||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(gl(a)))o.loading=5;else{t=ke({rel:"stylesheet",href:t,"data-precedence":e},n),(n=vn.get(a))&&Fp(t,n);var l=r=i.createElement("link");ot(l),yt(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Sc(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function eR(t,e){Ti.X(t,e);var n=br;if(n&&t){var i=La(n).hoistableScripts,s=_r(t),a=i.get(s);a||(a=n.querySelector(yl(s)),a||(t=ke({src:t,async:!0},e),(e=vn.get(s))&&Gp(t,e),a=n.createElement("script"),ot(a),yt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function tR(t,e){Ti.M(t,e);var n=br;if(n&&t){var i=La(n).hoistableScripts,s=_r(t),a=i.get(s);a||(a=n.querySelector(yl(s)),a||(t=ke({src:t,async:!0,type:"module"},e),(e=vn.get(s))&&Gp(t,e),a=n.createElement("script"),ot(a),yt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Q0(t,e,n,i){var s=(s=Wi.current)?lu(s):null;if(!s)throw Error(R(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=rr(n.href),n=La(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=rr(n.href);var a=La(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(gl(t)))&&!a._p&&(r.instance=a,r.state.loading=5),vn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vn.set(t,n),a||nR(s,t,n,r.state))),e&&i===null)throw Error(R(528,""));return r}if(e&&i!==null)throw Error(R(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=_r(n),n=La(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,t))}}function rr(t){return'href="'+dn(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function q1(t){return ke({},t,{"data-precedence":t.precedence,precedence:null})}function nR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),yt(e,"link",n),ot(e),t.head.appendChild(e))}function _r(t){return'[src="'+dn(t)+'"]'}function yl(t){return"script[async]"+t}function Z0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+dn(n.href)+'"]');if(i)return e.instance=i,ot(i),i;var s=ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ot(i),yt(i,"style",s),Sc(i,n.precedence,t),e.instance=i;case"stylesheet":s=rr(n.href);var a=t.querySelector(gl(s));if(a)return e.state.loading|=4,e.instance=a,ot(a),a;i=q1(n),(s=vn.get(s))&&Fp(i,s),a=(t.ownerDocument||t).createElement("link"),ot(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),yt(a,"link",i),e.state.loading|=4,Sc(a,n.precedence,t),e.instance=a;case"script":return a=_r(n.src),(s=t.querySelector(yl(a)))?(e.instance=s,ot(s),s):(i=n,(s=vn.get(a))&&(i=ke({},n),Gp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ot(s),yt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(R(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Sc(i,n.precedence,t));return e.instance}function Sc(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===e)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Fp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tc=null;function J0(t,e,n){if(Tc===null){var i=new Map,s=Tc=new Map;s.set(n,i)}else s=Tc,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[ul]||a[mt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function ev(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function iR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function sR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=rr(i.href),a=e.querySelector(gl(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=cu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,ot(a);return}a=e.ownerDocument||e,i=q1(i),(s=vn.get(s))&&Fp(i,s),a=a.createElement("link"),ot(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),yt(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=cu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var xh=0;function aR(t,e){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&xh===0&&(xh=62500*V2());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>xh?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uu=null;function Ec(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uu=new Map,e.forEach(rR,t),uu=null,cu.call(t))}function rR(t,e){if(!(e.state.loading&4)){var n=uu.get(t);if(n)var i=n.get(null);else{n=new Map,uu.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=cu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Ho={$$typeof:ii,Provider:null,Consumer:null,_currentValue:Ms,_currentValue2:Ms,_threadCount:0};function oR(t,e,n,i,s,a,r,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.hiddenUpdates=Hd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Y1(t,e,n,i,s,a,r,o,l,c,h,f){return t=new oR(t,e,n,r,l,c,h,f,o),e=1,a===!0&&(e|=24),a=Kt(3,null,null,e),t.current=a,a.stateNode=t,e=gp(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},xp(a),t}function W1(t){return t?(t=Ea,t):Ea}function K1(t,e,n,i,s,a){s=W1(s),i.context===null?i.context=s:i.pendingContext=s,i=Xi(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Qi(t,i,e),n!==null&&(Pt(n,t,e),lo(n,t,e))}function tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qp(t,e){tv(t,e),(t=t.alternate)&&tv(t,e)}function X1(t){if(t.tag===13||t.tag===31){var e=sa(t,67108864);e!==null&&Pt(e,t,67108864),qp(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var e=en();e=np(e);var n=sa(t,e);n!==null&&Pt(n,t,e),qp(t,e)}}var du=!0;function lR(t,e,n,i){var s=K.T;K.T=null;var a=xe.p;try{xe.p=2,$p(t,e,n,i)}finally{xe.p=a,K.T=s}}function cR(t,e,n,i){var s=K.T;K.T=null;var a=xe.p;try{xe.p=8,$p(t,e,n,i)}finally{xe.p=a,K.T=s}}function $p(t,e,n,i){if(du){var s=Jf(i);if(s===null)yh(t,e,i,hu,n),iv(t,i);else if(dR(s,t,e,n,i))i.stopPropagation();else if(iv(t,i),e&4&&-1<uR.indexOf(t)){for(;s!==null;){var a=gr(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Es(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-Jt(r);o.entanglements[1]|=l,r&=~l}Wn(a),!(ye&6)&&(tu=Qt()+500,pl(0))}}break;case 31:case 13:o=sa(a,2),o!==null&&Pt(o,a,2),ad(),qp(a,2)}if(a=Jf(i),a===null&&yh(t,e,i,hu,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else yh(t,e,i,null,n)}}function Jf(t){return t=rp(t),Yp(t)}var hu=null;function Yp(t){if(hu=null,t=xa(t),t!==null){var e=rl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=g_(e),t!==null)return t;t=null}else if(n===31){if(t=y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return hu=t,null}function Q1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KN()){case __:return 2;case w_:return 8;case Bc:case XN:return 32;case S_:return 268435456;default:return 32}default:return 32}}var em=!1,es=null,ts=null,ns=null,Fo=new Map,Go=new Map,Li=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function Vr(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=gr(e),e!==null&&X1(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dR(t,e,n,i,s){switch(e){case"focusin":return es=Vr(es,t,e,n,i,s),!0;case"dragenter":return ts=Vr(ts,t,e,n,i,s),!0;case"mouseover":return ns=Vr(ns,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Fo.set(a,Vr(Fo.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Go.set(a,Vr(Go.get(a)||null,t,e,n,i,s)),!0}return!1}function Z1(t){var e=xa(t.target);if(e!==null){var n=rl(e);if(n!==null){if(e=n.tag,e===13){if(e=g_(n),e!==null){t.blockedOn=e,By(t.priority,function(){nv(n)});return}}else if(e===31){if(e=y_(n),e!==null){t.blockedOn=e,By(t.priority,function(){nv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);vf=i,n.target.dispatchEvent(i),vf=null}else return e=gr(n),e!==null&&X1(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Cc(t)&&n.delete(e)}function hR(){em=!1,es!==null&&Cc(es)&&(es=null),ts!==null&&Cc(ts)&&(ts=null),ns!==null&&Cc(ns)&&(ns=null),Fo.forEach(sv),Go.forEach(sv)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,em||(em=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,hR)))}var Zl=null;function av(t){Zl!==t&&(Zl=t,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,function(){Zl===t&&(Zl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Yp(i||n)===null)continue;break}var a=gr(n);a!==null&&(t.splice(e,3),e-=3,jf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function or(t){function e(l){return Ql(l,t)}es!==null&&Ql(es,t),ts!==null&&Ql(ts,t),ns!==null&&Ql(ns,t),Fo.forEach(e),Go.forEach(e);for(var n=0;n<Li.length;n++){var i=Li[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&Li.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[Bt]||null;if(typeof a=="function")r||av(n);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Bt]||null)o=r.formAction;else if(Yp(s)!==null)continue}else o=r.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),av(n)}}}function J1(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Wp(t){this._internalRoot=t}ld.prototype.render=Wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));var n=e.current,i=en();K1(n,i,t,e,null,null)};ld.prototype.unmount=Wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;K1(t.current,2,null,t,null,null),ad(),e[pr]=null}};function ld(t){this._internalRoot=t}ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=A_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&Z1(t)}};var rv=m_.version;if(rv!=="19.2.3")throw Error(R(527,rv,"19.2.3"));xe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=HN(e),t=t!==null?v_(t):null,t=t===null?null:t.stateNode,t};var fR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{ol=Jl.inject(fR),Zt=Jl}catch{}}qu.createRoot=function(t,e){if(!p_(t))throw Error(R(299));var n=!1,i="",s=Gw,a=qw,r=$w;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Y1(t,1,!1,null,null,n,i,null,s,a,r,J1),t[pr]=e.current,Hp(t),new Wp(e)};qu.hydrateRoot=function(t,e,n){if(!p_(t))throw Error(R(299));var i=!1,s="",a=Gw,r=qw,o=$w,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Y1(t,1,!0,e,n??null,i,s,l,a,r,o,J1),e.context=W1(null),n=e.current,i=en(),i=np(i),s=Xi(i),s.callback=null,Qi(n,s,i),n=i,e.current.lanes=n,cl(e,n),Wn(e),t[pr]=e.current,Hp(t),new ld(e)};qu.version="19.2.3";function eS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eS)}catch(t){console.error(t)}}eS(),l_.exports=qu;var mR=l_.exports;const pR=Zb(mR),Kp=E.createContext({});function ds(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const tS=typeof window<"u",cd=tS?E.useLayoutEffect:E.useEffect,ud=E.createContext(null);function Xp(t,e){t.indexOf(e)===-1&&t.push(e)}function Qp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kn=(t,e,n)=>n>e?e:n<t?t:n;let qo=()=>{};const xi={},nS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iS(t){return typeof t=="object"&&t!==null}const sS=t=>/^0[^.\s]+$/u.test(t);function Zp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vt=t=>t,gR=(t,e)=>n=>e(t(n)),vl=(...t)=>t.reduce(gR),lr=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Jp{constructor(){this.subscriptions=[]}add(e){return Xp(this.subscriptions,e),()=>Qp(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=t=>t*1e3,pn=t=>t/1e3;function eg(t,e){return e?t*(1e3/e):0}const aS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yR=1e-7,vR=12;function xR(t,e,n,i,s){let a,r,o=0;do r=e+(n-e)/2,a=aS(r,i,s)-t,a>0?n=r:e=r;while(Math.abs(a)>yR&&++o<vR);return r}function xl(t,e,n,i){if(t===e&&n===i)return Vt;const s=a=>xR(a,0,1,t,n);return a=>a===0||a===1?a:aS(s(a),e,i)}const rS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oS=t=>e=>1-t(1-e),lS=xl(.33,1.53,.69,.99),tg=oS(lS),cS=rS(tg),uS=t=>(t*=2)<1?.5*tg(t):.5*(2-Math.pow(2,-10*(t-1))),ng=t=>1-Math.sin(Math.acos(t)),dS=oS(ng),hS=rS(ng),bR=xl(.42,0,1,1),_R=xl(0,0,.58,1),fS=xl(.42,0,.58,1),wR=t=>Array.isArray(t)&&typeof t[0]!="number",mS=t=>Array.isArray(t)&&typeof t[0]=="number",SR={linear:Vt,easeIn:bR,easeInOut:fS,easeOut:_R,circIn:ng,circInOut:hS,circOut:dS,backIn:tg,backInOut:cS,backOut:lS,anticipate:uS},TR=t=>typeof t=="string",ov=t=>{if(mS(t)){qo(t.length===4);const[e,n,i,s]=t;return xl(e,n,i,s)}else if(TR(t))return SR[t];return t},ec=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ER(t,e){let n=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){r.has(h)&&(c.schedule(h),t()),h(o)}const c={schedule:(h,f=!1,d=!1)=>{const v=d&&s?n:i;return f&&r.add(h),v.has(h)||v.add(h),h},cancel:h=>{i.delete(h),r.delete(h)},process:h=>{if(o=h,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(l),n.clear(),s=!1,a&&(a=!1,c.process(h))}};return c}const CR=40;function pS(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=ec.reduce((y,w)=>(y[w]=ER(a),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:d,render:m,postRender:v}=r,b=()=>{const y=xi.useManualTiming?s.timestamp:performance.now();n=!1,xi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(y-s.timestamp,CR),1)),s.timestamp=y,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),h.process(s),f.process(s),d.process(s),m.process(s),v.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(b))},S=()=>{n=!0,i=!0,s.isProcessing||t(b)};return{schedule:ec.reduce((y,w)=>{const C=r[w];return y[w]=(D,A=!1,N=!1)=>(n||S(),C.schedule(D,A,N)),y},{}),cancel:y=>{for(let w=0;w<ec.length;w++)r[ec[w]].cancel(y)},state:s,steps:r}}const{schedule:ve,cancel:jn,state:it,steps:bh}=pS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vt,!0);let Nc;function NR(){Nc=void 0}const Ct={now:()=>(Nc===void 0&&Ct.set(it.isProcessing||xi.useManualTiming?it.timestamp:performance.now()),Nc),set:t=>{Nc=t,queueMicrotask(NR)}},gS=t=>e=>typeof e=="string"&&e.startsWith(t),yS=gS("--"),AR=gS("var(--"),ig=t=>AR(t)?RR.test(t.split("/*")[0].trim()):!1,RR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const wr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$o={...wr,transform:t=>kn(0,1,t)},tc={...wr,default:1},vo=t=>Math.round(t*1e5)/1e5,sg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IR(t){return t==null}const OR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ag=(t,e)=>n=>!!(typeof n=="string"&&OR.test(n)&&n.startsWith(t)||e&&!IR(n)&&Object.prototype.hasOwnProperty.call(n,e)),vS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(sg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},DR=t=>kn(0,255,t),_h={...wr,transform:t=>Math.round(DR(t))},Os={test:ag("rgb","red"),parse:vS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+_h.transform(t)+", "+_h.transform(e)+", "+_h.transform(n)+", "+vo($o.transform(i))+")"};function kR(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const tm={test:ag("#"),parse:kR,transform:Os.transform},bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=bl("deg"),Fn=bl("%"),V=bl("px"),jR=bl("vh"),MR=bl("vw"),cv={...Fn,parse:t=>Fn.parse(t)/100,transform:t=>Fn.transform(t*100)},Ra={test:ag("hsl","hue"),parse:vS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Fn.transform(vo(e))+", "+Fn.transform(vo(n))+", "+vo($o.transform(i))+")"},Ye={test:t=>Os.test(t)||tm.test(t)||Ra.test(t),parse:t=>Os.test(t)?Os.parse(t):Ra.test(t)?Ra.parse(t):tm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):Ra.transform(t),getAnimatableNone:t=>{const e=Ye.parse(t);return e.alpha=0,Ye.transform(e)}},LR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sg))==null?void 0:e.length)||0)+(((n=t.match(LR))==null?void 0:n.length)||0)>0}const xS="number",bS="color",PR="var",VR="var(",uv="${}",zR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=e.replace(zR,l=>(Ye.test(l)?(i.color.push(a),s.push(bS),n.push(Ye.parse(l))):l.startsWith(VR)?(i.var.push(a),s.push(PR),n.push(l)):(i.number.push(a),s.push(xS),n.push(parseFloat(l))),++a,uv)).split(uv);return{values:n,split:o,indexes:i,types:s}}function _S(t){return Yo(t).values}function wS(t){const{split:e,types:n}=Yo(t),i=e.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=e[r],s[r]!==void 0){const o=n[r];o===xS?a+=vo(s[r]):o===bS?a+=Ye.transform(s[r]):a+=s[r]}return a}}const BR=t=>typeof t=="number"?0:Ye.test(t)?Ye.getAnimatableNone(t):t;function HR(t){const e=_S(t);return wS(t)(e.map(BR))}const hs={test:UR,parse:_S,createTransformer:wS,getAnimatableNone:HR};function wh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,r=0;if(!e)s=a=r=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=wh(l,o,t+1/3),a=wh(l,o,t),r=wh(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function fu(t,e){return n=>n>0?e:t}const Le=(t,e,n)=>t+(e-t)*n,Sh=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},GR=[tm,Os,Ra],qR=t=>GR.find(e=>e.test(t));function dv(t){const e=qR(t);if(!e)return!1;let n=e.parse(t);return e===Ra&&(n=FR(n)),n}const hv=(t,e)=>{const n=dv(t),i=dv(e);if(!n||!i)return fu(t,e);const s={...n};return a=>(s.red=Sh(n.red,i.red,a),s.green=Sh(n.green,i.green,a),s.blue=Sh(n.blue,i.blue,a),s.alpha=Le(n.alpha,i.alpha,a),Os.transform(s))},nm=new Set(["none","hidden"]);function $R(t,e){return nm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YR(t,e){return n=>Le(t,e,n)}function rg(t){return typeof t=="number"?YR:typeof t=="string"?ig(t)?fu:Ye.test(t)?hv:XR:Array.isArray(t)?SS:typeof t=="object"?Ye.test(t)?hv:WR:fu}function SS(t,e){const n=[...t],i=n.length,s=t.map((a,r)=>rg(a)(a,e[r]));return a=>{for(let r=0;r<i;r++)n[r]=s[r](a);return n}}function WR(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=rg(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function KR(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],r=t.indexes[a][i[a]],o=t.values[r]??0;n[s]=o,i[a]++}return n}const XR=(t,e)=>{const n=hs.createTransformer(e),i=Yo(t),s=Yo(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?nm.has(t)&&!s.values.length||nm.has(e)&&!i.values.length?$R(t,e):vl(SS(KR(i,s),s.values),n):fu(t,e)};function TS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Le(t,e,n):rg(t)(t,e)}const QR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ve.update(e,n),stop:()=>jn(e),now:()=>it.isProcessing?it.timestamp:Ct.now()}},ES=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},mu=2e4;function og(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<mu;)e+=n,i=t.next(e);return e>=mu?1/0:e}function ZR(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(og(i),mu);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:pn(s)}}const JR=5;function CS(t,e,n){const i=Math.max(e-JR,0);return eg(n-t(i),e-i)}const Pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Th=.001;function eI({duration:t=Pe.duration,bounce:e=Pe.bounce,velocity:n=Pe.velocity,mass:i=Pe.mass}){let s,a,r=1-e;r=kn(Pe.minDamping,Pe.maxDamping,r),t=kn(Pe.minDuration,Pe.maxDuration,pn(t)),r<1?(s=c=>{const h=c*r,f=h*t,d=h-n,m=im(c,r),v=Math.exp(-f);return Th-d/m*v},a=c=>{const f=c*r*t,d=f*n+n,m=Math.pow(r,2)*Math.pow(c,2)*t,v=Math.exp(-f),b=im(Math.pow(c,2),r);return(-s(c)+Th>0?-1:1)*((d-m)*v)/b}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Th+h*f},a=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const o=5/t,l=nI(s,a,o);if(t=hi(t),isNaN(l))return{stiffness:Pe.stiffness,damping:Pe.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:r*2*Math.sqrt(i*c),duration:t}}}const tI=12;function nI(t,e,n){let i=n;for(let s=1;s<tI;s++)i=i-t(i)/e(i);return i}function im(t,e){return t*Math.sqrt(1-e*e)}const iI=["duration","bounce"],sI=["stiffness","damping","mass"];function fv(t,e){return e.some(n=>t[n]!==void 0)}function aI(t){let e={velocity:Pe.velocity,stiffness:Pe.stiffness,damping:Pe.damping,mass:Pe.mass,isResolvedFromDuration:!1,...t};if(!fv(t,sI)&&fv(t,iI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*kn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pe.mass,stiffness:s,damping:a}}else{const n=eI(t);e={...e,...n,mass:Pe.mass},e.isResolvedFromDuration=!0}return e}function pu(t=Pe.visualDuration,e=Pe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:m}=aI({...n,velocity:-pn(n.velocity||0)}),v=d||0,b=c/(2*Math.sqrt(l*h)),S=r-a,p=pn(Math.sqrt(l/h)),g=Math.abs(S)<5;i||(i=g?Pe.restSpeed.granular:Pe.restSpeed.default),s||(s=g?Pe.restDelta.granular:Pe.restDelta.default);let y;if(b<1){const C=im(p,b);y=D=>{const A=Math.exp(-b*p*D);return r-A*((v+b*p*S)/C*Math.sin(C*D)+S*Math.cos(C*D))}}else if(b===1)y=C=>r-Math.exp(-p*C)*(S+(v+p*S)*C);else{const C=p*Math.sqrt(b*b-1);y=D=>{const A=Math.exp(-b*p*D),N=Math.min(C*D,300);return r-A*((v+b*p*S)*Math.sinh(N)+C*S*Math.cosh(N))/C}}const w={calculatedDuration:m&&f||null,next:C=>{const D=y(C);if(m)o.done=C>=f;else{let A=C===0?v:0;b<1&&(A=C===0?hi(v):CS(y,C,D));const N=Math.abs(A)<=i,I=Math.abs(r-D)<=s;o.done=N&&I}return o.value=o.done?r:D,o},toString:()=>{const C=Math.min(og(w),mu),D=ES(A=>w.next(C*A).value,C,30);return C+"ms "+D},toTransition:()=>{}};return w}pu.applyToOptions=t=>{const e=ZR(t,100,pu);return t.ease=e.ease,t.duration=hi(e.duration),t.type="keyframes",t};function sm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},m=N=>o!==void 0&&N<o||l!==void 0&&N>l,v=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let b=n*e;const S=f+b,p=r===void 0?S:r(S);p!==S&&(b=p-f);const g=N=>-b*Math.exp(-N/i),y=N=>p+g(N),w=N=>{const I=g(N),M=y(N);d.done=Math.abs(I)<=c,d.value=d.done?p:M};let C,D;const A=N=>{m(d.value)&&(C=N,D=pu({keyframes:[d.value,v(d.value)],velocity:CS(y,N,d.value),damping:s,stiffness:a,restDelta:c,restSpeed:h}))};return A(0),{calculatedDuration:null,next:N=>{let I=!1;return!D&&C===void 0&&(I=!0,w(N),A(N)),C!==void 0&&N>=C?D.next(N-C):(!I&&w(N),d)}}}function rI(t,e,n){const i=[],s=n||xi.mix||TS,a=t.length-1;for(let r=0;r<a;r++){let o=s(t[r],t[r+1]);if(e){const l=Array.isArray(e)?e[r]||Vt:e;o=vl(l,o)}i.push(o)}return i}function lg(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(qo(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=rI(e,i,s),l=o.length,c=h=>{if(r&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=lr(t[f],t[f+1],h);return o[f](d)};return n?h=>c(kn(t[0],t[a-1],h)):c}function oI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=lr(0,e,i);t.push(Le(n,1,s))}}function NS(t){const e=[0];return oI(e,t.length-1),e}function lI(t,e){return t.map(n=>n*e)}function cI(t,e){return t.map(()=>e||fS).splice(0,t.length-1)}function xo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=wR(i)?i.map(ov):ov(i),a={done:!1,value:e[0]},r=lI(n&&n.length===e.length?n:NS(e),t),o=lg(r,e,{ease:Array.isArray(s)?s:cI(e,s)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const uI=t=>t!==null;function cg(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(uI),o=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const dI={decay:sm,inertia:sm,tween:xo,keyframes:xo,spring:pu};function AS(t){typeof t.type=="string"&&(t.type=dI[t.type])}class ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hI=t=>t/100;class dd extends ug{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ct.now()&&this.tick(Ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AS(e);const{type:n=xo,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=e;let{keyframes:o}=e;const l=n||xo;l!==xo&&typeof o[0]!="number"&&(this.mixKeyframes=vl(hI,TS(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=og(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:d,repeatDelay:m,type:v,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,w=i;if(f){const N=Math.min(this.currentTime,s)/o;let I=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(d==="reverse"?(M=1-M,m&&(M-=m/o)):d==="mirror"&&(w=r)),y=kn(0,1,M)*o}const C=g?{done:!1,value:h[0]}:w.next(y);a&&(C.value=a(C.value));let{done:D}=C;!g&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return A&&v!==sm&&(C.value=cg(h,this.options,S,this.speed)),b&&b(C.value),A&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return pn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(this.currentTime)}set time(e){var n;e=hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ct.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pn(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=QR,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ds=t=>t*180/Math.PI,am=t=>{const e=Ds(Math.atan2(t[1],t[0]));return rm(e)},mI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:am,rotateZ:am,skewX:t=>Ds(Math.atan(t[1])),skewY:t=>Ds(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rm=t=>(t=t%360,t<0&&(t+=360),t),mv=am,pv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pv,scaleY:gv,scale:t=>(pv(t)+gv(t))/2,rotateX:t=>rm(Ds(Math.atan2(t[6],t[5]))),rotateY:t=>rm(Ds(Math.atan2(-t[2],t[0]))),rotateZ:mv,rotate:mv,skewX:t=>Ds(Math.atan(t[4])),skewY:t=>Ds(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function om(t){return t.includes("scale")?1:0}function lm(t,e){if(!t||t==="none")return om(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=pI,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mI,s=o}if(!s)return om(e);const a=i[e],r=s[1].split(",").map(yI);return typeof a=="function"?a(r):r[a]}const gI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return lm(n,e)};function yI(t){return parseFloat(t.trim())}const Sr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tr=new Set(Sr),yv=t=>t===wr||t===V,vI=new Set(["x","y","z"]),xI=Sr.filter(t=>!vI.has(t));function bI(t){const e=[];return xI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Yi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lm(e,"x"),y:(t,{transform:e})=>lm(e,"y")};Yi.translateX=Yi.x;Yi.translateY=Yi.y;const zs=new Set;let cm=!1,um=!1,dm=!1;function RS(){if(um){const t=Array.from(zs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=bI(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))==null||o.set(r)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}um=!1,cm=!1,zs.forEach(t=>t.complete(dm)),zs.clear()}function IS(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(um=!0)})}function _I(){dm=!0,IS(),RS(),dm=!1}class dg{constructor(e,n,i,s,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),cm||(cm=!0,ve.read(IS),ve.resolveKeyframes(RS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),r=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const o=i.readValue(n,r);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=r),s&&a===void 0&&s.set(e[0])}fI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wI=t=>t.startsWith("--");function SI(t,e,n){wI(e)?t.style.setProperty(e,n):t.style[e]=n}const OS=Zp(()=>window.ScrollTimeline!==void 0),TI={};function EI(t,e){const n=Zp(t);return()=>TI[e]??n()}const DS=EI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,vv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zr([0,.65,.55,1]),circOut:Zr([.55,0,1,.45]),backIn:Zr([.31,.01,.66,-.59]),backOut:Zr([.33,1.53,.69,.99])};function kS(t,e){if(t)return typeof t=="function"?DS()?ES(t,e):"ease-out":mS(t)?Zr(t):Array.isArray(t)?t.map(n=>kS(n,e)||vv.easeOut):vv[t]}function CI(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=kS(o,s);Array.isArray(f)&&(h.easing=f);const d={delay:i,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(h,d)}function jS(t){return typeof t=="function"&&"applyToOptions"in t}function NI({type:t,...e}){return jS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AI extends ug{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=e,qo(typeof e.type!="string");const c=NI(e);this.animation=CI(n,i,s,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=cg(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):SI(n,i,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return pn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&OS()?(this.animation.timeline=e,Vt):n(this)}}const MS={anticipate:uS,backInOut:cS,circInOut:hS};function RI(t){return t in MS}function II(t){typeof t.ease=="string"&&RI(t.ease)&&(t.ease=MS[t.ease])}const Eh=10;class OI extends AI{constructor(e){II(e),AS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new dd({...r,autoplay:!1}),l=Math.max(Eh,Ct.now()-this.startTime),c=kn(0,Eh,l-Eh);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const xv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url("));function DI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kI(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],r=xv(s,e),o=xv(a,e);return!r||!o?!1:DI(t)||(n==="spring"||jS(n))&&i}function hm(t){t.duration=0,t.type="keyframes"}const jI=new Set(["opacity","clipPath","filter","transform"]),MI=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LI(t){var h;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:r}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return MI()&&n&&jI.has(n)&&(n!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&a!==0&&r!=="inertia"}const UI=40;class PI extends ug{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",keyframes:o,name:l,motionValue:c,element:h,...f}){var v;super(),this.stop=()=>{var b,S;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ct.now();const d={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:r,name:l,motionValue:c,element:h,...f},m=(h==null?void 0:h.KeyframeResolver)||dg;this.keyframeResolver=new m(o,(b,S,p)=>this.onKeyframesResolved(b,S,d,!p),l,c,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:r,velocity:o,delay:l,isHandoff:c,onUpdate:h}=i;this.resolvedAt=Ct.now(),kI(e,a,r,o)||((xi.instantAnimations||!l)&&(h==null||h(cg(e,i,n))),e[0]=e[e.length-1],hm(i),i.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>UI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},m=!c&&LI(d)?new OI({...d,element:d.motionValue.owner.current}):new dd(d);m.finished.then(()=>this.notifyFinished()).catch(Vt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),_I()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const VI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zI(t){const e=VI.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function LS(t,e,n=1){const[i,s]=zI(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const r=a.trim();return nS(r)?parseFloat(r):r}return ig(s)?LS(s,e,n+1):s}function hg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const BI={type:"spring",stiffness:500,damping:25,restSpeed:10},HI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FI={type:"keyframes",duration:.8},GI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qI=(t,{keyframes:e})=>e.length>2?FI:Tr.has(t)?t.startsWith("scale")?HI(e[1]):BI:GI;function $I({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const YI=t=>t!==null;function WI(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(YI),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function US(t,e,n,i=0,s=1){const a=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),r=t.size,o=(r-1)*i;return typeof n=="function"?n(a,r):s===1?a*i:o-a*i}const fg=(t,e,n,i={},s,a)=>r=>{const o=hg(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-hi(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:s};$I(o)||Object.assign(h,qI(t,h)),h.duration&&(h.duration=hi(h.duration)),h.repeatDelay&&(h.repeatDelay=hi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(hm(h),h.delay===0&&(f=!0)),(xi.instantAnimations||xi.skipAnimations)&&(f=!0,hm(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const d=WI(h.keyframes,o);if(d!==void 0){ve.update(()=>{h.onUpdate(d),h.onComplete()});return}}return o.isSync?new dd(h):new PI(h)},PS=new Set(["width","height","top","left","right","bottom",...Sr]),bv=30,KI=t=>!isNaN(parseFloat(t)),bo={current:void 0};class XI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=Ct.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jp);const i=this.events[e].add(n);return e==="change"?()=>{i(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return bo.current&&bo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bv);return eg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function An(t,e){return new XI(t,e)}function _v(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function mg(t,e,n,i){if(typeof e=="function"){const[s,a]=_v(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=_v(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function Fa(t,e,n){const i=t.getProps();return mg(i,e,n!==void 0?n:i.custom,t)}const fm=t=>Array.isArray(t);function QI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,An(n))}function ZI(t){return fm(t)?t[t.length-1]||0:t}function JI(t,e){const n=Fa(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const r in a){const o=ZI(a[r]);QI(t,r,o)}}const ct=t=>!!(t&&t.getVelocity);function eO(t){return!!(ct(t)&&t.add)}function mm(t,e){const n=t.getValue("willChange");if(eO(n))return n.add(e);if(!n&&xi.WillChange){const i=new xi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function pg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const tO="framerAppearId",VS="data-"+pg(tO);function zS(t){return t.props[VS]}function nO({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function BS(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:r,...o}=e;i&&(a=i);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,t.latestValues[h]??null),d=o[h];if(d===void 0||c&&nO(c,h))continue;const m={delay:n,...hg(a||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===v&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const p=zS(t);if(p){const g=window.MotionHandoffAnimation(p,h,ve);g!==null&&(m.startTime=g,b=!0)}}mm(t,h),f.start(fg(h,f,d,t.shouldReduceMotion&&PS.has(h)?{type:!1}:m,t,b));const S=f.animation;S&&l.push(S)}return r&&Promise.all(l).then(()=>{ve.update(()=>{r&&JI(t,r)})}),l}function pm(t,e,n={}){var l;const i=Fa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(BS(t,i,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=s;return iO(t,e,c,h,f,d,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,h]=o==="beforeChildren"?[a,r]:[r,a];return c().then(()=>h())}else return Promise.all([a(),r(n.delay)])}function iO(t,e,n=0,i=0,s=0,a=1,r){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(pm(l,e,{...r,delay:n+(typeof i=="function"?0:i)+US(t.variantChildren,l,i,s,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function sO(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>pm(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=pm(t,e,n);else{const s=typeof e=="function"?Fa(t,e,n.custom):e;i=Promise.all(BS(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const aO={test:t=>t==="auto",parse:t=>t},HS=t=>e=>e.test(t),FS=[wr,V,Fn,Ri,MR,jR,aO],wv=t=>FS.find(HS(t));function rO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sS(t):!0}const oO=new Set(["brightness","contrast","saturate","opacity"]);function lO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(sg)||[];if(!i)return t;const s=n.replace(i,"");let a=oO.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const cO=/\b([a-z-]*)\(.*?\)/gu,gm={...hs,getAnimatableNone:t=>{const e=t.match(cO);return e?e.map(lO).join(" "):t}},Sv={...wr,transform:Math.round},uO={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:Ri,skewX:Ri,skewY:Ri,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:$o,originX:cv,originY:cv,originZ:V},gg={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,inset:V,insetBlock:V,insetBlockStart:V,insetBlockEnd:V,insetInline:V,insetInlineStart:V,insetInlineEnd:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,paddingBlock:V,paddingBlockStart:V,paddingBlockEnd:V,paddingInline:V,paddingInlineStart:V,paddingInlineEnd:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,marginBlock:V,marginBlockStart:V,marginBlockEnd:V,marginInline:V,marginInlineStart:V,marginInlineEnd:V,backgroundPositionX:V,backgroundPositionY:V,...uO,zIndex:Sv,fillOpacity:$o,strokeOpacity:$o,numOctaves:Sv},dO={...gg,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:gm,WebkitFilter:gm},GS=t=>dO[t];function qS(t,e){let n=GS(t);return n!==gm&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hO=new Set(["auto","none","0"]);function fO(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!hO.has(a)&&Yo(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=qS(n,s)}class mO extends dg{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),ig(f))){const d=LS(f,n.current);d!==void 0&&(e[h]=d),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!PS.has(i)||e.length!==2)return;const[s,a]=e,r=wv(s),o=wv(a),l=lv(s),c=lv(a);if(l!==c&&Yi[i]){this.needsMeasurement=!0;return}if(r!==o)if(yv(r)&&yv(o))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Yi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||rO(e[s]))&&i.push(s);i.length&&fO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,r=i[a];i[a]=Yi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function yg(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const $S=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vg(t){return iS(t)&&"offsetHeight"in t}const{schedule:xg}=pS(queueMicrotask,!1),En={x:!1,y:!1};function YS(){return En.x||En.y}function pO(t){return t==="x"||t==="y"?En[t]?null:(En[t]=!0,()=>{En[t]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}function WS(t,e){const n=yg(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function Tv(t){return!(t.pointerType==="touch"||YS())}function gO(t,e,n={}){const[i,s,a]=WS(t,n),r=o=>{if(!Tv(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const h=f=>{Tv(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}const KS=(t,e)=>e?t===e?!0:KS(t,e.parentElement):!1,bg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XS(t){return yO.has(t.tagName)||t.isContentEditable===!0}const Ac=new WeakSet;function Ev(t){return e=>{e.key==="Enter"&&t(e)}}function Ch(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Ev(()=>{if(Ac.has(n))return;Ch(n,"down");const s=Ev(()=>{Ch(n,"up")}),a=()=>Ch(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Cv(t){return bg(t)&&!YS()}function xO(t,e,n={}){const[i,s,a]=WS(t,n),r=o=>{const l=o.currentTarget;if(!Cv(o))return;Ac.add(l);const c=e(l,o),h=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),Ac.has(l)&&Ac.delete(l),Cv(m)&&typeof c=="function"&&c(m,{success:v})},f=m=>{h(m,l===window||l===document||n.useGlobalTarget||KS(l,m.target))},d=m=>{h(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",d,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",r,s),vg(o)&&(o.addEventListener("focus",c=>vO(c,s)),!XS(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function _g(t){return iS(t)&&"ownerSVGElement"in t}const Rc=new WeakMap;let Ii;const QS=(t,e,n)=>(i,s)=>s&&s[0]?s[0][t+"Size"]:_g(i)&&"getBBox"in i?i.getBBox()[e]:i[n],bO=QS("inline","width","offsetWidth"),_O=QS("block","height","offsetHeight");function wO({target:t,borderBoxSize:e}){var n;(n=Rc.get(t))==null||n.forEach(i=>{i(t,{get width(){return bO(t,e)},get height(){return _O(t,e)}})})}function SO(t){t.forEach(wO)}function TO(){typeof ResizeObserver>"u"||(Ii=new ResizeObserver(SO))}function EO(t,e){Ii||TO();const n=yg(t);return n.forEach(i=>{let s=Rc.get(i);s||(s=new Set,Rc.set(i,s)),s.add(e),Ii==null||Ii.observe(i)}),()=>{n.forEach(i=>{const s=Rc.get(i);s==null||s.delete(e),s!=null&&s.size||Ii==null||Ii.unobserve(i)})}}const Ic=new Set;let Ia;function CO(){Ia=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ic.forEach(e=>e(t))},window.addEventListener("resize",Ia)}function NO(t){return Ic.add(t),Ia||CO(),()=>{Ic.delete(t),!Ic.size&&typeof Ia=="function"&&(window.removeEventListener("resize",Ia),Ia=void 0)}}function AO(t,e){return typeof t=="function"?NO(t):EO(t,e)}function ZS(t,e){let n;const i=()=>{const{currentTime:s}=e,r=(s===null?0:s.value)/100;n!==r&&t(r),n=r};return ve.preUpdate(i,!0),()=>jn(i)}function RO(t){return _g(t)&&t.tagName==="svg"}function IO(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],a=t[2+n],r=t[3+n],o=lg(s,a,r);return e?o(i):o}function OO(t,e,n){const i=t.get();let s=null,a=i,r;const o=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new dd({keyframes:[Av(t.get()),Av(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:r})};if(t.attach((h,f)=>{a=h,r=d=>f(Nv(d,o)),ve.postRender(()=>{var d;c(),(d=t.events.animationStart)==null||d.notify(),s==null||s.then(()=>{var m;(m=t.events.animationComplete)==null||m.notify()})})},l),ct(e)){const h=e.on("change",d=>t.set(Nv(d,o))),f=t.on("destroy",h);return()=>{h(),f()}}return l}function Nv(t,e){return e?t+e:t}function Av(t){return typeof t=="number"?t:parseFloat(t)}const DO=[...FS,Ye,hs],kO=t=>DO.find(HS(t)),Rv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oa=()=>({x:Rv(),y:Rv()}),Iv=()=>({min:0,max:0}),Je=()=>({x:Iv(),y:Iv()}),ym={current:null},JS={current:!1},jO=typeof window<"u";function MO(){if(JS.current=!0,!!jO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ym.current=t.matches;t.addEventListener("change",e),e()}else ym.current=!1}const LO=new WeakMap;function hd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wo(t){return typeof t=="string"||Array.isArray(t)}const wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sg=["initial",...wg];function fd(t){return hd(t.animate)||Sg.some(e=>Wo(t[e]))}function eT(t){return!!(fd(t)||t.variants)}function UO(t,e,n){for(const i in e){const s=e[i],a=n[i];if(ct(s))t.addValue(i,s);else if(ct(a))t.addValue(i,An(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const r=t.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=t.getStaticValue(i);t.addValue(i,An(r!==void 0?r:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ov=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let gu={};function tT(t){gu=t}function PO(){return gu}class VO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Ct.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=fd(n),this.isVariantNode=eT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const m=f[d];l[d]!==void 0&&ct(m)&&m.set(l[d])}}mount(e){var n;this.current=e,LO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(JS.current||MO(),this.shouldReduceMotion=ym.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),jn(this.notifyUpdate),jn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Tr.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gu){const n=gu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ov.length;i++){const s=Ov[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=e[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=UO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=An(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nS(i)||sS(i))?i=parseFloat(i):!kO(i)&&hs.test(n)&&(i=qS(e,n)),this.setBaseTarget(e,ct(i)?i.get():i)),ct(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=mg(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ct(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xg.render(this.render)}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nT extends VO{constructor(){super(...arguments),this.KeyframeResolver=mO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iT({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function zO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Nh(t){return t===void 0||t===1}function vm({scale:t,scaleX:e,scaleY:n}){return!Nh(t)||!Nh(e)||!Nh(n)}function As(t){return vm(t)||sT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sT(t){return Dv(t.x)||Dv(t.y)}function Dv(t){return t&&t!=="0%"}function yu(t,e,n){const i=t-n,s=e*i;return n+s}function kv(t,e,n,i,s){return s!==void 0&&(t=yu(t,s,i)),yu(t,n,i)+e}function xm(t,e=0,n=1,i,s){t.min=kv(t.min,e,n,i,s),t.max=kv(t.max,e,n,i,s)}function aT(t,{x:e,y:n}){xm(t.x,e.translate,e.scale,e.originPoint),xm(t.y,n.translate,n.scale,n.originPoint)}const jv=.999999999999,Mv=1.0000000000001;function HO(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,r;for(let o=0;o<s;o++){a=n[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ka(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,aT(t,r)),i&&As(a.latestValues)&&ka(t,a.latestValues))}e.x<Mv&&e.x>jv&&(e.x=1),e.y<Mv&&e.y>jv&&(e.y=1)}function Da(t,e){t.min=t.min+e,t.max=t.max+e}function Lv(t,e,n,i,s=.5){const a=Le(t.min,t.max,s);xm(t,e,n,a,i)}function ka(t,e){Lv(t.x,e.x,e.scaleX,e.scale,e.originX),Lv(t.y,e.y,e.scaleY,e.scale,e.originY)}function rT(t,e){return iT(BO(t.getBoundingClientRect(),e))}function FO(t,e,n){const i=rT(t,n),{scroll:s}=e;return s&&(Da(i.x,s.offset.x),Da(i.y,s.offset.y)),i}const GO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qO=Sr.length;function $O(t,e,n){let i="",s=!0;for(let a=0;a<qO;a++){const r=Sr[a],o=t[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=$S(o,gg[r]);if(!l){s=!1;const h=GO[r]||r;i+=`${h}(${c}) `}n&&(e[r]=c)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Tg(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let r=!1,o=!1;for(const l in e){const c=e[l];if(Tr.has(l)){r=!0;continue}else if(yS(l)){s[l]=c;continue}else{const h=$S(c,gg[l]);l.startsWith("origin")?(o=!0,a[l]=h):i[l]=h}}if(e.transform||(r||n?i.transform=$O(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=a;i.transformOrigin=`${l} ${c} ${h}`}}function oT(t,{style:e,vars:n},i,s){const a=t.style;let r;for(r in e)a[r]=e[r];s==null||s.applyProjectionStyles(a,i);for(r in n)a.setProperty(r,n[r])}function Uv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(V.test(t))t=parseFloat(t);else return t;const n=Uv(t,e.target.x),i=Uv(t,e.target.y);return`${n}% ${i}%`}},YO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=hs.parse(t);if(s.length>5)return i;const a=hs.createTransformer(t),r=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+r]/=o,s[1+r]/=l;const c=Le(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=c),typeof s[3+r]=="number"&&(s[3+r]/=c),a(s)}},bm={borderRadius:{...zr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zr,borderTopRightRadius:zr,borderBottomLeftRadius:zr,borderBottomRightRadius:zr,boxShadow:YO};function lT(t,{layout:e,layoutId:n}){return Tr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bm[t]||t==="opacity")}function Eg(t,e,n){var r;const i=t.style,s=e==null?void 0:e.style,a={};if(!i)return a;for(const o in i)(ct(i[o])||s&&ct(s[o])||lT(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function WO(t){return window.getComputedStyle(t)}class KO extends nT{constructor(){super(...arguments),this.type="html",this.renderInstance=oT}readValueFromInstance(e,n){var i;if(Tr.has(n))return(i=this.projection)!=null&&i.isProjecting?om(n):gI(e,n);{const s=WO(e),a=(yS(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rT(e,n)}build(e,n,i){Tg(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Eg(e,n,i)}}const XO={offset:"stroke-dashoffset",array:"stroke-dasharray"},QO={offset:"strokeDashoffset",array:"strokeDasharray"};function ZO(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?XO:QO;t[a.offset]=V.transform(-i);const r=V.transform(e),o=V.transform(n);t[a.array]=`${r} ${o}`}const JO=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function cT(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:r=0,...o},l,c,h){if(Tg(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const m of JO)f[m]!==void 0&&(d[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),s!==void 0&&ZO(f,s,a,r,!1)}const uT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),dT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eD(t,e,n,i){oT(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(uT.has(s)?s:pg(s),e.attrs[s])}function hT(t,e,n){const i=Eg(t,e,n);for(const s in t)if(ct(t[s])||ct(e[s])){const a=Sr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}class tD extends nT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tr.has(n)){const i=GS(n);return i&&i.default||0}return n=uT.has(n)?n:pg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return hT(e,n,i)}build(e,n,i){cT(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){eD(e,n,i,s)}mount(e){this.isSVGTag=dT(e.tagName),super.mount(e)}}const nD=Sg.length;function fT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nD;n++){const i=Sg[n],s=t.props[i];(Wo(s)||s===!1)&&(e[i]=s)}return e}function mT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const iD=[...wg].reverse(),sD=wg.length;function aD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>sO(t,n,i)))}function rD(t){let e=aD(t),n=Pv(),i=!0;const s=l=>(c,h)=>{var d;const f=Fa(t,h,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:v,...b}=f;c={...c,...b,...v}}return c};function a(l){e=l(t)}function r(l){const{props:c}=t,h=fT(t.parent)||{},f=[],d=new Set;let m={},v=1/0;for(let S=0;S<sD;S++){const p=iD[S],g=n[p],y=c[p]!==void 0?c[p]:h[p],w=Wo(y),C=p===l?g.isActive:null;C===!1&&(v=S);let D=y===h[p]&&y!==c[p]&&w;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),g.protectedKeys={...m},!g.isActive&&C===null||!y&&!g.prevProp||hd(y)||typeof y=="boolean")continue;const A=oD(g.prevProp,y);let N=A||p===l&&g.isActive&&!D&&w||S>v&&w,I=!1;const M=Array.isArray(y)?y:[y];let ae=M.reduce(s(p),{});C===!1&&(ae={});const{prevResolvedValues:je={}}=g,$e={...je,...ae},Gt=j=>{N=!0,d.has(j)&&(I=!0,d.delete(j)),g.needsAnimating[j]=!0;const B=t.getValue(j);B&&(B.liveStyle=!1)};for(const j in $e){const B=ae[j],te=je[j];if(m.hasOwnProperty(j))continue;let T=!1;fm(B)&&fm(te)?T=!mT(B,te):T=B!==te,T?B!=null?Gt(j):d.add(j):B!==void 0&&d.has(j)?Gt(j):g.protectedKeys[j]=!0}g.prevProp=y,g.prevResolvedValues=ae,g.isActive&&(m={...m,...ae}),i&&t.blockInitialAnimation&&(N=!1);const Ze=D&&A;N&&(!Ze||I)&&f.push(...M.map(j=>{const B={type:p};if(typeof j=="string"&&i&&!Ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,T=Fa(te,j);if(te.enteringChildren&&T){const{delayChildren:_}=T.transition||{};B.delay=US(te.enteringChildren,t,_)}}return{animation:j,options:B}}))}if(d.size){const S={};if(typeof c.initial!="boolean"){const p=Fa(t,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(S.transition=p.transition)}d.forEach(p=>{const g=t.getBaseTarget(p),y=t.getValue(p);y&&(y.liveStyle=!0),S[p]=g??null}),f.push({animation:S})}let b=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var m;return(m=d.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=r(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Pv()}}}function oD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mT(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pv(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}const pT=1e-4,lD=1-pT,cD=1+pT,gT=.01,uD=0-gT,dD=0+gT;function Nt(t){return t.max-t.min}function hD(t,e,n){return Math.abs(t-e)<=n}function Vv(t,e,n,i=.5){t.origin=i,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lD&&t.scale<=cD||isNaN(t.scale))&&(t.scale=1),(t.translate>=uD&&t.translate<=dD||isNaN(t.translate))&&(t.translate=0)}function _o(t,e,n,i){Vv(t.x,e.x,n.x,i?i.originX:void 0),Vv(t.y,e.y,n.y,i?i.originY:void 0)}function zv(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function fD(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}function Bv(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function vu(t,e,n){Bv(t.x,e.x,n.x),Bv(t.y,e.y,n.y)}function Hv(t,e,n,i,s){return t-=e,t=yu(t,1/n,i),s!==void 0&&(t=yu(t,1/s,i)),t}function mD(t,e=0,n=1,i=.5,s,a=t,r=t){if(Fn.test(e)&&(e=parseFloat(e),e=Le(r.min,r.max,e/100)-r.min),typeof e!="number")return;let o=Le(a.min,a.max,i);t===a&&(o-=e),t.min=Hv(t.min,e,n,o,s),t.max=Hv(t.max,e,n,o,s)}function Fv(t,e,[n,i,s],a,r){mD(t,e[n],e[i],e[s],e.scale,a,r)}const pD=["x","scaleX","originX"],gD=["y","scaleY","originY"];function Gv(t,e,n,i){Fv(t.x,e,pD,n?n.x:void 0,i?i.x:void 0),Fv(t.y,e,gD,n?n.y:void 0,i?i.y:void 0)}function qv(t,e){t.min=e.min,t.max=e.max}function _n(t,e){qv(t.x,e.x),qv(t.y,e.y)}function $v(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yv(t){return t.translate===0&&t.scale===1}function yT(t){return Yv(t.x)&&Yv(t.y)}function Wv(t,e){return t.min===e.min&&t.max===e.max}function yD(t,e){return Wv(t.x,e.x)&&Wv(t.y,e.y)}function Kv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vT(t,e){return Kv(t.x,e.x)&&Kv(t.y,e.y)}function Xv(t){return Nt(t.x)/Nt(t.y)}function Qv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function rn(t){return[t("x"),t("y")]}function vD(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,r=(n==null?void 0:n.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),f&&(i+=`rotateX(${f}deg) `),d&&(i+=`rotateY(${d}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const xT=["TopLeft","TopRight","BottomLeft","BottomRight"],xD=xT.length,Zv=t=>typeof t=="string"?parseFloat(t):t,Jv=t=>typeof t=="number"||V.test(t);function bD(t,e,n,i,s,a){s?(t.opacity=Le(0,n.opacity??1,_D(i)),t.opacityExit=Le(e.opacity??1,0,wD(i))):a&&(t.opacity=Le(e.opacity??1,n.opacity??1,i));for(let r=0;r<xD;r++){const o=`border${xT[r]}Radius`;let l=ex(e,o),c=ex(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Jv(l)===Jv(c)?(t[o]=Math.max(Le(Zv(l),Zv(c),i),0),(Fn.test(c)||Fn.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,i))}function ex(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _D=bT(0,.5,dS),wD=bT(.5,.95,Vt);function bT(t,e,n){return i=>i<t?0:i>e?1:n(lr(t,e,i))}function SD(t,e){const n=Ct.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(jn(i),t(a-e))};return ve.setup(i,!0),()=>jn(i)}function Ko(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Oc(t){return ct(t)?t.get():t}function TD(t,e,n){const i=ct(t)?t:An(t);return i.start(fg("",i,e,n)),i.animation}const ED=(t,e)=>t.depth-e.depth;class CD{constructor(){this.children=[],this.isDirty=!1}add(e){Xp(this.children,e),this.isDirty=!0}remove(e){Qp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ED),this.isDirty=!1,this.children.forEach(e)}}class ND{constructor(){this.members=[]}add(e){Xp(this.members,e),e.scheduleRender()}remove(e){if(Qp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ah=["","X","Y","Z"],AD=1e3;let RD=0;function Rh(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function _T(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&_T(i)}function wT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=e==null?void 0:e()){this.id=RD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DD),this.nodes.forEach(LD),this.nodes.forEach(UD),this.nodes.forEach(kD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CD)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Jp),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=_g(r)&&!RO(r),this.instance=r;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,f=0;const d=()=>this.root.updateBlockedByResize=!1;ve.read(()=>{f=window.innerWidth}),t(r,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,h&&h(),h=SD(d,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(ix)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||HD,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=c.getProps(),p=!this.targetLayout||!vT(this.targetLayout,m),g=!f&&d;if(this.options.layoutRoot||this.resumeFrom||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...hg(v,"layout"),onPlay:b,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(h,g)}else f||ix(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PD),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_T(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MD),this.nodes.forEach(ID),this.nodes.forEach(OD)):this.nodes.forEach(nx),this.clearAllSnapshots();const o=Ct.now();it.delta=kn(0,1e3/60,o-it.timestamp),it.timestamp=o,it.isProcessing=!0,bh.update.process(it),bh.preRender.process(it),bh.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jD),this.sharedNodes.forEach(VD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;r&&this.instance&&(o||As(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),FD(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return Je();const o=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(GD))){const{scroll:h}=this.root;h&&(Da(o.x,h.offset.x),Da(o.y,h.offset.y))}return o}removeElementScroll(r){var l;const o=Je();if(_n(o,r),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&_n(o,r),Da(o.x,f.offset.x),Da(o.y,f.offset.y))}return o}applyTransform(r,o=!1){const l=Je();_n(l,r);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ka(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),As(h.latestValues)&&ka(l,h.latestValues)}return As(this.latestValues)&&ka(l,this.latestValues),l}removeTransform(r){const o=Je();_n(o,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!As(c.latestValues))continue;vm(c.latestValues)&&c.updateSnapshot();const h=Je(),f=c.measurePageBox();_n(h,f),Gv(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return As(this.latestValues)&&Gv(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=it.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),aT(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||vm(this.parent.latestValues)||sT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,o,l){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),vu(this.relativeTargetOrigin,o,l),_n(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===it.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;_n(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;HO(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Je());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($v(this.prevProjectionDelta.x,this.projectionDelta.x),$v(this.prevProjectionDelta.y,this.projectionDelta.y)),_o(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!Qv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oa(),this.projectionDelta=Oa(),this.projectionDeltaWithTransform=Oa()}setAnimationOrigin(r,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=Oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Je(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,S=this.getStack(),p=!S||S.members.length<=1,g=!!(b&&!p&&this.options.crossfade===!0&&!this.path.some(BD));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const C=w/1e3;sx(f.x,r.x,C),sx(f.y,r.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zD(this.relativeTarget,this.relativeTargetOrigin,d,C),y&&yD(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Je()),_n(y,this.relativeTarget)),b&&(this.animationValues=h,bD(h,c,this.latestValues,C,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(jn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{Dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=An(0)),this.currentAnimation=TD(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),r.onUpdate&&r.onUpdate(h)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=r;if(!(!o||!l||!c)){if(this!==r&&this.layout&&c&&ST(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Je();const f=Nt(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+f;const d=Nt(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+d}_n(o,l),ka(o,h),_o(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new ND),this.sharedNodes.get(r).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Rh("z",r,c,this.animationValues);for(let h=0;h<Ah.length;h++)Rh(`rotate${Ah[h]}`,r,c,this.animationValues),Rh(`skew${Ah[h]}`,r,c,this.animationValues);r.render();for(const h in c)r.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!As(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=vD(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),r.transform=f;const{x:d,y:m}=this.projectionDelta;r.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,c.animationValues?r.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:r.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in bm){if(h[v]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:p}=bm[v],g=f==="none"?h[v]:b(h[v],c);if(S){const y=S.length;for(let w=0;w<y;w++)r[S[w]]=g}else p?this.options.visualElement.renderState.vars[v]=g:r[v]=g}this.options.layoutId&&(r.pointerEvents=c===this?Oc(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(tx),this.root.sharedNodes.clear()}}}function ID(t){t.updateLayout()}function OD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,r=e.source!==t.layout.source;a==="size"?rn(f=>{const d=r?e.measuredBox[f]:e.layoutBox[f],m=Nt(d);d.min=i[f].min,d.max=d.min+m}):ST(a,e.layoutBox,i)&&rn(f=>{const d=r?e.measuredBox[f]:e.layoutBox[f],m=Nt(i[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=Oa();_o(o,i,e.layoutBox);const l=Oa();r?_o(l,t.applyTransform(s,!0),e.measuredBox):_o(l,i,e.layoutBox);const c=!yT(o);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const v=Je();vu(v,e.layoutBox,d.layoutBox);const b=Je();vu(b,i,m.layoutBox),vT(v,b)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function DD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jD(t){t.clearSnapshot()}function tx(t){t.clearMeasurements()}function nx(t){t.isLayoutDirty=!1}function MD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ix(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LD(t){t.resolveTargetDelta()}function UD(t){t.calcProjection()}function PD(t){t.resetSkewAndRotation()}function VD(t){t.removeLeadSnapshot()}function sx(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ax(t,e,n,i){t.min=Le(e.min,n.min,i),t.max=Le(e.max,n.max,i)}function zD(t,e,n,i){ax(t.x,e.x,n.x,i),ax(t.y,e.y,n.y,i)}function BD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const HD={duration:.45,ease:[.4,0,.1,1]},rx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ox=rx("applewebkit/")&&!rx("chrome/")?Math.round:Vt;function lx(t){t.min=ox(t.min),t.max=ox(t.max)}function FD(t){lx(t.x),lx(t.y)}function ST(t,e,n){return t==="position"||t==="preserve-aspect"&&!hD(Xv(e),Xv(n),.2)}function GD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qD=wT({attachResizeListener:(t,e)=>Ko(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ih={current:void 0},TT=wT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ih.current){const t=new qD({});t.mount(window),t.setOptions({layoutScroll:!0}),Ih.current=t}return Ih.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_l=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $D(...t){return e=>{let n=!1;const i=t.map(s=>{const a=cx(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():cx(t[s],null)}}}}function YD(...t){return E.useCallback($D(...t),t)}class WD extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=vg(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KD({children:t,isPresent:e,anchorX:n,root:i}){var h;const s=E.useId(),a=E.useRef(null),r=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(_l),l=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),c=YD(a,l);return E.useInsertionEffect(()=>{const{width:f,height:d,top:m,left:v,right:b}=r.current;if(e||!a.current||!f||!d)return;const S=n==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=s;const p=document.createElement("style");o&&(p.nonce=o);const g=i??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${S}px !important;
            top: ${m}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[e]),u.jsx(WD,{isPresent:e,childRef:a,sizeRef:r,children:E.cloneElement(t,{ref:c})})}const XD=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:r,anchorX:o,root:l})=>{const c=ds(QD),h=E.useId();let f=!0,d=E.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const v of c.values())if(!v)return;i&&i()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,i]);return a&&f&&(d={...d}),E.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[n]),E.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),r==="popLayout"&&(t=u.jsx(KD,{isPresent:n,anchorX:o,root:l,children:t})),u.jsx(ud.Provider,{value:d,children:t})};function QD(){return new Map}function ET(t=!0){const e=E.useContext(ud);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const r=E.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,r]:[!0]}const nc=t=>t.key||"";function ux(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const _t=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:r=!1,anchorX:o="left",root:l})=>{const[c,h]=ET(r),f=E.useMemo(()=>ux(t),[t]),d=r&&!c?[]:f.map(nc),m=E.useRef(!0),v=E.useRef(f),b=ds(()=>new Map),S=E.useRef(new Set),[p,g]=E.useState(f),[y,w]=E.useState(f);cd(()=>{m.current=!1,v.current=f;for(let A=0;A<y.length;A++){const N=nc(y[A]);d.includes(N)?(b.delete(N),S.current.delete(N)):b.get(N)!==!0&&b.set(N,!1)}},[y,d.length,d.join("-")]);const C=[];if(f!==p){let A=[...f];for(let N=0;N<y.length;N++){const I=y[N],M=nc(I);d.includes(M)||(A.splice(N,0,I),C.push(I))}return a==="wait"&&C.length&&(A=C),w(ux(A)),g(f),null}const{forceRender:D}=E.useContext(Kp);return u.jsx(u.Fragment,{children:y.map(A=>{const N=nc(A),I=r&&!c?!1:f===y||d.includes(N),M=()=>{if(S.current.has(N))return;if(S.current.add(N),b.has(N))b.set(N,!0);else return;let ae=!0;b.forEach(je=>{je||(ae=!1)}),ae&&(D==null||D(),w(v.current),r&&(h==null||h()),i&&i())};return u.jsx(XD,{isPresent:I,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:l,onExitComplete:I?void 0:M,anchorX:o,children:A},N)})})},CT=E.createContext({strict:!1}),dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hx=!1;function ZD(){if(hx)return;const t={};for(const e in dx)t[e]={isEnabled:n=>dx[e].some(i=>!!n[i])};tT(t),hx=!0}function NT(){return ZD(),PO()}function JD(t){const e=NT();for(const n in t)e[n]={...e[n],...t[n]};tT(e)}const ek=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ek.has(t)}let AT=t=>!xu(t);function tk(t){typeof t=="function"&&(AT=e=>e.startsWith("on")?!xu(e):t(e))}try{tk(require("@emotion/is-prop-valid").default)}catch{}function nk(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(AT(s)||n===!0&&xu(s)||!e&&!xu(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const md=E.createContext({});function ik(t,e){if(fd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Wo(n)?n:void 0,animate:Wo(i)?i:void 0}}return t.inherit!==!1?e:{}}function sk(t){const{initial:e,animate:n}=ik(t,E.useContext(md));return E.useMemo(()=>({initial:e,animate:n}),[fx(e),fx(n)])}function fx(t){return Array.isArray(t)?t.join(" "):t}const Cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RT(t,e,n){for(const i in e)!ct(e[i])&&!lT(i,n)&&(t[i]=e[i])}function ak({transformTemplate:t},e){return E.useMemo(()=>{const n=Cg();return Tg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rk(t,e){const n=t.style||{},i={};return RT(i,n,t),Object.assign(i,ak(t,e)),i}function ok(t,e){const n={},i=rk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const IT=()=>({...Cg(),attrs:{}});function lk(t,e,n,i){const s=E.useMemo(()=>{const a=IT();return cT(a,e,dT(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};RT(a,t.style,t),s.style={...a,...s.style}}return s}const ck=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ng(t){return typeof t!="string"||t.includes("-")?!1:!!(ck.indexOf(t)>-1||/[A-Z]/u.test(t))}function uk(t,e,n,{latestValues:i},s,a=!1,r){const l=(r??Ng(t)?lk:ok)(e,i,s,t),c=nk(e,typeof t=="string",a),h=t!==E.Fragment?{...c,...l,ref:n}:{},{children:f}=e,d=E.useMemo(()=>ct(f)?f.get():f,[f]);return E.createElement(t,{...h,children:d})}function dk({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:hk(n,i,s,t),renderState:e()}}function hk(t,e,n,i){const s={},a=i(t,{});for(const d in a)s[d]=Oc(a[d]);let{initial:r,animate:o}=t;const l=fd(t),c=eT(t);e&&c&&!l&&t.inherit!==!1&&(r===void 0&&(r=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||r===!1;const f=h?o:r;if(f&&typeof f!="boolean"&&!hd(f)){const d=Array.isArray(f)?f:[f];for(let m=0;m<d.length;m++){const v=mg(t,d[m]);if(v){const{transitionEnd:b,transition:S,...p}=v;for(const g in p){let y=p[g];if(Array.isArray(y)){const w=h?y.length-1:0;y=y[w]}y!==null&&(s[g]=y)}for(const g in b)s[g]=b[g]}}}return s}const OT=t=>(e,n)=>{const i=E.useContext(md),s=E.useContext(ud),a=()=>dk(t,e,i,s);return n?a():ds(a)},fk=OT({scrapeMotionValuesFromProps:Eg,createRenderState:Cg}),mk=OT({scrapeMotionValuesFromProps:hT,createRenderState:IT}),pk=Symbol.for("motionComponentSymbol");function gk(t,e,n){const i=E.useRef(n);E.useInsertionEffect(()=>{i.current=n});const s=E.useRef(null);return E.useCallback(a=>{var o;a&&((o=t.onMount)==null||o.call(t,a)),e&&(a?e.mount(a):e.unmount());const r=i.current;if(typeof r=="function")if(a){const l=r(a);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):r(a);else r&&(r.current=a)},[e])}const DT=E.createContext({});function Jr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yk(t,e,n,i,s,a){var S,p;const{visualElement:r}=E.useContext(md),o=E.useContext(CT),l=E.useContext(ud),c=E.useContext(_l).reducedMotion,h=E.useRef(null);i=i||o.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:a}));const f=h.current,d=E.useContext(DT);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&vk(h.current,n,s,d);const m=E.useRef(!1);E.useInsertionEffect(()=>{f&&m.current&&f.update(n,l)});const v=n[VS],b=E.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((p=window.MotionHasOptimisedAnimation)==null?void 0:p.call(window,v)));return cd(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,v)}),b.current=!1),f.enteringChildren=void 0)}),f}function vk(t,e,n,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kT(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&Jr(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:c})}function kT(t){if(t)return t.options.allowProjection!==!1?t.projection:kT(t.parent)}function Oh(t,{forwardMotionProps:e=!1,type:n}={},i,s){i&&JD(i);const a=n?n==="svg":Ng(t),r=a?mk:fk;function o(c,h){let f;const d={...E.useContext(_l),...c,layoutId:xk(c)},{isStatic:m}=d,v=sk(c),b=r(c,m);if(!m&&tS){bk();const S=_k(d);f=S.MeasureLayout,v.visualElement=yk(t,b,d,s,S.ProjectionNode,a)}return u.jsxs(md.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...d}):null,uk(t,c,gk(b,v.visualElement,h),b,m,e,a)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(o);return l[pk]=t,l}function xk({layoutId:t}){const e=E.useContext(Kp).id;return e&&t!==void 0?e+"-"+t:t}function bk(t,e){E.useContext(CT).strict}function _k(t){const e=NT(),{drag:n,layout:i}=e;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function wk(t,e){if(typeof Proxy>"u")return Oh;const n=new Map,i=(a,r)=>Oh(a,r,t,e),s=(a,r)=>i(a,r);return new Proxy(s,{get:(a,r)=>r==="create"?i:(n.has(r)||n.set(r,Oh(r,void 0,t,e)),n.get(r))})}const Sk=(t,e)=>e.isSVG??Ng(t)?new tD(e):new KO(e,{allowProjection:t!==E.Fragment});class Tk extends vs{constructor(e){super(e),e.animationState||(e.animationState=rD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ek=0;class Ck extends vs{constructor(){super(...arguments),this.id=Ek++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nk={animation:{Feature:Tk},exit:{Feature:Ck}};function wl(t){return{point:{x:t.pageX,y:t.pageY}}}const Ak=t=>e=>bg(e)&&t(e,wl(e));function wo(t,e,n,i){return Ko(t,e,Ak(n),i)}const jT=({current:t})=>t?t.ownerDocument.defaultView:null,mx=(t,e)=>Math.abs(t-e);function Rk(t,e){const n=mx(t.x,e.x),i=mx(t.y,e.y);return Math.sqrt(n**2+i**2)}const px=new Set(["auto","scroll"]);class MT{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=kh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=Rk(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:S}=m,{timestamp:p}=it;this.history.push({...S,timestamp:p});const{onStart:g,onMove:y}=this.handlers;v||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Dh(v,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:p}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=kh(m.type==="pointercancel"?this.lastMoveEventInfo:Dh(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,g),S&&S(m,g)},!bg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const l=wl(e),c=Dh(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=it;this.history=[{...h,timestamp:f}];const{onSessionStart:d}=n;d&&d(e,kh(c,this.history)),this.removeListeners=vl(wo(this.contextWindow,"pointermove",this.handlePointerMove),wo(this.contextWindow,"pointerup",this.handlePointerUp),wo(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(px.has(i.overflowX)||px.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),ve.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),jn(this.updatePoint)}}function Dh(t,e){return e?{point:e(t.point)}:t}function gx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kh({point:t},e){return{point:t,delta:gx(t,LT(e)),offset:gx(t,Ik(e)),velocity:Ok(e,.1)}}function Ik(t){return t[0]}function LT(t){return t[t.length-1]}function Ok(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=LT(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>hi(e)));)n--;if(!i)return{x:0,y:0};const a=pn(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Dk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Le(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Le(n,t,i.max):Math.min(t,n)),t}function yx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kk(t,{top:e,left:n,bottom:i,right:s}){return{x:yx(t.x,n,s),y:yx(t.y,e,i)}}function vx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function jk(t,e){return{x:vx(t.x,e.x),y:vx(t.y,e.y)}}function Mk(t,e){let n=.5;const i=Nt(t),s=Nt(e);return s>i?n=lr(e.min,e.max-i,t.min):i>s&&(n=lr(t.min,t.max-s,e.min)),kn(0,1,n)}function Lk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _m=.35;function Uk(t=_m){return t===!1?t=0:t===!0&&(t=_m),{x:xx(t,"left","right"),y:xx(t,"top","bottom")}}function xx(t,e,n){return{min:bx(t,e),max:bx(t,n)}}function bx(t,e){return typeof t=="number"?t:t[e]||0}const Pk=new WeakMap;class Vk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{n?(this.stopAnimation(),this.snapToCursor(wl(f).point)):this.pauseAnimation()},r=(f,d)=>{this.stopAnimation();const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pO(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Fn.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[p];w&&(g=Nt(w)*(parseFloat(g)/100))}}this.originPoint[p]=g}),b&&ve.postRender(()=>b(f,d)),mm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=d;if(v&&this.currentDirection===null){this.currentDirection=zk(p),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,p),this.updateAxis("y",d.point,p),this.visualElement.render(),S&&S(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>rn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new MT(e,{onSessionStart:a,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:jT(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&ve.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!ic(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let r=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(r=Dk(r,this.constraints[e],this.elastic[e])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Jr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=kk(i.layoutBox,e):this.constraints=!1,this.elastic=Uk(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Lk(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jr(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=FO(i,s.root,this.visualElement.getTransformPagePoint());let r=jk(s.layout.layoutBox,a);if(n){const o=n(zO(r));this.hasMutatedConstraints=!!o,o&&(r=iT(o))}return r}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=rn(h=>{if(!ic(h,n,this.currentDirection))return;let f=l&&l[h]||{};r&&(f={min:0,max:0});const d=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return mm(this.visualElement,e),i.start(fg(e,i,0,n,this.visualElement,!1))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){rn(n=>{const{drag:i}=this.getProps();if(!ic(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[n],l=a.get()||0;a.set(e[n]-Le(r,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jr(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=Mk({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rn(r=>{if(!ic(r,e,null))return;const o=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];o.set(Le(l,c,s[r]))})}addListeners(){if(!this.visualElement.current)return;Pk.set(this.visualElement,this);const e=this.visualElement.current,n=wo(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&!XS(l.target)&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Jr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ve.read(i);const r=Ko(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=_m,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function ic(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Bk extends vs{constructor(e){super(e),this.removeGroupControls=Vt,this.removeListeners=Vt,this.controls=new Vk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const _x=t=>(e,n)=>{t&&ve.postRender(()=>t(e,n))};class Hk extends vs{constructor(){super(...arguments),this.removePointerDownListener=Vt}onPointerDown(e){this.session=new MT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:_x(e),onStart:_x(n),onMove:i,onEnd:(a,r)=>{delete this.session,s&&ve.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jh=!1;class Fk extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),jh&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:r}=i;return r&&(r.isPresent=a,jh=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?r.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?r.promote():r.relegate()||ve.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;jh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UT(t){const[e,n]=ET(),i=E.useContext(Kp);return u.jsx(Fk,{...t,layoutGroup:i,switchLayoutGroup:E.useContext(DT),isPresent:e,safeToRemove:n})}const Gk={pan:{Feature:Hk},drag:{Feature:Bk,ProjectionNode:TT,MeasureLayout:UT}};function wx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&ve.postRender(()=>a(e,wl(e)))}class qk extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=gO(e,(n,i)=>(wx(this.node,i,"Start"),s=>wx(this.node,s,"End"))))}unmount(){}}class $k extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(Ko(this.node.current,"focus",()=>this.onFocus()),Ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sx(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&ve.postRender(()=>a(e,wl(e)))}class Yk extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=xO(e,(n,i)=>(Sx(this.node,i,"Start"),(s,{success:a})=>Sx(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wm=new WeakMap,Mh=new WeakMap,Wk=t=>{const e=wm.get(t.target);e&&e(t)},Kk=t=>{t.forEach(Wk)};function Xk({root:t,...e}){const n=t||document;Mh.has(n)||Mh.set(n,{});const i=Mh.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Kk,{root:t,...e})),i[s]}function Qk(t,e,n){const i=Xk(e);return wm.set(t,n),i.observe(t),()=>{wm.delete(t),i.unobserve(t)}}const Zk={some:0,all:1};class Jk extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,r={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Zk[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return Qk(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ej(e,n))&&this.startObserver()}unmount(){}}function ej({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tj={inView:{Feature:Jk},tap:{Feature:Yk},focus:{Feature:$k},hover:{Feature:qk}},nj={layout:{ProjectionNode:TT,MeasureLayout:UT}},ij={...Nk,...tj,...Gk,...nj},U=wk(ij,Sk),sj=50,Tx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),aj=()=>({time:0,x:Tx(),y:Tx()}),rj={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Ex(t,e,n,i){const s=n[e],{length:a,position:r}=rj[e],o=s.current,l=n.time;s.current=t[`scroll${r}`],s.scrollLength=t[`scroll${a}`]-t[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=lr(0,s.scrollLength,s.current);const c=i-l;s.velocity=c>sj?0:eg(s.current-o,c)}function oj(t,e,n){Ex(t,"x",e,n),Ex(t,"y",e,n),e.time=n}function lj(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(vg(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:a}=i.getBBox();n.x+=s,n.y+=a;let r=null,o=i.parentNode;for(;!r;)o.tagName==="svg"&&(r=o),o=i.parentNode;i=r}else break;return n}const Sm={start:0,center:.5,end:1};function Cx(t,e,n=0){let i=0;if(t in Sm&&(t=Sm[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?i=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?i=s/100*document.documentElement.clientWidth:t.endsWith("vh")?i=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(i=e*t),n+i}const cj=[0,0];function uj(t,e,n,i){let s=Array.isArray(t)?t:cj,a=0,r=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Sm[t]?t:"0"]),a=Cx(s[0],n,i),r=Cx(s[1],e),a-r}const dj={All:[[0,0],[1,1]]},hj={x:0,y:0};function fj(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function mj(t,e,n){const{offset:i=dj.All}=n,{target:s=t,axis:a="y"}=n,r=a==="y"?"height":"width",o=s!==t?lj(s,t):hj,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:fj(s),c={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let h=!e[a].interpolate;const f=i.length;for(let d=0;d<f;d++){const m=uj(i[d],c[r],l[r],o[a]);!h&&m!==e[a].interpolatorOffsets[d]&&(h=!0),e[a].offset[d]=m}h&&(e[a].interpolate=lg(e[a].offset,NS(i),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=kn(0,1,e[a].interpolate(e[a].current))}function pj(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function gj(t,e,n,i={}){return{measure:s=>{pj(t,i.target,n),oj(t,n,s),(i.offset||i.target)&&mj(t,n,i)},notify:()=>e(n)}}const Br=new WeakMap,Nx=new WeakMap,Lh=new WeakMap,Ax=t=>t===document.scrollingElement?window:t;function PT(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Vt;let i=Lh.get(e);i||(i=new Set,Lh.set(e,i));const s=aj(),a=gj(e,t,s,n);if(i.add(a),!Br.has(e)){const o=()=>{for(const f of i)f.measure(it.timestamp);ve.preUpdate(l)},l=()=>{for(const f of i)f.notify()},c=()=>ve.read(o);Br.set(e,c);const h=Ax(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&Nx.set(e,AO(e,c)),h.addEventListener("scroll",c,{passive:!0}),c()}const r=Br.get(e);return ve.read(r,!1,!0),()=>{var c;jn(r);const o=Lh.get(e);if(!o||(o.delete(a),o.size))return;const l=Br.get(e);Br.delete(e),l&&(Ax(e).removeEventListener("scroll",l),(c=Nx.get(e))==null||c(),window.removeEventListener("resize",l))}}const Rx=new Map;function yj(t){const e={value:0},n=PT(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function VT({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const s=Rx.get(e)??new Map;Rx.set(e,s);const a=n.target??"self",r=s.get(a)??{},o=i+(n.offset??[]).join(",");return r[o]||(r[o]=!n.target&&OS()?new ScrollTimeline({source:e,axis:i}):yj({container:e,...n})),r[o]}function vj(t,e){const n=VT(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),ZS(s=>{i.time=i.iterationDuration*s},n))})}function xj(t){return t.length===2}function bj(t,e){return xj(t)?PT(n=>{t(n[e.axis].progress,n)},e):ZS(t,VT(e))}function _j(t,{axis:e="y",container:n=document.scrollingElement,...i}={}){if(!n)return Vt;const s={axis:e,container:n,...i};return typeof t=="function"?bj(t,s):vj(t,s)}const wj=()=>({scrollX:An(0),scrollY:An(0),scrollXProgress:An(0),scrollYProgress:An(0)}),sc=t=>t?!t.current:!1;function zT({container:t,target:e,...n}={}){const i=ds(wj),s=E.useRef(null),a=E.useRef(!1),r=E.useCallback(()=>(s.current=_j((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var o;(o=s.current)==null||o.call(s)}),[t,e,JSON.stringify(n.offset)]);return cd(()=>{if(a.current=!1,sc(t)||sc(e)){a.current=!0;return}else return r()},[r]),E.useEffect(()=>{if(a.current)return qo(!sc(t)),qo(!sc(e)),r()},[r]),i}function BT(t){const e=ds(()=>An(t)),{isStatic:n}=E.useContext(_l);if(n){const[,i]=E.useState(t);E.useEffect(()=>e.on("change",i),[])}return e}function HT(t,e){const n=BT(e()),i=()=>n.set(e());return i(),cd(()=>{const s=()=>ve.preRender(i,!1,!0),a=t.map(r=>r.on("change",s));return()=>{a.forEach(r=>r()),jn(i)}}),n}function Sj(t){bo.current=[],t();const e=HT(bo.current,t);return bo.current=void 0,e}function bu(t,e,n,i){if(typeof t=="function")return Sj(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return Tj(t,e,n,i);const r=typeof e=="function"?e:IO(e,n,i);return Array.isArray(t)?Ix(t,r):Ix([t],([o])=>r(o))}function Ix(t,e){const n=ds(()=>[]);return HT(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}function Tj(t,e,n,i){const s=ds(()=>Object.keys(n)),a=ds(()=>({}));for(const r of s)a[r]=bu(t,e,n[r],i);return a}function Ej(t,e={}){const{isStatic:n}=E.useContext(_l),i=()=>ct(t)?t.get():t;if(n)return bu(i);const s=BT(i());return E.useInsertionEffect(()=>OO(s,t,e),[s,JSON.stringify(e)]),s}const Cj={some:0,all:1};function Nj(t,e,{root:n,margin:i,amount:s="some"}={}){const a=yg(t),r=new WeakMap,o=c=>{c.forEach(h=>{const f=r.get(h.target);if(h.isIntersecting!==!!f)if(h.isIntersecting){const d=e(h.target,h);typeof d=="function"?r.set(h.target,d):l.unobserve(h.target)}else typeof f=="function"&&(f(h),r.delete(h.target))})},l=new IntersectionObserver(o,{root:n,rootMargin:i,threshold:typeof s=="number"?s:Cj[s]});return a.forEach(c=>l.observe(c)),()=>l.disconnect()}function Aj(t,{root:e,margin:n,amount:i,once:s=!1,initial:a=!1}={}){const[r,o]=E.useState(a);return E.useEffect(()=>{if(!t.current||s&&r)return;const l=()=>(o(!0),s?void 0:()=>o(!1)),c={root:e&&e.current||void 0,margin:n,amount:i};return Nj(t.current,l,c)},[e,t,n,s,i]),r}var ie=(t=>(t.ATTENDING="ATTENDING",t.NOT_ATTENDING="NOT_ATTENDING",t.UNDECIDED="UNDECIDED",t))(ie||{});const Rj={openingScreen:{welcome:"You are cordially invited to",title:"Louie & Florie",subtitle:"A Celebration of Love",brand:"Louie & Florie",sealInitials:"LF"},coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",heroImageUrl:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920",adminPanelTitle:"Louie & Florie CMS",adminPanelSubtitle:"Wedding Management",weddingDate:"July 4, 2026",weddingTime:"3:00 PM",countdownDate:"2026-07-04T15:00:00",venues:[{name:"Archdiocesan Shrine of St. Thrse of the Child Jesus",address:"Gorordo Ave, Lahug, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5218.1810181073815!2d123.89791887503557!3d10.331064989791887!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a999269b2146d5%3A0x462d30e860ab63f2!2sArchdiocesan%20Shrine%20of%20St.%20Th%C3%A9r%C3%A8se%20of%20the%20Child%20Jesus!5e1!3m2!1sen!2sph!4v1768570025254!5m2!1sen!2sph"},{name:"Chateau de Busay Inn & Restaurant",address:"Lower Busay, Cebu City",mapUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5217.661214066814!2d123.87666848669632!3d10.362327840313117!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33a99f4c07b55c0f%3A0x990d6bedbcf8c0c7!2sChateau%20de%20Busay%20Inn%20%26%20Restaurant!5e1!3m2!1sen!2sph!4v1768572532024!5m2!1sen!2sph"}],heroTagline:"Together with their families, invite you to celebrate the union of their souls in an evening of timeless elegance.",ourStory:"Our journey began with a simple hello and blossomed into a lifetime of love. We are so excited to share this new chapter with those who have shaped us.",registryInfo:"Your presence is the greatest gift we could receive. If you wish to honor us with a gift, we are registered at Williams Sonoma and Pottery Barn, or you may contribute to our honeymoon fund for our first trip as husband and wife.",registryLinks:[{label:"Williams Sonoma",url:"#"},{label:"Honeymoon Fund",url:"#"}],socialLinks:[{label:"Instagram",url:"https://instagram.com"},{label:"Facebook",url:"https://facebook.com"},{label:"Pinterest",url:"https://pinterest.com"}],galleryImages:["https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1583939003579-730e3918a45a?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1519225421980-715cb0215aed?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1544078751-58fee2d8a03b?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1523438885200-e635ba2c371e?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1517457373958-b7bdd4587205?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1522673607200-164883214cde?auto=format&fit=crop&q=80&w=1200"],googlePhotosLink:"https://photos.google.com",googlePhotosLinkEnabled:!0,timelineItems:[{time:"3:00 PM",event:"The Ceremony",description:"Shrine of St. Thrse"},{time:"5:30 PM",event:"Cocktail Hour",description:"Chateau de Busay Inn"},{time:"7:00 PM",event:"Dinner & Toasts",description:"Chateau de Busay Inn"},{time:"9:00 PM",event:"Dancing",description:"Under the Stars"}],checklist:[{id:"1",text:"Confirm floral arrangements",completed:!1},{id:"2",text:"Finalize seating chart",completed:!0},{id:"3",text:"Pick up wedding rings",completed:!1}],menu:[{course:"Amuse-Bouche",dish:"Truffle Arancini",description:"Wild mushroom risotto spheres with a molten fontina center."},{course:"First Course",dish:"Burrata & Heirloom Tomato",description:"Creamy burrata, balsamic pearls, and micro-basil on a bed of gold-flecked heirloom tomatoes."},{course:"Main Course",dish:"Wagyu Filet Mignon",description:"Gently seared, served with a bordelaise sauce, asparagus tips, and velvet potato pure."},{course:"Dessert",dish:"Midnight Chocolate Dome",description:"Dark Valrhona chocolate, salted caramel core, and edible gold leaf."}],musicUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",dressCode:"Black Tie Optional: We kindly request our guests to dress in formal attire. Gentlemen in tuxedos or dark suits, and ladies in evening gowns or cocktail dresses. Warm champagne and gold tones are encouraged.",bridalParty:[{name:"Julianna Vance",role:"Maid of Honor",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2"},{name:"Marcus Thorne",role:"Best Man",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d"},{name:"Chloe Bennett",role:"Bridesmaid",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb"},{name:"Julian Pierce",role:"Groomsman",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"}],footerText:"Handcrafted with love for the celebration of a lifetime"},Ij=({onComplete:t,content:e})=>{var r;const[n,i]=E.useState(!1),s=()=>{i(!0),setTimeout(t,2500)},a=e.openingScreen||{welcome:"You are cordially invited to",subtitle:e.coupleNames||"A Celebration of Love"};return u.jsx(U.div,{initial:{opacity:1},exit:{opacity:0,pointerEvents:"none"},transition:{duration:1},className:"fixed inset-0 z-[100] bg-[#fcfaf7] flex items-center justify-center overflow-hidden",children:u.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.jsx(U.div,{animate:n?{x:"-100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 left-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-r border-gold/20 flex items-center justify-end pr-1 shadow-2xl"}),u.jsx(U.div,{animate:n?{x:"100%"}:{x:0},transition:{duration:2,ease:[.22,1,.36,1]},className:"absolute top-0 right-0 w-1/2 h-full bg-[#fcfaf7] z-20 border-l border-gold/20 flex items-center justify-start pl-1 shadow-2xl"}),!n&&u.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.8},className:"z-30 text-center px-4 relative w-full h-full flex flex-col justify-center items-center py-10 pointer-events-none gap-8",children:[u.jsx("div",{className:"flex-none",children:u.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-xs md:text-sm uppercase tracking-[0.4em] text-gold/80 font-bold font-body",children:a.welcome})}),u.jsx("div",{className:"flex-none flex items-center justify-center pointer-events-auto",children:u.jsxs("button",{onClick:s,className:"relative w-48 h-48 flex items-center justify-center group","aria-label":"Enter",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-gold/20 group-hover:border-gold/40 transition-all duration-700 scale-110 animate-ping"}),u.jsx("div",{className:"absolute inset-4 rounded-full border border-gold/10 group-hover:border-gold/30 transition-all duration-500 scale-125"}),u.jsxs(U.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative w-24 h-24 bg-[#a12d2d] rounded-full shadow-2xl border-4 border-[#801e1e] flex items-center justify-center z-40",children:[u.jsx("div",{className:"absolute inset-1 rounded-full border border-white/10"}),u.jsx("span",{className:"font-serif text-white text-4xl drop-shadow-md",children:((r=e.openingScreen)==null?void 0:r.sealInitials)||"LF"}),u.jsx("div",{className:"absolute -bottom-16 w-max left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:u.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-gold font-bold",children:"Tap to Open"})})]})]})}),u.jsxs("div",{className:"mb-6 pb-4",children:[u.jsx("div",{className:"text-lg md:text-xl font-cursive text-gold mb-4 tracking-widest",children:a.subtitle}),u.jsx("div",{className:"text-[9px] md:text-[10px] uppercase tracking-[0.3em] md:tracking-[0.4em] font-bold text-gray-400 font-body",children:"The Celebration Awaits"})]})]},"invitation-card"),u.jsx(_t,{children:n&&u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 flex flex-col items-center justify-center z-50 p-10 bg-[#fcfaf7]",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((o,l)=>u.jsx(U.div,{initial:{opacity:0,x:Math.random()*100+"%",y:Math.random()*100+"%"},animate:{opacity:[0,.4,0],y:[null,"-=100"],x:[null,(Math.random()-.5)*50]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2},className:"absolute w-1 h-1 bg-gold rounded-full blur-[1px]"},l))}),u.jsx(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:1.5,ease:"easeOut"},className:"text-center relative z-20",children:u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:1.2},className:"flex flex-col items-center",children:u.jsxs("div",{className:"text-xl md:text-3xl font-sans tracking-[0.2em] leading-loose text-gray-500 uppercase font-light",children:["Two hearts ",u.jsx("span",{className:"font-cursive text-3xl md:text-5xl text-gold lowercase bg-clip-text capitalize mx-2",children:"one journey"}),u.jsx("br",{}),u.jsx("span",{className:"text-gold font-bold scale-110 inline-block mt-6 tracking-[0.3em] text-sm md:text-xl border-t border-b border-gold/30 py-4 px-8",children:"a lifetime of love"})]})})})]})})]})})},Oj=({onAdminClick:t,onGuestDashboardClick:e,isMuted:n,onToggleMusic:i,isDarkMode:s,onToggleTheme:a,hidden:r})=>{const[o,l]=E.useState(!1),[c,h]=E.useState(!1),[f,d]=E.useState(""),m=[{name:"Story",href:"#story"},{name:"Timeline",href:"#timeline"},{name:"Gallery",href:"#gallery"},{name:"Guestbook",href:"#guestbook"},{name:"RSVP",href:"#rsvp"}];E.useEffect(()=>{const p=()=>{l(window.scrollY>50);const g=m.map(w=>w.href.substring(1));let y="";for(const w of g){const C=document.getElementById(w);if(C){const D=C.getBoundingClientRect();D.top<=150&&D.bottom>=150&&(y=w)}}d(y)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const v=()=>{c?document.body.style.overflow="auto":document.body.style.overflow="hidden",h(!c)},b=()=>{h(!1),document.body.style.overflow="auto"},S={closed:{opacity:0},open:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:`fixed top-0 left-0 right-0 z-[60] hidden lg:block transition-all duration-500 ${r?"opacity-0 pointer-events-none translate-y-[-100%]":"opacity-100"} ${o?(s?"bg-[#1a1a1a]/80":"bg-white/80")+" backdrop-blur-md shadow-lg py-4":"bg-transparent py-8"}`,children:u.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[u.jsxs("div",{className:`font-serif text-3xl tracking-[0.2em] transition-all duration-500 cursor-default relative z-[70] ${o?"text-gold":"text-white"}`,children:["L ",u.jsx("span",{className:"font-cursive text-4xl text-gold mx-2",children:"&"})," F"]}),u.jsxs("div",{className:"flex space-x-8 items-center",children:[m.map(p=>u.jsxs("a",{href:p.href,className:`text-[10px] font-bold uppercase tracking-[0.3em] hover:text-gold transition-all duration-300 relative group ${f===p.href.substring(1)?"text-gold":o?s?"text-gray-300":"text-gray-500":"text-white"}`,children:[p.name,u.jsx("span",{className:`absolute -bottom-2 left-0 h-[2px] bg-gold transition-all duration-300 ${f===p.href.substring(1)?"w-full":"w-0 group-hover:w-full"}`})]},p.name)),u.jsx("div",{className:"h-4 w-px bg-gray-300/30 mx-2"}),u.jsx("button",{onClick:i,className:"flex items-center gap-2 group px-2 py-1",title:n?"Play Music":"Mute Music",children:u.jsx("div",{className:"flex items-center gap-[3px] h-3",children:[...Array(4)].map((p,g)=>u.jsx(U.div,{animate:{height:n?2:[4,12,6,12,4]},transition:{duration:.8,repeat:1/0,delay:g*.1},className:`w-[2px] rounded-full ${o?"bg-gold":"bg-white"}`},g))})}),u.jsx("button",{onClick:a,className:`text-sm hover:text-gold transition-colors px-2 ${o?s?"text-white":"text-gray-600":"text-white"}`,children:u.jsx("i",{className:`fa-solid ${s?"fa-sun":"fa-moon"}`})}),u.jsx("button",{onClick:e,className:`text-[10px] font-black uppercase tracking-[0.2em] px-6 py-2.5 rounded-full border transition-all duration-300 ${o?"border-gold text-gold hover:bg-gold hover:text-white shadow-lg shadow-gold/10":"border-white/40 text-white hover:border-white hover:bg-white/10"}`,children:"Guest Portal"}),u.jsxs("button",{onClick:t,className:`group flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest px-4 py-2 rounded-lg border border-transparent transition-all ${o?s?"text-white/40 hover:text-gold hover:border-gold/20":"text-gray-400 hover:text-gold hover:border-gold/20":"text-white/60 hover:text-white hover:border-white/20"}`,children:[u.jsx("i",{className:"fa-solid fa-crown text-sm"}),u.jsx("span",{children:"Admin"})]})]})]})}),u.jsx("div",{className:`lg:hidden fixed bottom-6 left-1/2 -translate-x-1/2 z-[60] w-[90%] max-w-md transition-all duration-500 ${r?"opacity-0 pointer-events-none translate-y-20":"opacity-100 translate-y-0"}`,children:u.jsxs(U.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:`${s?"bg-[#1a1a1a]/95":"bg-white/95"} backdrop-blur-xl border ${s?"border-white/10":"border-gold/20"} rounded-3xl p-3 shadow-2xl flex items-center justify-around relative`,children:[[{id:"story",icon:"fa-book",label:"Story"},{id:"timeline",icon:"fa-clock",label:"Timeline"},{id:"gallery",icon:"fa-images",label:"Gallery"},{id:"rsvp",icon:"fa-pen-nib",label:"RSVP"}].map(p=>u.jsxs(U.a,{href:`#${p.id}`,whileTap:{scale:.9},className:`relative z-10 flex flex-col items-center py-3 px-4 rounded-2xl transition-all ${f===p.id?"text-gold":s?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(U.i,{className:`fa-solid ${p.icon} text-lg mb-1`,animate:f===p.id?{scale:[1,1.2,1]}:{},transition:{duration:.3}}),u.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:p.label})]},p.id)),u.jsxs(U.button,{onClick:v,whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-16 h-16 rounded-2xl flex flex-col items-center justify-center transition-all duration-300 ${c?"bg-gradient-to-br from-gold via-[#d4af37] to-gold text-white shadow-xl shadow-gold/50":s?"bg-gradient-to-br from-white/10 to-white/5 text-gold shadow-lg shadow-black/20 border border-white/10":"bg-gradient-to-br from-gold/20 to-gold/10 text-gold shadow-lg shadow-gold/20 border border-gold/20"}`,children:[u.jsx(U.i,{className:`fa-solid ${c?"fa-xmark":"fa-bars"} text-xl`,animate:{rotate:c?90:0},transition:{type:"spring",stiffness:200}}),u.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest mt-1",children:"Menu"})]})]})}),u.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 z-[60] p-4 flex justify-between items-center transition-all duration-500 ${r?"opacity-0 pointer-events-none translate-y-[-100%]":"opacity-100"} ${o?(s?"bg-[#1a1a1a]/80":"bg-white/80")+" backdrop-blur-md shadow-md":"bg-transparent"}`,children:[u.jsxs("div",{className:`font-serif text-xl tracking-[0.2em] ${o?"text-gold":"text-white"}`,children:["L ",u.jsx("span",{className:"font-cursive text-2xl text-gold",children:"&"})," F"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:i,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${o?s?"bg-white/5":"bg-gold/10":"bg-black/20 text-white"}`,children:u.jsx("i",{className:`fa-solid ${n?"fa-volume-mute":"fa-volume-up"} ${o?"text-gold":"text-white"}`})}),u.jsx("button",{onClick:e,className:"bg-gold text-white px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Guest"})]})]}),u.jsx(_t,{children:c&&u.jsx(U.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:`fixed inset-0 z-[65] flex flex-col justify-end p-6 pb-28 ${s?"bg-[#000]/95":"bg-[#fff]/95"} backdrop-blur-xl`,children:u.jsxs(U.div,{variants:S,initial:"closed",animate:"open",exit:"closed",className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs("button",{onClick:()=>{a(),h(!1)},className:`w-full py-5 rounded-3xl border-2 flex items-center justify-center gap-4 text-sm font-bold uppercase tracking-widest transition-all ${s?"border-white/10 text-white hover:bg-white/5":"border-gray-100 text-gray-800 hover:bg-gray-50"}`,children:[u.jsx("i",{className:`fa-solid ${s?"fa-sun":"fa-moon"} text-gold`}),s?"Switch to Light":"Switch to Dark"]}),u.jsxs("button",{onClick:()=>{b(),t()},className:`w-full py-5 rounded-3xl border-2 flex items-center justify-center gap-4 text-sm font-bold uppercase tracking-widest transition-all ${s?"border-white/10 text-white hover:bg-white/5":"border-gray-100 text-gray-800 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"fa-solid fa-crown text-gold"}),"Admin Panel"]})]}),u.jsxs("div",{className:`p-8 rounded-[40px] ${s?"bg-white/5":"bg-gold/5"} text-center border ${s?"border-white/5":"border-gold/10"}`,children:[u.jsx("h4",{className:"font-serif text-2xl text-gold mb-2",children:"Our Celebration"}),u.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-[0.2em] font-bold",children:"July 4, 2026  Cebu City"})]})]})})})]})};var Ag={};(function t(e,n,i,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;try{var T=new OffscreenCanvas(1,1),_=T.getContext("2d");_.fillRect(0,0,1,1);var z=T.transferToImageBitmap();_.createPattern(z,"no-repeat")}catch{return!1}return!0}();function l(){}function c(T){var _=n.exports.Promise,z=_!==void 0?_:e.Promise;return typeof z=="function"?new z(T):(T(l,l),null)}var h=function(T,_){return{transform:function(z){if(T)return z;if(_.has(z))return _.get(z);var F=new OffscreenCanvas(z.width,z.height),G=F.getContext("2d");return G.drawImage(z,0,0),_.set(z,F),F},clear:function(){_.clear()}}}(o,new Map),f=function(){var T=Math.floor(16.666666666666668),_,z,F={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(Y){var J=Math.random();return F[J]=requestAnimationFrame(function q(ne){G===ne||G+T-1<ne?(G=ne,delete F[J],Y()):F[J]=requestAnimationFrame(q)}),J},z=function(Y){F[Y]&&cancelAnimationFrame(F[Y])}):(_=function(Y){return setTimeout(Y,T)},z=function(Y){return clearTimeout(Y)}),{frame:_,cancel:z}}(),d=function(){var T,_,z={};function F(G){function Y(J,q){G.postMessage({options:J||{},callback:q})}G.init=function(q){var ne=q.transferControlToOffscreen();G.postMessage({canvas:ne},[ne])},G.fire=function(q,ne,le){if(_)return Y(q,null),_;var O=Math.random().toString(36).slice(2);return _=c(function(P){function Z(pe){pe.data.callback===O&&(delete z[O],G.removeEventListener("message",Z),_=null,h.clear(),le(),P())}G.addEventListener("message",Z),Y(q,O),z[O]=Z.bind(null,{data:{callback:O}})}),_},G.reset=function(){G.postMessage({reset:!0});for(var q in z)z[q](),delete z[q]}}return function(){if(T)return T;if(!i&&a){var G=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([G])))}catch(Y){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Y),null}F(T)}return T}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(T,_){return _?_(T):T}function b(T){return T!=null}function S(T,_,z){return v(T&&b(T[_])?T[_]:m[_],z)}function p(T){return T<0?0:Math.floor(T)}function g(T,_){return Math.floor(Math.random()*(_-T))+T}function y(T){return parseInt(T,16)}function w(T){return T.map(C)}function C(T){var _=String(T).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:y(_.substring(0,2)),g:y(_.substring(2,4)),b:y(_.substring(4,6))}}function D(T){var _=S(T,"origin",Object);return _.x=S(_,"x",Number),_.y=S(_,"y",Number),_}function A(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function N(T){var _=T.getBoundingClientRect();T.width=_.width,T.height=_.height}function I(T){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=T,_}function M(T,_,z,F,G,Y,J,q,ne){T.save(),T.translate(_,z),T.rotate(Y),T.scale(F,G),T.arc(0,0,1,J,q,ne),T.restore()}function ae(T){var _=T.angle*(Math.PI/180),z=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-_+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function je(T,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var z=_.tick++/_.totalTicks,F=_.x+_.random*_.tiltCos,G=_.y+_.random*_.tiltSin,Y=_.wobbleX+_.random*_.tiltCos,J=_.wobbleY+_.random*_.tiltSin;if(T.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-z)+")",T.beginPath(),r&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))T.fill(j(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(Y-F)*.1,Math.abs(J-G)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var q=Math.PI/10*_.wobble,ne=Math.abs(Y-F)*.1,le=Math.abs(J-G)*.1,O=_.shape.bitmap.width*_.scalar,P=_.shape.bitmap.height*_.scalar,Z=new DOMMatrix([Math.cos(q)*ne,Math.sin(q)*ne,-Math.sin(q)*le,Math.cos(q)*le,_.x,_.y]);Z.multiplySelf(new DOMMatrix(_.shape.matrix));var pe=T.createPattern(h.transform(_.shape.bitmap),"no-repeat");pe.setTransform(Z),T.globalAlpha=1-z,T.fillStyle=pe,T.fillRect(_.x-O/2,_.y-P/2,O,P),T.globalAlpha=1}else if(_.shape==="circle")T.ellipse?T.ellipse(_.x,_.y,Math.abs(Y-F)*_.ovalScalar,Math.abs(J-G)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):M(T,_.x,_.y,Math.abs(Y-F)*_.ovalScalar,Math.abs(J-G)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var X=Math.PI/2*3,vt=4*_.scalar,qt=8*_.scalar,ce=_.x,$t=_.y,Kn=5,sn=Math.PI/Kn;Kn--;)ce=_.x+Math.cos(X)*qt,$t=_.y+Math.sin(X)*qt,T.lineTo(ce,$t),X+=sn,ce=_.x+Math.cos(X)*vt,$t=_.y+Math.sin(X)*vt,T.lineTo(ce,$t),X+=sn;else T.moveTo(Math.floor(_.x),Math.floor(_.y)),T.lineTo(Math.floor(_.wobbleX),Math.floor(G)),T.lineTo(Math.floor(Y),Math.floor(J)),T.lineTo(Math.floor(F),Math.floor(_.wobbleY));return T.closePath(),T.fill(),_.tick<_.totalTicks}function $e(T,_,z,F,G){var Y=_.slice(),J=T.getContext("2d"),q,ne,le=c(function(O){function P(){q=ne=null,J.clearRect(0,0,F.width,F.height),h.clear(),G(),O()}function Z(){i&&!(F.width===s.width&&F.height===s.height)&&(F.width=T.width=s.width,F.height=T.height=s.height),!F.width&&!F.height&&(z(T),F.width=T.width,F.height=T.height),J.clearRect(0,0,F.width,F.height),Y=Y.filter(function(pe){return je(J,pe)}),Y.length?q=f.frame(Z):P()}q=f.frame(Z),ne=P});return{addFettis:function(O){return Y=Y.concat(O),le},canvas:T,promise:le,reset:function(){q&&f.cancel(q),ne&&ne()}}}function Gt(T,_){var z=!T,F=!!S(_||{},"resize"),G=!1,Y=S(_,"disableForReducedMotion",Boolean),J=a&&!!S(_||{},"useWorker"),q=J?d():null,ne=z?A:N,le=T&&q?!!T.__confetti_initialized:!1,O=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,P;function Z(X,vt,qt){for(var ce=S(X,"particleCount",p),$t=S(X,"angle",Number),Kn=S(X,"spread",Number),sn=S(X,"startVelocity",Number),Dd=S(X,"decay",Number),kd=S(X,"gravity",Number),jd=S(X,"drift",Number),kl=S(X,"colors",w),Md=S(X,"ticks",Number),jl=S(X,"shapes"),Ld=S(X,"scalar"),Ml=!!S(X,"flat"),ca=D(X),Ll=ce,Dr=[],Un=T.width*ca.x,Ul=T.height*ca.y;Ll--;)Dr.push(ae({x:Un,y:Ul,angle:$t,spread:Kn,startVelocity:sn,color:kl[Ll%kl.length],shape:jl[g(0,jl.length)],ticks:Md,decay:Dd,gravity:kd,drift:jd,scalar:Ld,flat:Ml}));return P?P.addFettis(Dr):(P=$e(T,Dr,ne,vt,qt),P.promise)}function pe(X){var vt=Y||S(X,"disableForReducedMotion",Boolean),qt=S(X,"zIndex",Number);if(vt&&O)return c(function(sn){sn()});z&&P?T=P.canvas:z&&!T&&(T=I(qt),document.body.appendChild(T)),F&&!le&&ne(T);var ce={width:T.width,height:T.height};q&&!le&&q.init(T),le=!0,q&&(T.__confetti_initialized=!0);function $t(){if(q){var sn={getBoundingClientRect:function(){if(!z)return T.getBoundingClientRect()}};ne(sn),q.postMessage({resize:{width:sn.width,height:sn.height}});return}ce.width=ce.height=null}function Kn(){P=null,F&&(G=!1,e.removeEventListener("resize",$t)),z&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,le=!1)}return F&&!G&&(G=!0,e.addEventListener("resize",$t,!1)),q?q.fire(X,ce,Kn):Z(X,ce,Kn)}return pe.reset=function(){q&&q.reset(),P&&P.reset()},pe}var Ze;function L(){return Ze||(Ze=Gt(null,{useWorker:!0,resize:!0})),Ze}function j(T,_,z,F,G,Y,J){var q=new Path2D(T),ne=new Path2D;ne.addPath(q,new DOMMatrix(_));var le=new Path2D;return le.addPath(ne,new DOMMatrix([Math.cos(J)*G,Math.sin(J)*G,-Math.sin(J)*Y,Math.cos(J)*Y,z,F])),le}function B(T){if(!r)throw new Error("path confetti are not supported in this browser");var _,z;typeof T=="string"?_=T:(_=T.path,z=T.matrix);var F=new Path2D(_),G=document.createElement("canvas"),Y=G.getContext("2d");if(!z){for(var J=1e3,q=J,ne=J,le=0,O=0,P,Z,pe=0;pe<J;pe+=2)for(var X=0;X<J;X+=2)Y.isPointInPath(F,pe,X,"nonzero")&&(q=Math.min(q,pe),ne=Math.min(ne,X),le=Math.max(le,pe),O=Math.max(O,X));P=le-q,Z=O-ne;var vt=10,qt=Math.min(vt/P,vt/Z);z=[qt,0,0,qt,-Math.round(P/2+q)*qt,-Math.round(Z/2+ne)*qt]}return{type:"path",path:_,matrix:z}}function te(T){var _,z=1,F="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?_=T:(_=T.text,z="scalar"in T?T.scalar:z,G="fontFamily"in T?T.fontFamily:G,F="color"in T?T.color:F);var Y=10*z,J=""+Y+"px "+G,q=new OffscreenCanvas(Y,Y),ne=q.getContext("2d");ne.font=J;var le=ne.measureText(_),O=Math.ceil(le.actualBoundingBoxRight+le.actualBoundingBoxLeft),P=Math.ceil(le.actualBoundingBoxAscent+le.actualBoundingBoxDescent),Z=2,pe=le.actualBoundingBoxLeft+Z,X=le.actualBoundingBoxAscent+Z;O+=Z+Z,P+=Z+Z,q=new OffscreenCanvas(O,P),ne=q.getContext("2d"),ne.font=J,ne.fillStyle=F,ne.fillText(_,pe,X);var vt=1/z;return{type:"bitmap",bitmap:q.transferToImageBitmap(),matrix:[vt,0,0,vt,-O*vt/2,-P*vt/2]}}n.exports=function(){return L().apply(this,arguments)},n.exports.reset=function(){L().reset()},n.exports.create=Gt,n.exports.shapeFromPath=B,n.exports.shapeFromText=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ag,!1);const Ga=Ag.exports;Ag.exports.create;const Dj=({content:t})=>{const{scrollY:e}=zT(),n=bu(e,[0,500],[0,200]),i=bu(e,[0,400],[1,0]),s=E.useCallback(()=>{try{if(!t.countdownDate)return{days:0,hours:0,minutes:0,seconds:0};const f=new Date(t.countdownDate),d=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"})),m=f.getTime()-d.getTime();if(m>0)return{days:Math.floor(m/(1e3*60*60*24)),hours:Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(m%(1e3*60*60)/(1e3*60)),seconds:Math.floor(m%(1e3*60)/1e3)}}catch(f){console.error("Countdown error:",f)}return{days:0,hours:0,minutes:0,seconds:0}},[t.countdownDate]),[a,r]=E.useState(s()),[o,l]=E.useState(!1),c=E.useCallback(()=>{const d=Date.now()+5e3,m={startVelocity:30,spread:360,ticks:60,zIndex:100},v=(S,p)=>Math.random()*(p-S)+S,b=setInterval(()=>{const S=d-Date.now();if(S<=0){clearInterval(b);return}const p=50*(S/5e3),g=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Ga({...m,particleCount:p,origin:{x:v(.1,.3),y:Math.random()-.2},colors:g}),Ga({...m,particleCount:p,origin:{x:v(.7,.9),y:Math.random()-.2},colors:g})},250);Ga({particleCount:200,spread:100,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},[]);E.useEffect(()=>{const f=setInterval(()=>{const d=s();r(d),!o&&d.days===0&&d.hours===0&&d.minutes===0&&d.seconds===0&&(l(!0),c())},1e3);return()=>clearInterval(f)},[s,o,c]);const h=({value:f,label:d})=>u.jsxs("div",{className:"flex flex-col items-center text-center min-w-[60px] md:min-w-[80px]",children:[u.jsx("div",{className:"text-3xl md:text-5xl font-bold text-gold font-serif leading-none mb-1",children:String(f).padStart(2,"0")}),u.jsx("div",{className:"text-[8px] md:text-[10px] uppercase tracking-[0.2em] text-champagne/80 font-body font-bold",children:d})]});return u.jsxs("div",{className:"relative h-screen w-full flex items-center justify-center overflow-hidden",children:[u.jsx(U.div,{style:{y:n,scale:1.1},initial:{scale:1.2},animate:{scale:1.1},transition:{duration:1.5},className:"absolute inset-0 z-0",children:u.jsx("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('${t.heroImageUrl||"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920"}')`,backgroundSize:"cover",backgroundPosition:"center"}})}),u.jsxs(U.div,{style:{opacity:i},className:"relative z-10 text-center text-white px-4 w-full max-w-5xl mt-12",children:[u.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},children:[u.jsx("div",{className:"text-[10px] md:text-xl uppercase tracking-[0.5em] md:tracking-[0.8em] mb-6 md:mb-12 font-medium text-white/70 font-body drop-shadow-lg",children:"The Wedding Of"}),u.jsx(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:1},className:"leading-none drop-shadow-2xl flex flex-col items-center mb-8 sm:mb-12",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 md:gap-6",children:[u.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Louie"}),u.jsx("span",{className:"font-cursive text-gold text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal opacity-90",style:{textShadow:"0 0 30px rgba(212, 175, 55, 0.8)",transform:"translateY(-4px)"},children:"&"}),u.jsx("span",{className:"font-cursive text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl text-white font-normal tracking-wide",style:{textShadow:"0 0 40px rgba(212, 175, 55, 0.6), 0 4px 20px rgba(0, 0, 0, 0.5)",letterSpacing:"0.05em"},children:"Florie"})]})}),u.jsx("div",{className:"text-lg md:text-3xl font-cursive tracking-widest text-gold mb-12 md:mb-16 drop-shadow-lg",children:t.weddingDate}),u.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:1},className:"flex justify-center items-center mb-12 md:mb-20 bg-black/30 backdrop-blur-md px-3 py-4 md:px-8 md:py-6 rounded-2xl md:rounded-full border border-white/10 shadow-3xl inline-flex mx-auto scale-90 md:scale-100",children:[u.jsx(h,{value:a.days,label:"Days"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(h,{value:a.hours,label:"Hrs"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(h,{value:a.minutes,label:"Mins"}),u.jsx("div",{className:"text-lg md:text-xl text-gold/40 pb-3 md:pb-4 self-center mx-1 font-serif",children:":"}),u.jsx(h,{value:a.seconds,label:"Secs"})]}),u.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"max-w-xl mx-auto text-xs md:text-base font-light tracking-[0.2em] leading-loose opacity-90 px-4 font-body text-champagne",children:t.heroTagline})]}),u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{delay:2,duration:2,repeat:1/0},className:"absolute -bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center cursor-pointer",onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),children:[u.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-white/70 mb-2 font-bold",children:"Scroll"}),u.jsx("div",{className:"w-[1px] h-16 bg-gradient-to-b from-gold via-white to-transparent"})]})]})]})},kj=()=>{};var Ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+FT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],o=t[n++],l=((s&7)<<18|(a&63)<<12|(r&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,o=r?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=a>>2,f=(a&3)<<4|o>>4;let d=(o&15)<<2|c>>6,m=c&63;l||(m=64,r||(d=64)),i.push(n[h],n[f],n[d],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||o==null||c==null||f==null)throw new Mj;const d=a<<2|o>>4;if(i.push(d),c!==64){const m=o<<4&240|c>>2;if(i.push(m),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(t){const e=GT(t);return Rg.encodeByteArray(e,!0)},_u=function(t){return qT(t).replace(/\./g,"")},wu=function(t){try{return Rg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){return $T(void 0,t)}function $T(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Uj(n)||(t[n]=$T(t[n],e[n]));return t}function Uj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=()=>Pj().__FIREBASE_DEFAULTS__,zj=()=>{if(typeof process>"u"||typeof Ox>"u")return;const t=Ox.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wu(t[1]);return e&&JSON.parse(e)},Ig=()=>{try{return kj()||Vj()||zj()||Bj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YT=t=>{var e,n;return(n=(e=Ig())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WT=t=>{const e=YT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},KT=()=>{var t;return(t=Ig())==null?void 0:t.config},XT=t=>{var e;return(e=Ig())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Og(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_u(JSON.stringify(n)),_u(JSON.stringify(r)),""].join(".")}const So={};function Hj(){const t={prod:[],emulator:[]};for(const e of Object.keys(So))So[e]?t.emulator.push(e):t.prod.push(e);return t}function Fj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dx=!1;function Dg(t,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||So[t]===e||So[t]||Dx)return;So[t]=e;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",a=Hj().prod.length>0;function r(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Dx=!0,r()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=Fj(i),m=n("text"),v=document.getElementById(m)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),p=n("preprendIcon"),g=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const y=d.element;o(y),h(S,b);const w=c();l(g,p),y.append(g,v,S,w),document.body.appendChild(y)}a?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Gj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $j(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yj(){return FT.NODE_ADMIN===!0}function Wj(){try{return typeof indexedDB=="object"}catch{return!1}}function Kj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="FirebaseError";class Ei extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Xj,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?Qj(a,i):"Error",o=`${this.serviceName}: ${r} (${s}).`;return new Ei(s,o,i)}}function Qj(t,e){return t.replace(Zj,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Zj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return JSON.parse(t)}function lt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=Xo(wu(a[0])||""),n=Xo(wu(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},Jj=function(t){const e=JT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eM=function(t){const e=JT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Tm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Su(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ys(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(kx(a)&&kx(r)){if(!Ys(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function to(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=o^a&(r^o),h=1518500249):(c=a^r^o,h=1859775393):f<60?(c=a&r|o&(a|r),h=2400959708):(c=a^r^o,h=3395469782);const d=(s<<5|s>>>27)+c+l+h+i[f]&4294967295;l=o,o=r,r=(a<<30|a>>>2)&4294967295,a=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function nM(t,e){const n=new iM(t,e);return n.subscribe.bind(n)}class iM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");sM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Uh),s.error===void 0&&(s.error=Uh),s.complete===void 0&&(s.complete=Uh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uh(){}function jg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,k(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gd=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new pd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lM(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oM(t){return t===Rs?void 0:t}function lM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const uM={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},dM=Se.INFO,hM={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},fM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=hM[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=dM,this._logHandler=fM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const mM=(t,e)=>e.some(n=>t instanceof n);let jx,Mx;function pM(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gM(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Em=new WeakMap,tE=new WeakMap,Ph=new WeakMap,Lg=new WeakMap;function yM(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(is(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}function vM(t){if(Em.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Em.set(t,e)}let Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xM(t){Cm=t(Cm)}function bM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vh(this),e,...n);return tE.set(i,e.sort?e.sort():[e]),is(i)}:gM().includes(t)?function(...e){return t.apply(Vh(this),e),is(eE.get(this))}:function(...e){return is(t.apply(Vh(this),e))}}function _M(t){return typeof t=="function"?bM(t):(t instanceof IDBTransaction&&vM(t),mM(t,pM())?new Proxy(t,Cm):t)}function is(t){if(t instanceof IDBRequest)return yM(t);if(Ph.has(t))return Ph.get(t);const e=_M(t);return e!==t&&(Ph.set(t,e),Lg.set(e,t)),e}const Vh=t=>Lg.get(t);function wM(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),o=is(r);return i&&r.addEventListener("upgradeneeded",l=>{i(is(r.result),l.oldVersion,l.newVersion,is(r.transaction),l)}),n&&r.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const SM=["get","getKey","getAll","getAllKeys","count"],TM=["put","add","delete","clear"],zh=new Map;function Lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=TM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||SM.includes(n)))return;const a=async function(r,...o){const l=this.transaction(r,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return zh.set(e,a),a}xM(t=>({...t,get:(e,n,i)=>Lx(e,n)||t.get(e,n,i),has:(e,n)=>!!Lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function CM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",Ux="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Mg("@firebase/app"),NM="@firebase/app-compat",AM="@firebase/analytics-compat",RM="@firebase/analytics",IM="@firebase/app-check-compat",OM="@firebase/app-check",DM="@firebase/auth",kM="@firebase/auth-compat",jM="@firebase/database",MM="@firebase/data-connect",LM="@firebase/database-compat",UM="@firebase/functions",PM="@firebase/functions-compat",VM="@firebase/installations",zM="@firebase/installations-compat",BM="@firebase/messaging",HM="@firebase/messaging-compat",FM="@firebase/performance",GM="@firebase/performance-compat",qM="@firebase/remote-config",$M="@firebase/remote-config-compat",YM="@firebase/storage",WM="@firebase/storage-compat",KM="@firebase/firestore",XM="@firebase/ai",QM="@firebase/firestore-compat",ZM="firebase",JM="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",e3={[Nm]:"fire-core",[NM]:"fire-core-compat",[RM]:"fire-analytics",[AM]:"fire-analytics-compat",[OM]:"fire-app-check",[IM]:"fire-app-check-compat",[DM]:"fire-auth",[kM]:"fire-auth-compat",[jM]:"fire-rtdb",[MM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[UM]:"fire-fn",[PM]:"fire-fn-compat",[VM]:"fire-iid",[zM]:"fire-iid-compat",[BM]:"fire-fcm",[HM]:"fire-fcm-compat",[FM]:"fire-perf",[GM]:"fire-perf-compat",[qM]:"fire-rc",[$M]:"fire-rc-compat",[YM]:"fire-gcs",[WM]:"fire-gcs-compat",[KM]:"fire-fst",[QM]:"fire-fst-compat",[XM]:"fire-vertex","fire-js":"fire-js",[ZM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,t3=new Map,Rm=new Map;function Px(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(Rm.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,t);for(const n of Tu.values())Px(n,t);for(const n of t3.values())Px(n,t);return!0}function yd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Sl("app","Firebase",n3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=JM;function Ug(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Am,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(n||(n=KT()),!n)throw ss.create("no-options");const a=Tu.get(s);if(a){if(Ys(n,a.options)&&Ys(i,a.config))return a;throw ss.create("duplicate-app",{appName:s})}const r=new cM(s);for(const l of Rm.values())r.addComponent(l);const o=new i3(n,i,r);return Tu.set(s,o),o}function Pg(t=Am){const e=Tu.get(t);if(!e&&t===Am&&KT())return Ug();if(!e)throw ss.create("no-app",{appName:t});return e}function Gn(t,e,n){let i=e3[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(r.join(" "));return}Ws(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="firebase-heartbeat-database",a3=1,Qo="firebase-heartbeat-store";let Bh=null;function nE(){return Bh||(Bh=wM(s3,a3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ss.create("idb-open",{originalErrorMessage:t.message})})),Bh}async function r3(t){try{const n=(await nE()).transaction(Qo),i=await n.objectStore(Qo).get(iE(t));return await n.done,i}catch(e){if(e instanceof Ei)bi.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function Vx(t,e){try{const i=(await nE()).transaction(Qo,"readwrite");await i.objectStore(Qo).put(e,iE(t)),await i.done}catch(n){if(n instanceof Ei)bi.warn(n.message);else{const i=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(i.message)}}}function iE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=1024,l3=30;class c3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>l3){const r=h3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zx(),{heartbeatsToSend:i,unsentEntries:s}=u3(this._heartbeatsCache.heartbeats),a=_u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bi.warn(n),""}}}function zx(){return new Date().toISOString().substring(0,10)}function u3(t,e=o3){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),Bx(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class d3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wj()?Kj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bx(t){return _u(JSON.stringify({version:2,heartbeats:t})).length}function h3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){Ws(new fs("platform-logger",e=>new EM(e),"PRIVATE")),Ws(new fs("heartbeat",e=>new c3(e),"PRIVATE")),Gn(Nm,Ux,t),Gn(Nm,Ux,"esm2020"),Gn("fire-js","")}f3("");var m3="firebase",p3="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(m3,p3,"app");var Hx={};const Fx="@firebase/database",Gx="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sE="";function g3(t){sE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ci(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new y3(e)}}catch{}return new v3},ks=aE("localStorage"),x3=aE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Mg("@firebase/database"),b3=function(){let t=1;return function(){return t++}}(),rE=function(t){const e=aM(t),n=new tM;n.update(e);const i=n.digest();return Rg.encodeByteArray(i)},Tl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Tl.apply(null,i):typeof i=="object"?e+=lt(i):e+=i,e+=" "}return e};let To=null,qx=!0;const _3=function(t,e){k(!0,"Can't turn on custom loggers persistently."),qa.logLevel=Se.VERBOSE,To=qa.log.bind(qa)},wt=function(...t){if(qx===!0&&(qx=!1,To===null&&x3.get("logging_enabled")===!0&&_3()),To){const e=Tl.apply(null,t);To(e)}},El=function(t){return function(...e){wt(t,...e)}},Im=function(...t){const e="FIREBASE INTERNAL ERROR: "+Tl(...t);qa.error(e)},_i=function(...t){const e=`FIREBASE FATAL ERROR: ${Tl(...t)}`;throw qa.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+Tl(...t);qa.warn(e)},w3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},S3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ur="[MIN_NAME]",Ks="[MAX_NAME]",Nr=function(t,e){if(t===e)return 0;if(t===ur||e===Ks)return-1;if(e===ur||t===Ks)return 1;{const n=$x(t),i=$x(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},T3=function(t,e){return t===e?0:t<e?-1:1},Hr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+lt(e))},Vg=function(t){if(typeof t!="object"||t===null)return lt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=lt(e[i]),n+=":",n+=Vg(t[e[i]]);return n+="}",n},lE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cE=function(t){k(!oE(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,o,l;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=o+i,r=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(l=e;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const h=c.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(h.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},E3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function N3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const A3=new RegExp("^-?(0*)\\d{1,10}$"),R3=-2147483648,I3=2147483647,$x=function(t){if(A3.test(t)){const e=Number(t);if(e>=R3&&e<=I3)return e}return null},Ar=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw zt("Exception was thrown by user callback.",n),e},Math.floor(0))}},O3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Eo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class kc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}kc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="5",uE="v",dE="s",hE="r",fE="f",mE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pE="ls",gE="p",Om="ac",yE="websocket",vE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,i,s,a=!1,r="",o=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function j3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bE(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let i;if(e===yE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vE)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);j3(t)&&(n.ns=t.namespace);const s=[];return Ht(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.counters_={}}incrementCounter(e,n=1){Ci(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={},Fh={};function Bg(t){const e=t.toString();return Hh[e]||(Hh[e]=new M3),Hh[e]}function L3(t,e){const n=t.toString();return Fh[n]||(Fh[n]=e()),Fh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Ar(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="start",P3="close",V3="pLPCommand",z3="pRTLPCB",_E="id",wE="pw",SE="ser",B3="cb",H3="seg",F3="ts",G3="d",q3="dframe",TE=1870,EE=30,$3=TE-EE,Y3=25e3,W3=3e4;class ja{constructor(e,n,i,s,a,r,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=El(e),this.stats_=Bg(n),this.urlFn=l=>(this.appCheckToken&&(l[Om]=this.appCheckToken),bE(n,vE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new U3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(W3)),S3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hg((...a)=>{const[r,o,l,c,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Yx)this.id=o,this.password=l;else if(r===P3)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[Yx]="t",i[SE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[B3]=this.scriptTagHolder.uniqueCallbackIdentifier),i[uE]=zg,this.transportSessionId&&(i[dE]=this.transportSessionId),this.lastSessionId&&(i[pE]=this.lastSessionId),this.applicationId&&(i[gE]=this.applicationId),this.appCheckToken&&(i[Om]=this.appCheckToken),typeof location<"u"&&location.hostname&&mE.test(location.hostname)&&(i[hE]=fE);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return ja.forceAllow_?!0:!ja.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!E3()&&!C3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=qT(n),s=lE(i,$3);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[q3]="t",i[_E]=e,i[wE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=lt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hg{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b3(),window[V3+this.uniqueCallbackIdentifier]=e,window[z3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hg.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(o){wt("frame writing exception"),o.stack&&wt(o.stack),wt(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_E]=this.myID,e[wE]=this.myPW,e[SE]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EE+i.length<=TE;){const r=this.pendingSegs.shift();i=i+"&"+H3+s+"="+r.seg+"&"+F3+s+"="+r.ts+"&"+G3+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Y3)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{wt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=16384,X3=45e3;let Eu=null;typeof MozWebSocket<"u"?Eu=MozWebSocket:typeof WebSocket<"u"&&(Eu=WebSocket);class Nn{constructor(e,n,i,s,a,r,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=El(this.connId),this.stats_=Bg(n),this.connURL=Nn.connectionURL_(n,r,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[uE]=zg,typeof location<"u"&&location.hostname&&mE.test(location.hostname)&&(r[hE]=fE),n&&(r[dE]=n),i&&(r[pE]=i),s&&(r[Om]=s),a&&(r[gE]=a),bE(e,yE,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ks.set("previous_websocket_failure",!0);try{let i;Yj(),this.mySock=new Eu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Eu!==null&&!Nn.forceDisallow_}static previouslyFailed(){return ks.isInMemoryStorage||ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Xo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=lE(n,K3);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(X3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static get ALL_TRANSPORTS(){return[ja,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nn&&Nn.isAvailable();let i=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nn];else{const s=this.transports_=[];for(const a of Zo.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Zo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=6e4,Z3=5e3,J3=10*1024,e4=100*1024,Gh="t",Wx="d",t4="s",Kx="r",n4="e",Xx="o",Qx="a",Zx="n",Jx="p",i4="h";class s4{constructor(e,n,i,s,a,r,o,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=El("c:"+this.id+":"),this.transportManager_=new Zo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>e4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>J3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gh in e){const n=e[Gh];n===Qx?this.upgradeIfSecondaryHealthy_():n===Kx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Xx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hr("t",e),i=Hr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hr("t",e),i=Hr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hr(Gh,e);if(Wx in e){const i=e[Wx];if(n===i4){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Zx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===t4?this.onConnectionShutdown_(i):n===Kx?this.onReset_(i):n===n4?Im("Server Error: "+i):n===Xx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Im("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zg!==i&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Q3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Z3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends NE{static getInstance(){return new Cu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=32,tb=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new Ce("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ms(t){return t.pieces_.length-t.pieceNum_}function Ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function AE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function a4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function RE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function IE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function tt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ce)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ce(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){const n=re(t),i=re(e);if(n===null)return e;if(n===i)return Lt(Ne(t),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Fg(t,e){if(ms(t)!==ms(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ms(t)>ms(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class r4{constructor(e,n){this.errorPrefix_=n,this.parts_=RE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=gd(this.parts_[i]);OE(this)}}function o4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gd(e),OE(t)}function l4(t){const e=t.parts_.pop();t.byteLength_-=gd(e),t.parts_.length>0&&(t.byteLength_-=1)}function OE(t){if(t.byteLength_>tb)throw new Error(t.errorPrefix_+"has a key path longer than "+tb+" bytes ("+t.byteLength_+").");if(t.parts_.length>eb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eb+") or object contains a cycle "+Is(t))}function Is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends NE{static getInstance(){return new Gg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=1e3,c4=60*5*1e3,nb=30*1e3,u4=1.3,d4=3e4,h4="server_kill",ib=3;class fi extends CE{constructor(e,n,i,s,a,r,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=fi.nextPersistentConnectionId_++,this.log_=El("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fr,this.maxReconnectDelay_=c4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(lt(a)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new pd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const o=r.d;r.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,o=>{const l=o.d,c=o.s;fi.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ci(e,"w")){const i=cr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Jj(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Im("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>d4&&(this.reconnectDelay_=Fr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*u4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+fi.nextConnectionId_++,a=this.lastSessionId;let r=!1,o=null;const l=function(){o?o.close():(r=!0,i())},c=function(f){k(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,o=new s4(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{zt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(h4)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&zt(f),l())}}}interrupt(e){wt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tm(this.interruptReasons_)&&(this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Vg(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ce(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){wt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ib&&(this.reconnectDelay_=nb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ib&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sE.replace(/\./g,"-")]=1,kg()?e["framework.cordova"]=1:ZT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cu.getInstance().currentlyOnline();return Tm(this.interruptReasons_)&&e}}fi.nextPersistentConnectionId_=0;fi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new oe(ur,e),s=new oe(ur,n);return this.compare(i,s)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class DE extends vd{static get __EMPTY_NODE(){return ac}static set __EMPTY_NODE(e){ac=e}compare(e,n){return Nr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Ks,ac)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,ac)}toString(){return".key"}}const $a=new DE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??rt.RED,this.left=s??Ut.EMPTY_NODE,this.right=a??Ut.EMPTY_NODE}copy(e,n,i,s,a){return new rt(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class f4{copy(e,n,i,s,a){return this}insert(e,n,i){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rc(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new f4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){return Nr(t.name,e.name)}function qg(t,e){return Nr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;function p4(t){Dm=t}const kE=function(t){return typeof t=="number"?"number:"+cE(t):"string:"+t},jE=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ci(e,".sv"),"Priority must be a string or number.")}else k(t===Dm||t.isEmpty(),"priority of unexpected type.");k(t===Dm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb;class st{static set __childrenNodeConstructor(e){sb=e}static get __childrenNodeConstructor(){return sb}constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:re(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=re(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(k(i!==".priority"||ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cE(this.value_):e+=this.value_,this.lazyHash_=rE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=st.VALUE_TYPE_ORDER.indexOf(n),a=st.VALUE_TYPE_ORDER.indexOf(i);return k(s>=0,"Unknown leaf type: "+n),k(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME,LE;function g4(t){ME=t}function y4(t){LE=t}class v4 extends vd{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?Nr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Ks,new st("[PRIORITY-POST]",LE))}makePost(e,n){const i=ME(e);return new oe(n,new st("[PRIORITY-POST]",i))}toString(){return".priority"}}const ze=new v4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=Math.log(2);class b4{constructor(e){const n=a=>parseInt(Math.log(a)/x4,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nu=function(t,e,n,i){t.sort(e);const s=function(l,c){const h=c-l;let f,d;if(h===0)return null;if(h===1)return f=t[l],d=n?n(f):f,new rt(d,f.node,rt.BLACK,null,null);{const m=parseInt(h/2,10)+l,v=s(l,m),b=s(m+1,c);return f=t[m],d=n?n(f):f,new rt(d,f.node,rt.BLACK,v,b)}},a=function(l){let c=null,h=null,f=t.length;const d=function(v,b){const S=f-v,p=f;f-=v;const g=s(S+1,p),y=t[S],w=n?n(y):y;m(new rt(w,y.node,b,null,g))},m=function(v){c?(c.left=v,c=v):(h=v,c=v)};for(let v=0;v<l.count;++v){const b=l.nextBitIsOne(),S=Math.pow(2,l.count-(v+1));b?d(S,rt.BLACK):(d(S,rt.BLACK),d(S,rt.RED))}return h},r=new b4(t.length),o=a(r);return new Ut(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh;const ha={};class ri{static get Default(){return k(ha&&ze,"ChildrenNode.ts has not been loaded"),qh=qh||new ri({".priority":ha},{".priority":ze}),qh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=cr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return Ci(this.indexSet_,e.toString())}addIndex(e,n){k(e!==$a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(oe.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let o;s?o=Nu(i,e.getCompare()):o=ha;const l=e.toString(),c={...this.indexSet_};c[l]=e;const h={...this.indexes_};return h[l]=o,new ri(h,c)}addToIndexes(e,n){const i=Su(this.indexes_,(s,a)=>{const r=cr(this.indexSet_,a);if(k(r,"Missing index implementation for "+a),s===ha)if(r.isDefinedOn(e.node)){const o=[],l=n.getIterator(oe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Nu(o,r.getCompare())}else return ha;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new oe(e.name,o))),l.insert(e,e.node)}});return new ri(i,this.indexSet_)}removeFromIndexes(e,n){const i=Su(this.indexes_,s=>{if(s===ha)return s;{const a=n.get(e.name);return a?s.remove(new oe(e.name,a)):s}});return new ri(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr;class W{static get EMPTY_NODE(){return Gr||(Gr=new W(new Ut(qg),null,ri.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jE(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gr}updatePriority(e){return this.children_.isEmpty()?this:new W(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gr:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new oe(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Gr:this.priorityNode_;return new W(s,r,a)}}updateChild(e,n){const i=re(e);if(i===null)return n;{k(re(e)!==".priority"||ms(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ne(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(ze,(r,o)=>{n[r]=o.val(e),i++,a&&W.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const o in n)r[o]=n[o];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kE(this.getPriority().val())+":"),this.forEachChild(ze,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":rE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new oe(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,oe.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cl?-1:0}withIndex(e){if(e===$a||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new W(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$a||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ze),s=n.getIterator(ze);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===$a?null:this.indexMap_.get(e.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _4 extends W{constructor(){super(new Ut(qg),W.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}}const Cl=new _4;Object.defineProperties(oe,{MIN:{value:new oe(ur,W.EMPTY_NODE)},MAX:{value:new oe(Ks,Cl)}});DE.__EMPTY_NODE=W.EMPTY_NODE;st.__childrenNodeConstructor=W;p4(Cl);y4(Cl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=!0;function ft(t,e=null){if(t===null)return W.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new st(n,ft(e))}if(!(t instanceof Array)&&w4){const n=[];let i=!1;if(Ht(t,(r,o)=>{if(r.substring(0,1)!=="."){const l=ft(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new oe(r,l)))}}),n.length===0)return W.EMPTY_NODE;const a=Nu(n,m4,r=>r.name,qg);if(i){const r=Nu(n,ze.getCompare());return new W(a,ft(e),new ri({".priority":r},{".priority":ze}))}else return new W(a,ft(e),ri.Default)}else{let n=W.EMPTY_NODE;return Ht(t,(i,s)=>{if(Ci(t,i)&&i.substring(0,1)!=="."){const a=ft(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(ft(e))}}g4(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4 extends vd{constructor(e){super(),this.indexPath_=e,k(!he(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?Nr(e.name,n.name):a}makePost(e,n){const i=ft(e),s=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new oe(n,s)}maxPost(){const e=W.EMPTY_NODE.updateChild(this.indexPath_,Cl);return new oe(Ks,e)}toString(){return RE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4 extends vd{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Nr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const i=ft(e);return new oe(n,i)}toString(){return".value"}}const E4=new T4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){return{type:"value",snapshotNode:t}}function dr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function el(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function C4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(s).equals(i.getChild(s))&&o.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Jo(n,o)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?r.trackChildChange(dr(n,i)):r.trackChildChange(el(n,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ze,(s,a)=>{n.hasChild(s)||i.trackChildChange(Jo(s,a))}),n.isLeafNode()||n.forEachChild(ze,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(el(s,a,r))}else i.trackChildChange(dr(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.indexedFilter_=new $g(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tl.getStartPost_(e),this.endPost_=tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new oe(n,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=W.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(W.EMPTY_NODE);const a=this;return n.forEachChild(ze,(r,o)=>{a.matches(new oe(r,o))||(s=s.updateImmediateChild(r,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new oe(n,i))||(i=W.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=W.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))s=s.updateImmediateChild(o.name,o.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(W.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const o=a.getNext();r<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?r++:s=s.updateImmediateChild(o.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(d,m)=>f(m,d)}else r=this.index_.getCompare();const o=e;k(o.numChildren()===this.limit_,"");const l=new oe(n,i),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||o.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:r(d,l);if(h&&!i.isEmpty()&&m>=0)return a!=null&&a.trackChildChange(el(n,i,f)),o.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Jo(n,f));const b=o.updateImmediateChild(n,W.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(a!=null&&a.trackChildChange(dr(d.name,d.node)),b.updateImmediateChild(d.name,d.node)):b}}else return i.isEmpty()?e:h&&r(c,l)>=0?(a!=null&&(a.trackChildChange(Jo(c.name,c.node)),a.trackChildChange(dr(n,i))),o.updateImmediateChild(n,i).updateImmediateChild(c.name,W.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new Yg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function A4(t){return t.loadsAllData()?new $g(t.getIndex()):t.hasLimit()?new N4(t):new tl(t)}function ab(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ze?n="$priority":t.index_===E4?n="$value":t.index_===$a?n="$key":(k(t.index_ instanceof S4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=lt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=lt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+lt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=lt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+lt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends CE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=El("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Au.getListenId_(e,i),o={};this.listens_[r]=o;const l=ab(e._queryParams);this.restRequest_(a+".json",l,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(a,f,!1,i),cr(this.listens_,r)===o){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=Au.getListenId_(e,n);delete this.listens_[i]}get(e){const n=ab(e._queryParams),i=e._path.toString(),s=new pd;return this.restRequest_(i+".json",n,(a,r)=>{let o=r;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cr(n);this.log_("Sending REST request for "+r);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Xo(o.responseText)}catch{zt("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&zt("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(){return{value:null,children:new Map}}function PE(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=re(e);t.children.has(i)||t.children.set(i,Ru());const s=t.children.get(i);e=Ne(e),PE(s,e,n)}}function km(t,e,n){t.value!==null?n(e,t.value):I4(t,(i,s)=>{const a=new Ce(e.toString()+"/"+i);km(s,a,n)})}function I4(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ht(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=10*1e3,D4=30*1e3,k4=5*60*1e3;class j4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new O4(e);const i=ob+(D4-ob)*Math.random();Eo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ht(e,(s,a)=>{a>0&&Ci(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),Eo(this.reportStats_.bind(this),Math.floor(Math.random()*2*k4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(In||(In={}));function VE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=In.ACK_USER_WRITE,this.source=VE()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Iu(ge(),n,this.revert)}}else return k(re(this.path)===e,"operationForChild called for unrelated child."),new Iu(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.source=e,this.path=n,this.type=In.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new nl(this.source,ge()):new nl(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=In.OVERWRITE}operationForChild(e){return he(this.path)?new Xs(this.source,ge(),this.snap.getImmediateChild(e)):new Xs(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=In.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Xs(this.source,ge(),n.value):new il(this.source,ge(),n)}else return k(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new il(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function L4(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(C4(r.childName,r.snapshotNode))}),qr(t,s,"child_removed",e,i,n),qr(t,s,"child_added",e,i,n),qr(t,s,"child_moved",a,i,n),qr(t,s,"child_changed",e,i,n),qr(t,s,"value",e,i,n),s}function qr(t,e,n,i,s,a){const r=i.filter(o=>o.type===n);r.sort((o,l)=>P4(t,o,l)),r.forEach(o=>{const l=U4(t,o,a);s.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function U4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function P4(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const i=new oe(e.childName,e.snapshotNode),s=new oe(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e){return{eventCache:t,serverCache:e}}function Co(t,e,n,i){return xd(new Qs(e,n,i),t.serverCache)}function zE(t,e,n,i){return xd(t.eventCache,new Qs(e,n,i))}function jm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;const V4=()=>($h||($h=new Ut(T3)),$h);class Ie{static fromObject(e){let n=new Ie(null);return Ht(e,(i,s)=>{n=n.set(new Ce(i),s)}),n}constructor(e,n=V4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(he(e))return null;{const i=re(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Ne(e),n);return a!=null?{path:tt(new Ce(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=re(e),i=this.children.get(n);return i!==null?i.subtree(Ne(e)):new Ie(null)}}set(e,n){if(he(e))return new Ie(n,this.children);{const i=re(e),a=(this.children.get(i)||new Ie(null)).set(Ne(e),n),r=this.children.insert(i,a);return new Ie(this.value,r)}}remove(e){if(he(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=re(e),i=this.children.get(n);if(i){const s=i.remove(Ne(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new Ie(null):new Ie(this.value,a)}else return this}}get(e){if(he(e))return this.value;{const n=re(e),i=this.children.get(n);return i?i.get(Ne(e)):null}}setTree(e,n){if(he(e))return n;{const i=re(e),a=(this.children.get(i)||new Ie(null)).setTree(Ne(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new Ie(this.value,r)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(tt(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(he(e))return null;{const a=re(e),r=this.children.get(a);return r?r.findOnPath_(Ne(e),tt(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const s=re(e),a=this.children.get(s);return a?a.foreachOnPath_(Ne(e),tt(n,s),i):new Ie(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(tt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.writeTree_=e}static empty(){return new Dn(new Ie(null))}}function No(t,e,n){if(he(e))return new Dn(new Ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Lt(s,e);return a=a.updateChild(r,n),new Dn(t.writeTree_.set(s,a))}else{const s=new Ie(n),a=t.writeTree_.setTree(e,s);return new Dn(a)}}}function lb(t,e,n){let i=t;return Ht(n,(s,a)=>{i=No(i,tt(e,s),a)}),i}function cb(t,e){if(he(e))return Dn.empty();{const n=t.writeTree_.setTree(e,new Ie(null));return new Dn(n)}}function Mm(t,e){return oa(t,e)!=null}function oa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function ub(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ze,(i,s)=>{e.push(new oe(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new oe(i,s.value))}),e}function as(t,e){if(he(e))return t;{const n=oa(t,e);return n!=null?new Dn(new Ie(n)):new Dn(t.writeTree_.subtree(e))}}function Lm(t){return t.writeTree_.isEmpty()}function hr(t,e){return BE(ge(),t.writeTree_,e)}function BE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(k(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=BE(tt(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(tt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){return qE(e,t)}function z4(t,e,n,i,s){k(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=No(t.visibleWrites,e,n)),t.lastWriteId=i}function B4(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function H4(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const o=t.allWrites[r];o.visible&&(r>=n&&F4(o,i.path)?s=!1:Rn(i.path,o.path)&&(a=!0)),r--}if(s){if(a)return G4(t),!0;if(i.snap)t.visibleWrites=cb(t.visibleWrites,i.path);else{const o=i.children;Ht(o,l=>{t.visibleWrites=cb(t.visibleWrites,tt(i.path,l))})}return!0}else return!1}function F4(t,e){if(t.snap)return Rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rn(tt(t.path,n),e))return!0;return!1}function G4(t){t.visibleWrites=HE(t.allWrites,q4,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function q4(t){return t.visible}function HE(t,e,n){let i=Dn.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let o;if(a.snap)Rn(n,r)?(o=Lt(n,r),i=No(i,o,a.snap)):Rn(r,n)&&(o=Lt(r,n),i=No(i,ge(),a.snap.getChild(o)));else if(a.children){if(Rn(n,r))o=Lt(n,r),i=lb(i,o,a.children);else if(Rn(r,n))if(o=Lt(r,n),he(o))i=lb(i,ge(),a.children);else{const l=cr(a.children,re(o));if(l){const c=l.getChild(Ne(o));i=No(i,ge(),c)}}}else throw Er("WriteRecord should have .snap or .children")}}return i}function FE(t,e,n,i,s){if(!i&&!s){const a=oa(t.visibleWrites,e);if(a!=null)return a;{const r=as(t.visibleWrites,e);if(Lm(r))return n;if(n==null&&!Mm(r,ge()))return null;{const o=n||W.EMPTY_NODE;return hr(r,o)}}}else{const a=as(t.visibleWrites,e);if(!s&&Lm(a))return n;if(!s&&n==null&&!Mm(a,ge()))return null;{const r=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Rn(c.path,e)||Rn(e,c.path))},o=HE(t.allWrites,r,e),l=n||W.EMPTY_NODE;return hr(o,l)}}}function $4(t,e,n){let i=W.EMPTY_NODE;const s=oa(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ze,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=as(t.visibleWrites,e);return n.forEachChild(ze,(r,o)=>{const l=hr(as(a,new Ce(r)),o);i=i.updateImmediateChild(r,l)}),ub(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=as(t.visibleWrites,e);return ub(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function Y4(t,e,n,i,s){k(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=tt(e,n);if(Mm(t.visibleWrites,a))return null;{const r=as(t.visibleWrites,a);return Lm(r)?s.getChild(n):hr(r,s.getChild(n))}}function W4(t,e,n,i){const s=tt(e,n),a=oa(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=as(t.visibleWrites,s);return hr(r,i.getNode().getImmediateChild(n))}else return null}function K4(t,e){return oa(t.visibleWrites,e)}function X4(t,e,n,i,s,a,r){let o;const l=as(t.visibleWrites,e),c=oa(l,ge());if(c!=null)o=c;else if(n!=null)o=hr(l,n);else return[];if(o=o.withIndex(r),!o.isEmpty()&&!o.isLeafNode()){const h=[],f=r.getCompare(),d=a?o.getReverseIteratorFrom(i,r):o.getIteratorFrom(i,r);let m=d.getNext();for(;m&&h.length<s;)f(m,i)!==0&&h.push(m),m=d.getNext();return h}else return[]}function Q4(){return{visibleWrites:Dn.empty(),allWrites:[],lastWriteId:-1}}function Ou(t,e,n,i){return FE(t.writeTree,t.treePath,e,n,i)}function Qg(t,e){return $4(t.writeTree,t.treePath,e)}function db(t,e,n,i){return Y4(t.writeTree,t.treePath,e,n,i)}function Du(t,e){return K4(t.writeTree,tt(t.treePath,e))}function Z4(t,e,n,i,s,a){return X4(t.writeTree,t.treePath,e,n,i,s,a)}function Zg(t,e,n){return W4(t.writeTree,t.treePath,e,n)}function GE(t,e){return qE(tt(t.treePath,e),t.writeTree)}function qE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,el(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Jo(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,dr(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,el(i,e.snapshotNode,s.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const $E=new eL;class Jg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zs(this.viewCache_),a=Z4(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){return{filter:t}}function nL(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iL(t,e,n,i,s){const a=new J4;let r,o;if(n.type===In.OVERWRITE){const c=n;c.source.fromUser?r=Um(t,e,c.path,c.snap,i,s,a):(k(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!he(c.path),r=ku(t,e,c.path,c.snap,i,s,o,a))}else if(n.type===In.MERGE){const c=n;c.source.fromUser?r=aL(t,e,c.path,c.children,i,s,a):(k(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),r=Pm(t,e,c.path,c.children,i,s,o,a))}else if(n.type===In.ACK_USER_WRITE){const c=n;c.revert?r=lL(t,e,c.path,i,s,a):r=rL(t,e,c.path,c.affectedTree,i,s,a)}else if(n.type===In.LISTEN_COMPLETE)r=oL(t,e,n.path,i,a);else throw Er("Unknown operation type: "+n.type);const l=a.getChanges();return sL(e,r,l),{viewCache:r,changes:l}}function sL(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=jm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(UE(jm(e)))}}function YE(t,e,n,i,s,a){const r=e.eventCache;if(Du(i,n)!=null)return e;{let o,l;if(he(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zs(e),h=c instanceof W?c:W.EMPTY_NODE,f=Qg(i,h);o=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const c=Ou(i,Zs(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=re(n);if(c===".priority"){k(ms(n)===1,"Can't have a priority with additional path components");const h=r.getNode();l=e.serverCache.getNode();const f=db(i,n,h,l);f!=null?o=t.filter.updatePriority(h,f):o=r.getNode()}else{const h=Ne(n);let f;if(r.isCompleteForChild(c)){l=e.serverCache.getNode();const d=db(i,n,r.getNode(),l);d!=null?f=r.getNode().getImmediateChild(c).updateChild(h,d):f=r.getNode().getImmediateChild(c)}else f=Zg(i,c,e.serverCache);f!=null?o=t.filter.updateChild(r.getNode(),c,f,h,s,a):o=r.getNode()}}return Co(e,o,r.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function ku(t,e,n,i,s,a,r,o){const l=e.serverCache;let c;const h=r?t.filter:t.filter.getIndexedFilter();if(he(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),m,null)}else{const m=re(n);if(!l.isCompleteForPath(n)&&ms(n)>1)return e;const v=Ne(n),S=l.getNode().getImmediateChild(m).updateChild(v,i);m===".priority"?c=h.updatePriority(l.getNode(),S):c=h.updateChild(l.getNode(),m,S,v,$E,null)}const f=zE(e,c,l.isFullyInitialized()||he(n),h.filtersNodes()),d=new Jg(s,f,a);return YE(t,f,n,s,d,o)}function Um(t,e,n,i,s,a,r){const o=e.eventCache;let l,c;const h=new Jg(s,e,a);if(he(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,r),l=Co(e,c,!0,t.filter.filtersNodes());else{const f=re(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Co(e,c,o.isFullyInitialized(),o.isFiltered());else{const d=Ne(n),m=o.getNode().getImmediateChild(f);let v;if(he(d))v=i;else{const b=h.getCompleteChild(f);b!=null?AE(d)===".priority"&&b.getChild(IE(d)).isEmpty()?v=b:v=b.updateChild(d,i):v=W.EMPTY_NODE}if(m.equals(v))l=e;else{const b=t.filter.updateChild(o.getNode(),f,v,d,h,r);l=Co(e,b,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function hb(t,e){return t.eventCache.isCompleteForChild(e)}function aL(t,e,n,i,s,a,r){let o=e;return i.foreach((l,c)=>{const h=tt(n,l);hb(e,re(h))&&(o=Um(t,o,h,c,s,a,r))}),i.foreach((l,c)=>{const h=tt(n,l);hb(e,re(h))||(o=Um(t,o,h,c,s,a,r))}),o}function fb(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Pm(t,e,n,i,s,a,r,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;he(n)?c=i:c=new Ie(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const m=e.serverCache.getNode().getImmediateChild(f),v=fb(t,m,d);l=ku(t,l,new Ce(f),v,s,a,r,o)}}),c.children.inorderTraversal((f,d)=>{const m=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!m){const v=e.serverCache.getNode().getImmediateChild(f),b=fb(t,v,d);l=ku(t,l,new Ce(f),b,s,a,r,o)}}),l}function rL(t,e,n,i,s,a,r){if(Du(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(he(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ku(t,e,n,l.getNode().getChild(n),s,a,o,r);if(he(n)){let c=new Ie(null);return l.getNode().forEachChild($a,(h,f)=>{c=c.set(new Ce(h),f)}),Pm(t,e,n,c,s,a,o,r)}else return e}else{let c=new Ie(null);return i.foreach((h,f)=>{const d=tt(n,h);l.isCompleteForPath(d)&&(c=c.set(h,l.getNode().getChild(d)))}),Pm(t,e,n,c,s,a,o,r)}}function oL(t,e,n,i,s){const a=e.serverCache,r=zE(e,a.getNode(),a.isFullyInitialized()||he(n),a.isFiltered());return YE(t,r,n,i,$E,s)}function lL(t,e,n,i,s,a){let r;if(Du(i,n)!=null)return e;{const o=new Jg(i,e,s),l=e.eventCache.getNode();let c;if(he(n)||re(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Ou(i,Zs(e));else{const f=e.serverCache.getNode();k(f instanceof W,"serverChildren would be complete if leaf node"),h=Qg(i,f)}h=h,c=t.filter.updateFullNode(l,h,a)}else{const h=re(n);let f=Zg(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),f!=null?c=t.filter.updateChild(l,h,f,Ne(n),o,a):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,W.EMPTY_NODE,Ne(n),o,a):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=Ou(i,Zs(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,a)))}return r=e.serverCache.isFullyInitialized()||Du(i,ge())!=null,Co(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new $g(i.getIndex()),a=A4(i);this.processor_=tL(a);const r=n.serverCache,o=n.eventCache,l=s.updateFullNode(W.EMPTY_NODE,r.getNode(),null),c=a.updateFullNode(W.EMPTY_NODE,o.getNode(),null),h=new Qs(l,r.isFullyInitialized(),s.filtersNodes()),f=new Qs(c,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=xd(f,h),this.eventGenerator_=new M4(this.query_)}get query(){return this.query_}}function uL(t){return t.viewCache_.serverCache.getNode()}function dL(t,e){const n=Zs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function mb(t){return t.eventRegistrations_.length===0}function hL(t,e){t.eventRegistrations_.push(e)}function pb(t,e,n){const i=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function gb(t,e,n,i){e.type===In.MERGE&&e.source.queryId!==null&&(k(Zs(t.viewCache_),"We should always have a full cache before handling merges"),k(jm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=iL(t.processor_,s,e,n,i);return nL(t.processor_,a.viewCache),k(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,WE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function fL(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,(a,r)=>{i.push(dr(a,r))}),n.isFullyInitialized()&&i.push(UE(n.getNode())),WE(t,i,n.getNode(),e)}function WE(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return L4(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class mL{constructor(){this.views=new Map}}function pL(t){k(!ju,"__referenceConstructor has already been defined"),ju=t}function gL(){return k(ju,"Reference.ts has not been loaded"),ju}function yL(t){return t.views.size===0}function ey(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return k(a!=null,"SyncTree gave us an op for an invalid query."),gb(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(gb(r,e,n,i));return a}}function vL(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let o=Ou(n,s?i:null),l=!1;o?l=!0:i instanceof W?(o=Qg(n,i),l=!1):(o=W.EMPTY_NODE,l=!1);const c=xd(new Qs(o,l,!1),new Qs(i,s,!1));return new cL(e,c)}return r}function xL(t,e,n,i,s,a){const r=vL(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),hL(r,n),fL(r,n)}function bL(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const o=ps(t);if(s==="default")for(const[l,c]of t.views.entries())r=r.concat(pb(c,n,i)),mb(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{const l=t.views.get(s);l&&(r=r.concat(pb(l,n,i)),mb(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!ps(t)&&a.push(new(gL())(e._repo,e._path)),{removed:a,events:r}}function KE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ya(t,e){let n=null;for(const i of t.views.values())n=n||dL(i,e);return n}function XE(t,e){if(e._queryParams.loadsAllData())return bd(t);{const i=e._queryIdentifier;return t.views.get(i)}}function QE(t,e){return XE(t,e)!=null}function ps(t){return bd(t)!=null}function bd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;function _L(t){k(!Mu,"__referenceConstructor has already been defined"),Mu=t}function wL(){return k(Mu,"Reference.ts has not been loaded"),Mu}let SL=1;class yb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=Q4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ZE(t,e,n,i,s){return z4(t.pendingWriteTree_,e,n,i,s),s?Nl(t,new Xs(VE(),e,n)):[]}function js(t,e,n=!1){const i=B4(t.pendingWriteTree_,e);if(H4(t.pendingWriteTree_,e)){let a=new Ie(null);return i.snap!=null?a=a.set(ge(),!0):Ht(i.children,r=>{a=a.set(new Ce(r),!0)}),Nl(t,new Iu(i.path,a,n))}else return[]}function _d(t,e,n){return Nl(t,new Xs(Wg(),e,n))}function TL(t,e,n){const i=Ie.fromObject(n);return Nl(t,new il(Wg(),e,i))}function EL(t,e){return Nl(t,new nl(Wg(),e))}function CL(t,e,n){const i=ny(t,n);if(i){const s=iy(i),a=s.path,r=s.queryId,o=Lt(a,e),l=new nl(Kg(r),o);return sy(t,a,l)}else return[]}function Vm(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let o=[];if(r&&(e._queryIdentifier==="default"||QE(r,e))){const l=bL(r,e,n,i);yL(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const c=l.removed;if(o=l.events,!s){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(d,m)=>ps(m));if(h&&!f){const d=t.syncPointTree_.subtree(a);if(!d.isEmpty()){const m=RL(d);for(let v=0;v<m.length;++v){const b=m[v],S=b.query,p=tC(t,b);t.listenProvider_.startListening(Ao(S),Lu(t,S),p.hashFn,p.onComplete)}}}!f&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(Ao(e),null):c.forEach(d=>{const m=t.queryToTagMap.get(wd(d));t.listenProvider_.stopListening(Ao(d),m)}))}IL(t,c)}return o}function NL(t,e,n,i){const s=ny(t,i);if(s!=null){const a=iy(s),r=a.path,o=a.queryId,l=Lt(r,e),c=new Xs(Kg(o),l,n);return sy(t,r,c)}else return[]}function AL(t,e,n,i){const s=ny(t,i);if(s){const a=iy(s),r=a.path,o=a.queryId,l=Lt(r,e),c=Ie.fromObject(n),h=new il(Kg(o),l,c);return sy(t,r,h)}else return[]}function vb(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(d,m)=>{const v=Lt(d,s);a=a||Ya(m,v),r=r||ps(m)});let o=t.syncPointTree_.get(s);o?(r=r||ps(o),a=a||Ya(o,ge())):(o=new mL,t.syncPointTree_=t.syncPointTree_.set(s,o));let l;a!=null?l=!0:(l=!1,a=W.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,v)=>{const b=Ya(v,ge());b&&(a=a.updateImmediateChild(m,b))}));const c=QE(o,e);if(!c&&!e._queryParams.loadsAllData()){const d=wd(e);k(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=OL();t.queryToTagMap.set(d,m),t.tagToQueryMap.set(m,d)}const h=Xg(t.pendingWriteTree_,s);let f=xL(o,e,n,h,a,l);if(!c&&!r&&!i){const d=XE(o,e);f=f.concat(DL(t,e,d))}return f}function ty(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,o)=>{const l=Lt(r,e),c=Ya(o,l);if(c)return c});return FE(s,e,a,n,!0)}function Nl(t,e){return JE(e,t.syncPointTree_,null,Xg(t.pendingWriteTree_,ge()))}function JE(t,e,n,i){if(he(t.path))return eC(t,e,n,i);{const s=e.get(ge());n==null&&s!=null&&(n=Ya(s,ge()));let a=[];const r=re(t.path),o=t.operationForChild(r),l=e.children.get(r);if(l&&o){const c=n?n.getImmediateChild(r):null,h=GE(i,r);a=a.concat(JE(o,l,c,h))}return s&&(a=a.concat(ey(s,t,i,n))),a}}function eC(t,e,n,i){const s=e.get(ge());n==null&&s!=null&&(n=Ya(s,ge()));let a=[];return e.children.inorderTraversal((r,o)=>{const l=n?n.getImmediateChild(r):null,c=GE(i,r),h=t.operationForChild(r);h&&(a=a.concat(eC(h,o,l,c)))}),s&&(a=a.concat(ey(s,t,i,n))),a}function tC(t,e){const n=e.query,i=Lu(t,n);return{hashFn:()=>(uL(e)||W.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?CL(t,n._path,i):EL(t,n._path);{const a=N3(s,n);return Vm(t,n,null,a)}}}}function Lu(t,e){const n=wd(e);return t.queryToTagMap.get(n)}function wd(t){return t._path.toString()+"$"+t._queryIdentifier}function ny(t,e){return t.tagToQueryMap.get(e)}function iy(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function sy(t,e,n){const i=t.syncPointTree_.get(e);k(i,"Missing sync point for query tag that we're tracking");const s=Xg(t.pendingWriteTree_,e);return ey(i,n,s,null)}function RL(t){return t.fold((e,n,i)=>{if(n&&ps(n))return[bd(n)];{let s=[];return n&&(s=KE(n)),Ht(i,(a,r)=>{s=s.concat(r)}),s}})}function Ao(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wL())(t._repo,t._path):t}function IL(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=wd(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function OL(){return SL++}function DL(t,e,n){const i=e._path,s=Lu(t,e),a=tC(t,n),r=t.listenProvider_.startListening(Ao(e),s,a.hashFn,a.onComplete),o=t.syncPointTree_.subtree(i);if(s)k(!ps(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,h,f)=>{if(!he(c)&&h&&ps(h))return[bd(h).query];{let d=[];return h&&(d=d.concat(KE(h).map(m=>m.query))),Ht(f,(m,v)=>{d=d.concat(v)}),d}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(Ao(h),Lu(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ay(n)}node(){return this.node_}}class ry{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new ry(this.syncTree_,n)}node(){return ty(this.syncTree_,this.path_)}}const kL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xb=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return jL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ML(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},jL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},ML=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&k(!1,"Unexpected increment value: "+i);const s=e.node();if(k(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},LL=function(t,e,n,i){return oy(e,new ry(n,t),i)},nC=function(t,e,n){return oy(t,new ay(e),n)};function oy(t,e,n){const i=t.getPriority().val(),s=xb(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,o=xb(r.getValue(),e,n);return o!==r.getValue()||s!==r.getPriority().val()?new st(o,ft(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new st(s))),r.forEachChild(ze,(o,l)=>{const c=oy(l,e.getImmediateChild(o),n);c!==l&&(a=a.updateImmediateChild(o,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function cy(t,e){let n=e instanceof Ce?e:new Ce(e),i=t,s=re(n);for(;s!==null;){const a=cr(i.node.children,s)||{children:{},childCount:0};i=new ly(s,i,a),n=Ne(n),s=re(n)}return i}function Rr(t){return t.node.value}function iC(t,e){t.node.value=e,zm(t)}function sC(t){return t.node.childCount>0}function UL(t){return Rr(t)===void 0&&!sC(t)}function Sd(t,e){Ht(t.node.children,(n,i)=>{e(new ly(n,t,i))})}function aC(t,e,n,i){n&&e(t),Sd(t,s=>{aC(s,e,!0)})}function PL(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Al(t){return new Ce(t.parent===null?t.name:Al(t.parent)+"/"+t.name)}function zm(t){t.parent!==null&&VL(t.parent,t.name,t)}function VL(t,e,n){const i=UL(n),s=Ci(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,zm(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,zm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/[\[\].#$\/\u0000-\u001F\u007F]/,BL=/[\[\].#$\u0000-\u001F\u007F]/,Yh=10*1024*1024,rC=function(t){return typeof t=="string"&&t.length!==0&&!zL.test(t)},oC=function(t){return typeof t=="string"&&t.length!==0&&!BL.test(t)},HL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),oC(t)},FL=function(t,e,n,i){uy(jg(t,"value"),e,n)},uy=function(t,e,n){const i=n instanceof Ce?new r4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Is(i));if(typeof e=="function")throw new Error(t+"contains a function "+Is(i)+" with contents = "+e.toString());if(oE(e))throw new Error(t+"contains "+e.toString()+" "+Is(i));if(typeof e=="string"&&e.length>Yh/3&&gd(e)>Yh)throw new Error(t+"contains a string greater than "+Yh+" utf8 bytes "+Is(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Ht(e,(r,o)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!rC(r)))throw new Error(t+" contains an invalid key ("+r+") "+Is(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);o4(i,r),uy(t,o,i),l4(i)}),s&&a)throw new Error(t+' contains ".value" child '+Is(i)+" in addition to actual children.")}},lC=function(t,e,n,i){if(!oC(n))throw new Error(jg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GL=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lC(t,e,n)},cC=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HL(n))throw new Error(jg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dy(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Fg(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function uC(t,e,n){dy(t,n),dC(t,i=>Fg(i,e))}function wi(t,e,n){dy(t,n),dC(t,i=>Rn(i,e)||Rn(e,i))}function dC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(YL(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function YL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();To&&wt("event: "+n.toString()),Ar(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="repo_interrupt",KL=25;class XL{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $L,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ru(),this.transactionQueueTree_=new ly,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QL(t,e,n){if(t.stats_=Bg(t.repoInfo_),t.forceRestClient_||O3())t.server_=new Au(t.repoInfo_,(i,s,a,r)=>{bb(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_b(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new fi(t.repoInfo_,e,(i,s,a,r)=>{bb(t,i,s,a,r)},i=>{_b(t,i)},i=>{JL(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=L3(t.repoInfo_,()=>new j4(t.stats_,t.server_)),t.infoData_=new R4,t.infoSyncTree_=new yb({startListening:(i,s,a,r)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=_d(t.infoSyncTree_,i._path,l),setTimeout(()=>{r("ok")},0)),o},stopListening:()=>{}}),fy(t,"connected",!1),t.serverSyncTree_=new yb({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(o,l)=>{const c=r(o,l);wi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function ZL(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hy(t){return kL({timestamp:ZL(t)})}function bb(t,e,n,i,s){t.dataUpdateCount++;const a=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const l=Su(n,c=>ft(c));r=AL(t.serverSyncTree_,a,l,s)}else{const l=ft(n);r=NL(t.serverSyncTree_,a,l,s)}else if(i){const l=Su(n,c=>ft(c));r=TL(t.serverSyncTree_,a,l)}else{const l=ft(n);r=_d(t.serverSyncTree_,a,l)}let o=a;r.length>0&&(o=Td(t,a)),wi(t.eventQueue_,o,r)}function _b(t,e){fy(t,"connected",e),e===!1&&t6(t)}function JL(t,e){Ht(e,(n,i)=>{fy(t,n,i)})}function fy(t,e,n){const i=new Ce("/.info/"+e),s=ft(n);t.infoData_.updateSnapshot(i,s);const a=_d(t.infoSyncTree_,i,s);wi(t.eventQueue_,i,a)}function hC(t){return t.nextWriteId_++}function e6(t,e,n,i,s){my(t,"set",{path:e.toString(),value:n,priority:i});const a=hy(t),r=ft(n,i),o=ty(t.serverSyncTree_,e),l=nC(r,o,a),c=hC(t),h=ZE(t.serverSyncTree_,e,l,c,!0);dy(t.eventQueue_,h),t.server_.put(e.toString(),r.val(!0),(d,m)=>{const v=d==="ok";v||zt("set at "+e+" failed: "+d);const b=js(t.serverSyncTree_,c,!v);wi(t.eventQueue_,e,b),s6(t,s,d,m)});const f=vC(t,e);Td(t,f),wi(t.eventQueue_,f,[])}function t6(t){my(t,"onDisconnectEvents");const e=hy(t),n=Ru();km(t.onDisconnect_,ge(),(s,a)=>{const r=LL(s,a,t.serverSyncTree_,e);PE(n,s,r)});let i=[];km(n,ge(),(s,a)=>{i=i.concat(_d(t.serverSyncTree_,s,a));const r=vC(t,s);Td(t,r)}),t.onDisconnect_=Ru(),wi(t.eventQueue_,ge(),i)}function n6(t,e,n){let i;re(e._path)===".info"?i=vb(t.infoSyncTree_,e,n):i=vb(t.serverSyncTree_,e,n),uC(t.eventQueue_,e._path,i)}function fC(t,e,n){let i;re(e._path)===".info"?i=Vm(t.infoSyncTree_,e,n):i=Vm(t.serverSyncTree_,e,n),uC(t.eventQueue_,e._path,i)}function i6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WL)}function my(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wt(n,...e)}function s6(t,e,n,i){e&&Ar(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function mC(t,e,n){return ty(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function py(t,e=t.transactionQueueTree_){if(e||Ed(t,e),Rr(e)){const n=gC(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&a6(t,Al(e),n)}else sC(e)&&Sd(e,n=>{py(t,n)})}function a6(t,e,n){const i=n.map(c=>c.currentWriteId),s=mC(t,e,i);let a=s;const r=s.hash();for(let c=0;c<n.length;c++){const h=n[c];k(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Lt(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const o=a.val(!0),l=e;t.server_.put(l.toString(),o,c=>{my(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(js(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Ed(t,cy(t.transactionQueueTree_,e)),py(t,t.transactionQueueTree_),wi(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Ar(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{zt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Td(t,e)}},r)}function Td(t,e){const n=pC(t,e),i=Al(n),s=gC(t,n);return r6(t,s,i),i}function r6(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Lt(n,l.path);let h=!1,f;if(k(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,f=l.abortReason,s=s.concat(js(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=KL)h=!0,f="maxretry",s=s.concat(js(t.serverSyncTree_,l.currentWriteId,!0));else{const d=mC(t,l.path,r);l.currentInputSnapshot=d;const m=e[o].update(d.val());if(m!==void 0){uy("transaction failed: Data returned ",m,l.path);let v=ft(m);typeof m=="object"&&m!=null&&Ci(m,".priority")||(v=v.updatePriority(d.getPriority()));const S=l.currentWriteId,p=hy(t),g=nC(v,d,p);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=g,l.currentWriteId=hC(t),r.splice(r.indexOf(S),1),s=s.concat(ZE(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),s=s.concat(js(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(js(t.serverSyncTree_,l.currentWriteId,!0))}wi(t.eventQueue_,n,s),s=[],h&&(e[o].status=2,function(d){setTimeout(d,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(f),!1,null))))}Ed(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Ar(i[o]);py(t,t.transactionQueueTree_)}function pC(t,e){let n,i=t.transactionQueueTree_;for(n=re(e);n!==null&&Rr(i)===void 0;)i=cy(i,n),e=Ne(e),n=re(e);return i}function gC(t,e){const n=[];return yC(t,e,n),n.sort((i,s)=>i.order-s.order),n}function yC(t,e,n){const i=Rr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Sd(e,s=>{yC(t,s,n)})}function Ed(t,e){const n=Rr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,iC(e,n.length>0?n:void 0)}Sd(e,i=>{Ed(t,i)})}function vC(t,e){const n=Al(pC(t,e)),i=cy(t.transactionQueueTree_,e);return PL(i,s=>{Wh(t,s)}),Wh(t,i),aC(i,s=>{Wh(t,s)}),n}function Wh(t,e){const n=Rr(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(k(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(k(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(js(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?iC(e,void 0):n.length=a+1,wi(t.eventQueue_,Al(e),s);for(let r=0;r<i.length;r++)Ar(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function l6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):zt(`Invalid query segment '${n}' in query '${t}'`)}return e}const wb=function(t,e){const n=c6(t),i=n.namespace;n.domain==="firebase.com"&&_i(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&_i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||w3();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xE(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ce(n.pathString)}},c6=function(t){let e="",n="",i="",s="",a="",r=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=o6(t.substring(h,f)));const d=l6(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(r=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");i=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=i}"ns"in d&&(a=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:r,scheme:o,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class d6{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return he(this._path)?null:AE(this._path)}get ref(){return new bs(this._repo,this._path)}get _queryIdentifier(){const e=rb(this._queryParams),n=Vg(e);return n==="{}"?"default":n}get _queryObject(){return rb(this._queryParams)}isEqual(e){if(e=qe(e),!(e instanceof gy))return!1;const n=this._repo===e._repo,i=Fg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+a4(this._path)}}class bs extends gy{constructor(e,n){super(e,n,new Yg,!1)}get parent(){const e=IE(this._path);return e===null?null:new bs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),i=Bm(this.ref,e);return new Uu(this._node.getChild(n),i,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Uu(s,Bm(this.ref,i),ze)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wn(t,e){return t=qe(t),t._checkNotDeleted("ref"),e!==void 0?Bm(t._root,e):t._root}function Bm(t,e){return t=qe(t),re(t._path)===null?GL("child","path",e):lC("child","path",e),new bs(t._repo,tt(t._path,e))}function Sb(t){return cC("remove",t._path),ga(t,null)}function ga(t,e){t=qe(t),cC("set",t._path),FL("set",e,t._path);const n=new pd;return e6(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class yy{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new u6("value",this,new Uu(e.snapshotNode,new bs(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new d6(this,e,n):null}matches(e){return e instanceof yy?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function f6(t,e,n,i,s){const a=new h6(n,void 0),r=new yy(a);return n6(t._repo,t,r),()=>fC(t._repo,t,r)}function oc(t,e,n,i){return f6(t,"value",e)}function lc(t,e,n){fC(t._repo,t,null)}pL(bs);_L(bs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="FIREBASE_DATABASE_EMULATOR_HOST",Hm={};let p6=!1;function g6(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=xs(a);t.repoInfo_=new xE(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function y6(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||_i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=wb(a,s),o=r.repoInfo,l;typeof process<"u"&&Hx&&(l=Hx[m6]),l?(a=`http://${l}?ns=${o.namespace}`,r=wb(a,s),o=r.repoInfo):r.repoInfo.secure;const c=new k3(t.name,t.options,e);qL("Invalid Firebase Database URL",r),he(r.path)||_i("Database URL must point to the root of a Firebase Database (not including a child path).");const h=x6(o,t,c,new D3(t,n));return new b6(h,t)}function v6(t,e){const n=Hm[e];(!n||n[t.key]!==t)&&_i(`Database ${e}(${t.repoInfo_}) has already been deleted.`),i6(t),delete n[t.key]}function x6(t,e,n,i){let s=Hm[e.name];s||(s={},Hm[e.name]=s);let a=s[t.toURLString()];return a&&_i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new XL(t,p6,n,i),s[t.toURLString()]=a,a}class b6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bs(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_i("Cannot call "+e+" on a deleted database.")}}function _6(t=Pg(),e){const n=yd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=WT("database");i&&w6(n,...i)}return n}function w6(t,e,n,i={}){t=qe(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ys(i,a.repoInfo_.emulatorOptions))return;_i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&_i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new kc(kc.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:QT(i.mockUserToken,t.app.options.projectId);r=new kc(o)}xs(e)&&(Og(e),Dg("Database",!0)),g6(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){g3(ra),Ws(new fs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return y6(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),Gn(Fx,Gx,t),Gn(Fx,Gx,"esm2020")}fi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};S6();function xC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T6=xC,bC=new Sl("auth","Firebase",xC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Mg("@firebase/auth");function E6(t,...e){Pu.logLevel<=Se.WARN&&Pu.warn(`Auth (${ra}): ${t}`,...e)}function jc(t,...e){Pu.logLevel<=Se.ERROR&&Pu.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw vy(t,...e)}function qn(t,...e){return vy(t,...e)}function _C(t,e,n){const i={...T6(),[e]:n};return new Sl("auth","Firebase",i).create(e,{appName:t.name})}function rs(t){return _C(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return bC.create(t,...e)}function $(t,e,...n){if(!t)throw vy(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function Si(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function C6(){return Tb()==="http:"||Tb()==="https:"}function Tb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C6()||qj()||"connection"in navigator)?navigator.onLine:!0}function A6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=kg()||ZT()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O6=new Rl(3e4,6e4);function la(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _s(t,e,n,i,s={}){return SC(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const o=Cr({key:t.config.apiKey,...r}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return Gj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&xs(t.emulatorConfig.host)&&(c.credentials="include"),wC.fetch()(await TC(t,t.config.apiHost,n,o),c)})}async function SC(t,e,n){t._canInitEmulator=!1;const i={...R6,...e};try{const s=new k6(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw cc(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const o=a.ok?r.errorMessage:r.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(t,"credential-already-in-use",r);if(l==="EMAIL_EXISTS")throw cc(t,"email-already-in-use",r);if(l==="USER_DISABLED")throw cc(t,"user-disabled",r);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _C(t,h,c);Mn(t,h)}}catch(s){if(s instanceof Ei)throw s;Mn(t,"network-request-failed",{message:String(s)})}}async function Cd(t,e,n,i,s={}){const a=await _s(t,e,n,i,s);return"mfaPendingCredential"in a&&Mn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function TC(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?xy(t.config,s):`${t.config.apiScheme}://${s}`;return I6.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}function D6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),O6.get())})}}function cc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qn(t,e,i);return s.customData._tokenResponse=n,s}function Eb(t){return t!==void 0&&t.enterprise!==void 0}class j6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M6(t,e){return _s(t,"GET","/v2/recaptchaConfig",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return _s(t,"POST","/v1/accounts:delete",e)}async function Vu(t,e){return _s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U6(t,e=!1){const n=qe(t),i=await n.getIdToken(e),s=by(i);$(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Ro(Kh(s.auth_time)),issuedAtTime:Ro(Kh(s.iat)),expirationTime:Ro(Kh(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Kh(t){return Number(t)*1e3}function by(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const s=wu(n);return s?JSON.parse(s):(jc("Failed to decode base64 JWT payload"),null)}catch(s){return jc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Cb(t){const e=by(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ei&&P6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function P6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){var f;const e=t.auth,n=await t.getIdToken(),i=await sl(t,Vu(e,{idToken:n}));$(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?EC(s.providerUserInfo):[],r=B6(t.providerData,a),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),c=o?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function z6(t){const e=qe(t);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function EC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=await SC(t,{},async()=>{const i=Cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await TC(t,s,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return t.emulatorConfig&&xs(t.emulatorConfig.host)&&(l.credentials="include"),wC.fetch()(r,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F6(t,e){return _s(t,"POST","/v2/accounts:revokeToken",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");const n=Cb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await H6(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new Wa;return i&&($(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&($(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&($(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new V6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sl(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U6(this,e)}reload(){return z6(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await sl(this,L6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:m,providerData:v,stsTokenManager:b}=n;$(f&&b,e,"internal-error");const S=Wa.fromJSON(this.name,b);$(typeof f=="string",e,"internal-error"),Ai(i,e.name),Ai(s,e.name),$(typeof d=="boolean",e,"internal-error"),$(typeof m=="boolean",e,"internal-error"),Ai(a,e.name),Ai(r,e.name),Ai(o,e.name),Ai(l,e.name),Ai(c,e.name),Ai(h,e.name);const p=new On({uid:f,auth:e,email:s,emailVerified:d,displayName:i,isAnonymous:m,photoURL:r,phoneNumber:a,tenantId:o,stsTokenManager:S,createdAt:c,lastLoginAt:h});return v&&Array.isArray(v)&&(p.providerData=v.map(g=>({...g}))),l&&(p._redirectEventId=l),p}static async _fromIdTokenResponse(e,n,i=!1){const s=new Wa;s.updateFromServerResponse(n);const a=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await zu(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];$(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?EC(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),o=new Wa;o.updateFromIdToken(i);const l=new On({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;function li(t){Si(t instanceof Function,"Expected a class definition");let e=Nb.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CC.type="NONE";const Ab=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Mc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Mc("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vu(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ka(li(Ab),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||li(Ab);const r=Mc(i,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(r);if(h){let f;if(typeof h=="string"){const d=await Vu(e,{idToken:h}).catch(()=>{});if(!d)break;f=await On._fromGetAccountInfoResponse(e,d,h)}else f=On._fromJSON(e,h);c!==a&&(o=f),a=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ka(a,e,i):(a=l[0],o&&await a._set(r,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(r)}catch{}})),new Ka(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DC(e))return"Blackberry";if(kC(e))return"Webos";if(AC(e))return"Safari";if((e.includes("chrome/")||RC(e))&&!e.includes("edge/"))return"Chrome";if(OC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function NC(t=Rt()){return/firefox\//i.test(t)}function AC(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RC(t=Rt()){return/crios\//i.test(t)}function IC(t=Rt()){return/iemobile/i.test(t)}function OC(t=Rt()){return/android/i.test(t)}function DC(t=Rt()){return/blackberry/i.test(t)}function kC(t=Rt()){return/webos/i.test(t)}function _y(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G6(t=Rt()){var e;return _y(t)&&!!((e=window.navigator)!=null&&e.standalone)}function q6(){return $j()&&document.documentMode===10}function jC(t=Rt()){return _y(t)||OC(t)||kC(t)||DC(t)||/windows phone/i.test(t)||IC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e=[]){let n;switch(t){case"Browser":n=Rb(Rt());break;case"Worker":n=`${Rb(Rt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,o)=>{try{const l=e(a);r(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e={}){return _s(t,"GET","/v2/passwordPolicy",la(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=6;class K6{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new $6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vu(this,{idToken:e}),i=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(mn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!r||r===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(rs(this));const n=e?qe(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),n=new K6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await F6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if($(o,this,"internal-error"),o.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{r=!0,l()}}else{const l=e.addObserver(n);return()=>{r=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ir(t){return qe(t)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=nM(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q6(t){Nd=t}function LC(t){return Nd.loadJS(t)}function Z6(){return Nd.recaptchaEnterpriseScript}function J6(){return Nd.gapiScript}function e5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t5{constructor(){this.enterprise=new n5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const i5="recaptcha-enterprise",UC="NO_RECAPTCHA";class s5{constructor(e){this.type=i5,this.auth=Ir(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(r,o)=>{M6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new j6(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,r(c.siteKey)}}).catch(l=>{o(l)})})}function s(a,r,o){const l=window.grecaptcha;Eb(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{r(c)}).catch(()=>{r(UC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t5().execute("siteKey",{action:"verify"}):new Promise((a,r)=>{i(this.auth).then(o=>{if(!n&&Eb(window.grecaptcha))s(o,a,r);else{if(typeof window>"u"){r(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z6();l.length!==0&&(l+=o),LC(l).then(()=>{s(o,a,r)}).catch(c=>{r(c)})}}).catch(o=>{r(o)})})}}async function Ob(t,e,n,i=!1,s=!1){const a=new s5(t);let r;if(s)r=UC;else try{r=await a.verify(n)}catch{r=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Db(t,e,n,i,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Ob(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ob(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t,e){const n=yd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ys(a,e??{}))return s;Mn(s,"already-initialized")}return n.initialize({options:e})}function r5(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function o5(t,e,n){const i=Ir(t);$(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=PC(e),{host:r,port:o}=l5(e),l=o===null?"":`:${o}`,c={url:`${a}//${r}${l}/`},h=Object.freeze({host:r,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Ys(c,i.config.emulator)&&Ys(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,xs(r)?(Og(`${a}//${r}${l}`),Dg("Auth",!0)):c5()}function PC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l5(t){const e=PC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:kb(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:kb(r)}}}function kb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function u5(t,e){return _s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}async function f5(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends wy{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new al(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new al(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Db(e,n,"signInWithPassword",d5);case"emailLink":return h5(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Db(e,i,"signUpPassword",u5);case"emailLink":return f5(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="http://localhost";class Js extends wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new Js(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:m5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g5(t){const e=eo(to(t)).link,n=e?eo(to(e)).deep_link_id:null,i=eo(to(t)).deep_link_id;return(i?eo(to(i)).link:null)||i||n||e||t}class Sy{constructor(e){const n=eo(to(e)),i=n.apiKey??null,s=n.oobCode??null,a=p5(n.mode??null);$(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g5(e);try{return new Sy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.providerId=Or.PROVIDER_ID}static credential(e,n){return al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Sy.parseLink(n);return $(i,"argument-error"),al._fromEmailAndCode(e,i.code,i.tenantId)}}Or.PROVIDER_ID="password";Or.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Or.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends VC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Il{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Pi.credential(n,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Il{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Il{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await On._fromIdTokenResponse(e,i,s),r=jb(i);return new fr({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=jb(i);return new fr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Ei{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Bu(e,n,i,s)}}function zC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(t,a,e,i):a})}async function y5(t,e,n=!1){const i=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(rs(i));const s="reauthenticate";try{const a=await sl(t,zC(i,s,e,t),n);$(a.idToken,i,"internal-error");const r=by(a.idToken);$(r,i,"internal-error");const{sub:o}=r;return $(t.uid===o,i,"user-mismatch"),fr._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(t,e,n=!1){if(mn(t.app))return Promise.reject(rs(t));const i="signIn",s=await zC(t,i,e),a=await fr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function x5(t,e){return BC(Ir(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t){const e=Ir(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _5(t,e,n){return mn(t.app)?Promise.reject(rs(t)):x5(qe(t),Or.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&b5(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e){return qe(t).setPersistence(e)}function S5(t,e,n,i){return qe(t).onIdTokenChanged(e,n,i)}function T5(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function E5(t,e,n,i){return qe(t).onAuthStateChanged(e,n,i)}function C5(t){return qe(t).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=1e3,A5=10;class FC extends HC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,o,l)=>{this.notifyListeners(r,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);q6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A5):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FC.type="LOCAL";const GC=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends HC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qC.type="SESSION";const $C=qC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(r).map(async c=>c(n.origin,a)),l=await R5(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((o,l)=>{const c=Ty("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(h),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function O5(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function D5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function j5(){return YC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebaseLocalStorageDb",M5=1,Fu="firebaseLocalStorage",KC="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function L5(){const t=indexedDB.deleteDatabase(WC);return new Ol(t).toPromise()}function qm(){const t=indexedDB.open(WC,M5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Fu,{keyPath:KC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Fu)?e(i):(i.close(),await L5(),e(await qm()))})})}async function Mb(t,e,n){const i=Rd(t,!0).put({[KC]:e,value:n});return new Ol(i).toPromise()}async function U5(t,e){const n=Rd(t,!1).get(e),i=await new Ol(n).toPromise();return i===void 0?null:i.value}function Lb(t,e){const n=Rd(t,!0).delete(e);return new Ol(n).toPromise()}const P5=800,V5=3;class XC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>V5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(j5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await D5(),!this.activeServiceWorker)return;this.sender=new I5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await Mb(e,Hu,"1"),await Lb(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>U5(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Rd(s,!1).getAll();return new Ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XC.type="LOCAL";const z5=XC;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t,e){return e?li(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H5(t){return BC(t.auth,new Ey(t),t.bypassAuthState)}function F5(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),v5(n,new Ey(t),t.bypassAuthState)}async function G5(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),y5(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:o}=e;if(r){this.reject(r);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H5;case"linkViaPopup":case"linkViaRedirect":return G5;case"reauthViaPopup":case"reauthViaRedirect":return F5;default:Mn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new Rl(2e3,1e4);class Ma extends QC{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q5.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="pendingRedirect",Lc=new Map;class Y5 extends QC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await W5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W5(t,e){const n=Q5(e),i=X5(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function K5(t,e){Lc.set(t._key(),e)}function X5(t){return li(t._redirectPersistence)}function Q5(t){return Mc($5,t.config.apiKey,t.name)}async function Z5(t,e,n=!1){if(mn(t.app))return Promise.reject(rs(t));const i=Ir(t),s=B5(i,e),r=await new Y5(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=10*60*1e3;class eU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ZC(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e={}){return _s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sU=/^https?/;async function aU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nU(t);for(const n of e)try{if(rU(n))return}catch{}Mn(t,"unauthorized-domain")}function rU(t){const e=Fm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!sU.test(n))return!1;if(iU.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Rl(3e4,6e4);function Pb(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lU(t){return new Promise((e,n)=>{var s,a,r;function i(){Pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pb(),n(qn(t,"network-request-failed"))},timeout:oU.get()})}if((a=(s=$n().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=$n().gapi)!=null&&r.load)i();else{const o=e5("iframefcb");return $n()[o]=()=>{gapi.load?i():n(qn(t,"network-request-failed"))},LC(`${J6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function cU(t){return Uc=Uc||lU(t),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Rl(5e3,15e3),dU="__/auth/iframe",hU="emulator/auth/iframe",fU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pU(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xy(e,hU):`https://${t.config.authDomain}/${dU}`,i={apiKey:e.apiKey,appName:t.name,v:ra},s=mU.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Cr(i).slice(1)}`}async function gU(t){const e=await cU(t),n=$n().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:pU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fU,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=qn(t,"network-request-failed"),o=$n().setTimeout(()=>{a(r)},uU.get());function l(){$n().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vU=500,xU=600,bU="_blank",_U="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wU(t,e,n,i=vU,s=xU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...yU,width:i.toString(),height:s.toString(),top:a,left:r},c=Rt().toLowerCase();n&&(o=RC(c)?bU:n),NC(c)&&(e=e||_U,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,v])=>`${d}${m}=${v},`,"");if(G6(c)&&o!=="_self")return SU(e||"",o),new Vb(null);const f=window.open(e||"",o,h);$(f,t,"popup-blocked");try{f.focus()}catch{}return new Vb(f)}function SU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="__/auth/handler",EU="emulator/auth/handler",CU=encodeURIComponent("fac");async function zb(t,e,n,i,s,a){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ra,eventId:s};if(e instanceof VC){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Tm(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof Il){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const o=r;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${CU}=${encodeURIComponent(l)}`:"";return`${NU(t)}?${Cr(o).slice(1)}${c}`}function NU({config:t}){return t.emulator?xy(t,EU):`https://${t.authDomain}/${TU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="webStorageSupport";class AU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=Z5,this._overrideRedirectResult=K5}async _openPopup(e,n,i,s){var r;Si((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await zb(e,n,i,Fm(),s);return wU(e,a,Ty())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await zb(e,n,i,Fm(),s);return O5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await gU(e),i=new eU(e);return n.register("authEvent",s=>($(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xh,{type:Xh},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Xh];a!==void 0&&n(!!a),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jC()||AC()||_y()}}const RU=AU;var Bb="@firebase/auth",Hb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DU(t){Ws(new fs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:o}=i.options;$(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(t)},c=new X6(i,s,a,l);return r5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ws(new fs("auth-internal",e=>{const n=Ir(e.getProvider("auth").getImmediate());return(i=>new IU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Bb,Hb,OU(t)),Gn(Bb,Hb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=5*60,jU=XT("authIdTokenMaxAge")||kU;let Fb=null;const MU=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jU)return;const s=n==null?void 0:n.token;Fb!==s&&(Fb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LU(t=Pg()){const e=yd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a5(t,{popupRedirectResolver:RU,persistence:[z5,GC,$C]}),i=XT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=MU(a.toString());T5(n,r,()=>r(n.currentUser)),S5(n,o=>r(o))}}const s=YT("auth");return s&&o5(n,`http://${s}`),n}function UU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Q6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=qn("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",UU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DU("Browser");const JC={apiKey:"AIzaSyC9LA_PFA6KZ7s8IlQdJuolA0gaBm8kgNI",authDomain:"simply-louie.firebaseapp.com",databaseURL:"https://simply-louie-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"simply-louie",storageBucket:"simply-louie.firebasestorage.app",messagingSenderId:"822487405638",appId:"1:822487405638:web:f72ec1e2a915e470266647"},eN=Ug(JC),Sn=_6(eN),no=LU(eN);w5(no,GC);const Qh={login:async(t,e)=>(await _5(no,t,e)).user,logout:async()=>{await C5(no)},getCurrentUser:()=>no.currentUser,onAuthStateChange:t=>E5(no,t)},kt={saveRSVP:async t=>{const e=wn(Sn,`rsvps/${t.id}`);await ga(e,t)},subscribeToRSVPs:t=>{const e=wn(Sn,"rsvps");return oc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>lc(e)},deleteRSVP:async t=>{const e=wn(Sn,`rsvps/${t}`);await Sb(e)},updateContent:async t=>{const e=wn(Sn,"content");await ga(e,t)},subscribeToContent:t=>{const e=wn(Sn,"content");return oc(e,n=>{const i=n.val();i&&t(i)}),()=>lc(e)},saveNote:async t=>{const e=wn(Sn,`notes/${t.id}`);await ga(e,t)},deleteNote:async t=>{const e=wn(Sn,`notes/${t}`);await ga(e,null)},subscribeToNotes:t=>{const e=wn(Sn,"notes");return oc(e,n=>{const i=n.val(),s=i?Object.values(i):[];t(s)}),()=>lc(e)},saveGuestbookEntry:async t=>{const e=wn(Sn,`guestbook/${t.id}`);await ga(e,t)},deleteGuestbookEntry:async t=>{const e=wn(Sn,`guestbook/${t}`);await Sb(e)},subscribeToGuestbook:t=>{const e=wn(Sn,"guestbook");return oc(e,n=>{const i=n.val(),s=i?Object.values(i):[];s.sort((a,r)=>new Date(r.date).getTime()-new Date(a.date).getTime()),t(s)}),()=>lc(e)}},PU=({isDarkMode:t})=>{const[e,n]=E.useState([]),[i,s]=E.useState(""),[a,r]=E.useState(""),[o,l]=E.useState(!1),[c,h]=E.useState(!1);E.useEffect(()=>{const d=kt.subscribeToGuestbook(n);return()=>d()},[]);const f=async d=>{if(d.preventDefault(),!i||!a)return;l(!0);const m={id:Date.now().toString(),name:i,message:a,date:new Date().toISOString(),isApproved:!0};try{await kt.saveGuestbookEntry(m),s(""),r(""),h(!1)}catch(v){console.error("Error saving guestbook entry:",v)}finally{l(!1)}};return u.jsxs("section",{id:"guestbook",className:"container mx-auto px-6 max-w-5xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Words of Love"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif-sc uppercase transition-colors duration-300 ${t?"text-white":"text-gray-800"}`,children:"Guestbook"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mt-4 mb-8"}),c?u.jsx(U.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:f,className:`max-w-xl mx-auto p-8 border border-gold/10 rounded-sm shadow-xl ${t?"bg-[#262626]":"bg-white"}`,children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("input",{required:!0,type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Your Name",className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent ${t?"border-gray-700 text-white":"border-gray-100"}`}),u.jsx("textarea",{required:!0,value:a,onChange:d=>r(d.target.value),placeholder:"Your message for the couple...",rows:4,className:`w-full border-b py-2 focus:border-gold outline-none transition-all font-body bg-transparent resize-none ${t?"border-gray-700 text-white":"border-gray-100"}`}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gold text-white py-3 rounded-full text-[10px] font-black uppercase tracking-widest disabled:opacity-50",children:o?"Sending...":"Post Message"}),u.jsx("button",{type:"button",onClick:()=>h(!1),className:`px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest border ${t?"border-gray-700 text-gray-400":"border-gray-100 text-gray-400"}`,children:"Cancel"})]})]})}):u.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!0),className:"bg-gold text-white px-8 py-3 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Leave a Message"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.jsx(_t,{mode:"popLayout",children:e.map(d=>u.jsxs(U.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`p-8 rounded-sm border-l-4 border-gold shadow-sm transition-all hover:shadow-md ${t?"bg-[#262626]":"bg-gold/5"}`,children:[u.jsxs("p",{className:`text-sm italic mb-6 leading-relaxed font-body ${t?"text-gray-300":"text-gray-700"}`,children:['"',d.message,'"']}),u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-serif text-gold text-lg",children:d.name}),u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold",children:new Date(d.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]}),u.jsx("i",{className:"fa-solid fa-quote-right text-gold/20 text-2xl"})]})]},d.id))})}),e.length===0&&!c&&u.jsxs("div",{className:"text-center py-20 opacity-30",children:[u.jsx("i",{className:"fa-solid fa-feather-pointed text-4xl text-gold mb-4"}),u.jsx("p",{className:"text-sm italic uppercase tracking-widest",children:"No messages yet. Be the first!"})]})]})},Zh=({children:t,id:e})=>{const n=E.useRef(null),i=Aj(n,{once:!0,margin:"-100px"});return u.jsx(U.section,{ref:n,id:e,initial:{opacity:0,y:50},animate:i?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:"easeOut"},children:t})},VU=({src:t,index:e,setSelectedImageIndex:n})=>{const[i,s]=E.useState(!1),[a,r]=E.useState(!1);return u.jsxs(U.div,{whileHover:{y:-5,scale:1.02},onClick:()=>!a&&n(e),className:`aspect-square overflow-hidden relative shadow-lg rounded-sm bg-gray-100 ${a?"cursor-not-allowed":"cursor-pointer"}`,children:[!i&&!a&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 animate-shimmer",style:{backgroundSize:"200% 100%"}}),a?u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 text-gray-400",children:[u.jsx("i",{className:"fa-solid fa-image-slash text-3xl mb-2"}),u.jsx("span",{className:"text-xs",children:"Image unavailable"})]}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:t,alt:`Gallery ${e}`,className:`w-full h-full object-cover transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onError:()=>r(!0),loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gold/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-expand text-white text-2xl"})})]})]})},zU=({content:t,isDarkMode:e})=>{const[n,i]=E.useState(null);E.useEffect(()=>{const r=o=>{n!==null&&(o.key==="Escape"&&i(null),o.key==="ArrowRight"&&s(),o.key==="ArrowLeft"&&a())};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n]);const s=()=>{n!==null&&i((n+1)%t.galleryImages.length)},a=()=>{n!==null&&i((n-1+t.galleryImages.length)%t.galleryImages.length)};return u.jsxs("div",{className:"space-y-24",children:[u.jsx(Zh,{id:"story",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Chapter One"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Story"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto mb-10"}),u.jsx("p",{className:`text-lg md:text-xl leading-relaxed font-light ${e?"text-gray-300":"text-gray-700"}`,style:{whiteSpace:"pre-line"},children:t.ourStory})]})})}),u.jsx(Zh,{id:"timeline",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Grand Affair"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Timeline"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-px bg-gold/20"}),t.timelineItems&&t.timelineItems.map((r,o)=>u.jsxs(U.div,{initial:{opacity:0,x:o%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:o*.1},className:`relative flex items-center mb-16 ${o%2===0?"md:flex-row-reverse md:text-left":"md:flex-row md:text-right"}`,children:[u.jsx("div",{className:"w-full md:w-5/12 px-6",children:u.jsxs("div",{className:`p-6 rounded-lg border ${e?"bg-[#1a1a1a] border-gold/20":"bg-champagne/10 border-gold/30"} backdrop-blur-sm`,children:[u.jsx("span",{className:"text-gold text-xs uppercase tracking-widest font-bold font-body block mb-2",children:r.time}),u.jsx("h3",{className:`text-2xl font-cursive mb-2 ${e?"text-white":"text-gray-800"}`,children:r.event}),u.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:r.description})]})}),u.jsx("div",{className:`w-4 h-4 rounded-full bg-gold border-4 absolute left-1/2 transform -translate-x-1/2 z-10 ${e?"border-[#262626]":"border-white"}`}),u.jsx("div",{className:"hidden md:block w-5/12"})]},o))]})]})})}),u.jsx(Zh,{id:"gallery",children:u.jsx("div",{className:`py-20 px-6 transition-colors duration-300 ${e?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"Captured Moments"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif italic mb-8 ${e?"text-white":"text-gray-800"}`,children:"Gallery"}),u.jsx("div",{className:"w-16 h-px bg-gold/30 mx-auto"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.galleryImages.map((r,o)=>u.jsx(VU,{src:r,index:o,setSelectedImageIndex:i},o))}),t.googlePhotosLink&&u.jsx("div",{className:"text-center mt-12",children:t.googlePhotosLinkEnabled!==!1?u.jsxs("a",{href:t.googlePhotosLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gold text-white px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 transition-all",children:[u.jsx("i",{className:"fa-brands fa-google mr-2"}),"View Shared Album"]}):u.jsxs(U.button,{whileTap:{x:[-10,10,-10,10,0]},transition:{duration:.4},className:"inline-block bg-gray-400 text-gray-600 px-8 py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg cursor-not-allowed opacity-60",title:"Album is currently locked",children:[u.jsx("i",{className:"fa-solid fa-lock mr-2"}),"Shared Album Locked"]})})]})})}),u.jsx(PU,{isDarkMode:e}),u.jsx(_t,{children:n!==null&&u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(null),className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4",children:[u.jsx("button",{onClick:r=>{r.stopPropagation(),i(null)},className:"absolute top-4 right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-xmark"})}),u.jsx("button",{onClick:r=>{r.stopPropagation(),a()},className:"absolute left-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-chevron-left"})}),u.jsx("button",{onClick:r=>{r.stopPropagation(),s()},className:"absolute right-4 text-white text-4xl hover:text-gold transition-colors z-10",children:u.jsx("i",{className:"fa-solid fa-chevron-right"})}),u.jsx("img",{src:t.galleryImages[n],alt:`Gallery ${n}`,className:"max-w-full max-h-full object-contain",onClick:r=>r.stopPropagation()})]})})]})},BU=({onAddRSVP:t,isDarkMode:e})=>{const[n,i]=E.useState({name:"",email:"",status:ie.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),[s,a]=E.useState(!1),r=()=>{const h=Date.now()+3e3,f={startVelocity:30,spread:360,ticks:60,zIndex:0},d=(v,b)=>Math.random()*(b-v)+v,m=setInterval(function(){const v=h-Date.now();if(v<=0)return clearInterval(m);const b=50*(v/3e3),S=["#d4af37","#f7e7ce","#ffffff","#e5e7eb"];Ga({...f,particleCount:b,origin:{x:d(.1,.3),y:Math.random()-.2},colors:S}),Ga({...f,particleCount:b,origin:{x:d(.7,.9),y:Math.random()-.2},colors:S})},250);Ga({particleCount:150,spread:70,origin:{y:.6},colors:["#d4af37","#f7e7ce","#ffffff"]})},o=c=>{c.preventDefault();const h={id:Date.now().toString(),...n,timestamp:new Date().toISOString()};t(h),a(!0),n.status===ie.ATTENDING&&r()},l=()=>{i({name:"",email:"",status:ie.ATTENDING,plusOne:!1,plusOneName:"",followUpDate:""}),a(!1)};return u.jsx("div",{className:"container mx-auto px-6 max-w-2xl",children:u.jsx(_t,{mode:"wait",children:s?u.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-16 shadow-[0_50px_100px_rgba(212,175,55,0.2)] border border-gold/30 text-center rounded-sm relative overflow-hidden ${e?"bg-[#262626]":"bg-white"}`,children:[u.jsx(U.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"w-24 h-24 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner border border-gold/20",children:u.jsx("i",{className:"fa-solid fa-crown text-gold text-4xl"})}),u.jsx("h2",{className:`text-4xl font-serif mb-6 tracking-tight ${e?"text-white":"text-gray-800"}`,children:"Response Recorded"}),u.jsx("div",{className:"w-12 h-px bg-gold mx-auto mb-8"}),u.jsx("p",{className:"text-gray-500 mb-10 leading-relaxed font-light italic max-w-sm mx-auto font-body",children:n.status===ie.ATTENDING?"We are delighted to have you join us. Your seat in the Grand Ballroom has been reserved with honor.":"We are sorry you can't make it. Your well wishes are deeply appreciated and will be shared with the couple."}),u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gold font-black flex items-center gap-3 font-body",children:[u.jsx("span",{className:"w-2 h-2 bg-gold rounded-full animate-ping"}),"Invitation Status Updated"]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-gold text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body",children:"Enter Portal"}),u.jsxs("a",{href:"https://calendar.google.com/calendar/render?action=TEMPLATE&text=Florie+%26+Louie%27s+Wedding&dates=20260704T150000Z/20260704T230000Z&details=A+Celebration+of+Love&location=Archdiocesan+Shrine+of+St.+Therese,+Cebu+City",target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-all font-body flex items-center gap-2",children:[u.jsx("i",{className:"fa-brands fa-google"})," Add to Calendar"]}),u.jsx("button",{onClick:l,className:"bg-transparent border border-gold/20 text-gold px-8 py-3 rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-gold/5 transition-all font-body",children:"Edit Response"})]})]})]},"success"):u.jsxs(U.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9,filter:"blur(10px)"},className:`p-10 md:p-16 shadow-[0_40px_100px_rgba(0,0,0,0.1)] relative border border-gold/5 rounded-sm overflow-hidden transition-colors duration-300 ${e?"bg-[#262626]":"bg-white"}`,children:[u.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gold/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("span",{className:"text-gold text-[10px] uppercase tracking-[0.6em] font-black mb-4 block font-body",children:"The Union of Souls"}),u.jsx("h2",{className:`text-4xl md:text-5xl font-serif mb-4 ${e?"text-white":"text-gray-800"}`,children:"Reservation"}),u.jsx("div",{className:"w-12 h-px bg-gold/30 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest italic font-body",children:"Kindly respond by April 15, 2026"})]}),u.jsxs("form",{onSubmit:o,className:"space-y-10",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Guest Full Name"}),u.jsx("input",{required:!0,type:"text",value:n.name,onChange:c=>i(h=>({...h,name:c.target.value})),className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-lg font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"e.g. Florie Mae Faciol"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-4 font-black text-gray-400 font-body",children:"Attendance Selection"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"With Pleasure",value:ie.ATTENDING,icon:"fa-heart"},{label:"With Regret",value:ie.NOT_ATTENDING,icon:"fa-envelope-open"},{label:"Undecided",value:ie.UNDECIDED,icon:"fa-hourglass"}].map(c=>u.jsxs("button",{type:"button",onClick:()=>i(h=>({...h,status:c.value})),className:`flex flex-col items-center justify-center py-6 px-4 border-2 transition-all duration-300 rounded-sm group ${n.status===c.value?"bg-gold border-gold text-white shadow-lg scale-105":e?"bg-[#1a1a1a] border-gray-700 text-gray-400 hover:border-gold/30 hover:text-gold":"bg-white border-gray-50 text-gray-400 hover:border-gold/30 hover:text-gold"}`,children:[u.jsx("i",{className:`fa-solid ${c.icon} mb-3 text-lg ${n.status===c.value?"text-white":"text-gold/30 group-hover:text-gold"}`}),u.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest font-body",children:c.label})]},c.value))})]}),n.status===ie.UNDECIDED&&u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:["Email Address ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{required:!0,type:"email",value:n.email,onChange:c=>i(h=>({...h,email:c.target.value})),className:`w-full border-b-2 py-3 focus:border-gold outline-none transition-all text-lg font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"your@email.com"}),u.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:"Required for follow-up"})]}),n.status===ie.ATTENDING&&u.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-6",children:[u.jsxs("div",{className:`flex items-center gap-3 p-6 border-l-4 border-gold rounded-sm ${e?"bg-[#1a1a1a]":"bg-gray-50"}`,children:[u.jsx("input",{type:"checkbox",id:"plusOne",checked:n.plusOne,onChange:c=>i(h=>({...h,plusOne:c.target.checked})),className:"accent-gold h-5 w-5 cursor-pointer"}),u.jsx("label",{htmlFor:"plusOne",className:"text-[11px] uppercase tracking-[0.2em] font-bold text-gray-500 cursor-pointer font-body",children:"I will be accompanied by a guest (+1)"})]}),n.plusOne&&u.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group pl-6",children:[u.jsx("label",{className:"block text-[10px] uppercase tracking-[0.3em] mb-3 font-black text-gray-400 group-focus-within:text-gold transition-colors font-body",children:"Plus One Name"}),u.jsx("input",{required:!0,type:"text",value:n.plusOneName,onChange:c=>i(h=>({...h,plusOneName:c.target.value})),className:`w-full border-b-2 py-2 focus:border-gold outline-none transition-all text-base font-serif bg-transparent placeholder:text-gray-500 ${e?"border-gray-700 text-white":"border-gray-100"}`,placeholder:"Companion's full name"})]})]}),n.status===ie.NOT_ATTENDING&&u.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-6 border-l-4 border-gold/30 rounded-sm italic text-gray-400 text-sm font-body ${e?"bg-black/20":"bg-gray-50"}`,children:u.jsx("p",{className:"leading-relaxed",children:`"We'll miss you, but we'll carry your well-wishes in our hearts. Pour a glass for us at home! "`})}),u.jsxs("button",{type:"submit",className:"w-full py-6 bg-gold text-white uppercase tracking-[0.5em] font-black hover:bg-[#b8962d] shadow-[0_20px_40px_rgba(212,175,55,0.3)] transition-all transform hover:-translate-y-1 rounded-sm text-xs flex items-center justify-center gap-4 font-body",children:["Submit Response ",u.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})]},"form")})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="firebasestorage.googleapis.com",nN="storageBucket",HU=2*60*1e3,FU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends Ei{constructor(e,n,i=0){super(Jh(e),`Firebase Storage: ${n} (${Jh(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Jh(t){return"storage/"+t}function Cy(){const t="An unknown error occurred, please check the error payload for server response.";return new He(Be.UNKNOWN,t)}function GU(t){return new He(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qU(t){return new He(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $U(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(Be.UNAUTHENTICATED,t)}function YU(){return new He(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WU(t){return new He(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KU(){return new He(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XU(){return new He(Be.CANCELED,"User canceled the upload/download.")}function QU(t){return new He(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function ZU(t){return new He(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JU(){return new He(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nN+"' property when initializing the app?")}function eP(){return new He(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tP(){return new He(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nP(t){return new He(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $m(t){return new He(Be.INVALID_ARGUMENT,t)}function iN(){return new He(Be.APP_DELETED,"The Firebase app was deleted.")}function iP(t){return new He(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Io(t,e){return new He(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $r(t){throw new He(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=At.makeFromUrl(e,n)}catch{return new At(e,"")}if(i.path==="")return i;throw ZU(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const r="(/(.*))?$",o=new RegExp("^gs://"+s+r,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${s}/o${d}`,"i"),v={bucket:1,path:3},b=n===tN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",p=new RegExp(`^https?://${b}/${s}/${S}`,"i"),y=[{regex:o,indices:l,postModify:a},{regex:m,indices:v,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<y.length;w++){const C=y[w],D=C.regex.exec(e);if(D){const A=D[C.indices.bucket];let N=D[C.indices.path];N||(N=""),i=new At(A,N),C.postModify(i);break}}if(i==null)throw QU(e);return i}}class sP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e,n){let i=1,s=null,a=null,r=!1,o=0;function l(){return o===2}let c=!1;function h(...S){c||(c=!0,e.apply(null,S))}function f(S){s=setTimeout(()=>{s=null,t(m,l())},S)}function d(){a&&clearTimeout(a)}function m(S,...p){if(c){d();return}if(S){d(),h.call(null,S,...p);return}if(l()||r){d(),h.call(null,S,...p);return}i<64&&(i*=2);let y;o===1?(o=2,y=0):y=(i+Math.random())*1e3,f(y)}let v=!1;function b(S){v||(v=!0,d(),!c&&(s!==null?(S||(o=2),clearTimeout(s),f(0)):S||(o=1)))}return f(0),a=setTimeout(()=>{r=!0,b(!0)},n),b}function rP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){return t!==void 0}function lP(t){return typeof t=="object"&&!Array.isArray(t)}function Ny(t){return typeof t=="string"||t instanceof String}function Gb(t){return Ay()&&t instanceof Blob}function Ay(){return typeof Blob<"u"}function Ym(t,e,n,i){if(i<e)throw $m(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw $m(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function sN(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bs||(Bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,i,s,a,r,o,l,c,h,f,d=!0,m=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=r,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=d,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new uc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const r=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(r),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(r),this.pendingConnection_=null;const o=a.getErrorCode()===Bs.NO_ERROR,l=a.getStatus();if(!o||cP(l,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Bs.ABORT;i(!1,new uc(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new uc(c,a))})},n=(i,s)=>{const a=this.resolve_,r=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());oP(l)?a(l):a()}catch(l){r(l)}else if(o!==null){const l=Cy();l.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,l)):r(l)}else if(s.canceled){const l=this.appDelete_?iN():XU();r(l)}else{const l=KU();r(l)}};this.canceled_?n(!1,new uc(!1,null,!0)):this.backoffId_=aP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function dP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pP(t,e,n,i,s,a,r=!0,o=!1){const l=sN(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return fP(h,e),dP(h,n),hP(h,a),mP(h,i),new uP(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yP(...t){const e=gP();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Ay())return new Blob(t);throw new He(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){if(typeof atob>"u")throw nP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ef{constructor(e,n){this.data=e,this.contentType=n||null}}function bP(t,e){switch(t){case Bn.RAW:return new ef(aN(e));case Bn.BASE64:case Bn.BASE64URL:return new ef(rN(t,e));case Bn.DATA_URL:return new ef(wP(e),SP(e))}throw Cy()}function aN(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=i,r=t.charCodeAt(++n);i=65536|(a&1023)<<10|r&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function _P(t){let e;try{e=decodeURIComponent(t)}catch{throw Io(Bn.DATA_URL,"Malformed data URL.")}return aN(e)}function rN(t,e){switch(t){case Bn.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Io(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Io(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xP(e)}catch(s){throw s.message.includes("polyfill")?s:Io(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class oN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Io(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=TP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function wP(t){const e=new oN(t);return e.base64?rN(Bn.BASE64,e.rest):_P(e.rest)}function SP(t){return new oN(t).contentType}function TP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){let i=0,s="";Gb(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gb(this.data_)){const i=this.data_,s=vP(i,e,n);return s===null?null:new Bi(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Bi(i,!0)}}static getBlob(...e){if(Ay()){const n=e.map(i=>i instanceof Bi?i.data_:i);return new Bi(yP.apply(null,n))}else{const n=e.map(r=>Ny(r)?bP(Bn.RAW,r).data:r.data_);let i=0;n.forEach(r=>{i+=r.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(r=>{for(let o=0;o<r.length;o++)s[a++]=r[o]}),new Bi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){let e;try{e=JSON.parse(t)}catch{return null}return lP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CP(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function lN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){return e}class St{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||NP}}let dc=null;function AP(t){return!Ny(t)||t.length<2?t:lN(t)}function cN(){if(dc)return dc;const t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(a,r){return AP(r)}const n=new St("name");n.xform=e,t.push(n);function i(a,r){return r!==void 0?Number(r):r}const s=new St("size");return s.xform=i,t.push(s),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),dc=t,dc}function RP(t,e){function n(){const i=t.bucket,s=t.fullPath,a=new At(i,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function IP(t,e,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const r=n[a];i[r.local]=r.xform(i,e[r.server])}return RP(i,t),i}function uN(t,e,n){const i=Ry(e);return i===null?null:IP(t,i,n)}function OP(t,e,n,i){const s=Ry(e);if(s===null||!Ny(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const r=encodeURIComponent;return a.split(",").map(c=>{const h=t.bucket,f=t.fullPath,d="/b/"+r(h)+"/o/"+r(f),m=Dl(d,n,i),v=sN({alt:"media",token:c});return m+v})[0]}function DP(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="prefixes",$b="items";function kP(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qb])for(const s of n[qb]){const a=s.replace(/\/$/,""),r=t._makeStorageReference(new At(e,a));i.prefixes.push(r)}if(n[$b])for(const s of n[$b]){const a=t._makeStorageReference(new At(e,s.name));i.items.push(a)}return i}function jP(t,e,n){const i=Ry(n);return i===null?null:kP(t,e,i)}class Id{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){if(!t)throw Cy()}function MP(t,e){function n(i,s){const a=uN(t,s,e);return Iy(a!==null),a}return n}function LP(t,e){function n(i,s){const a=jP(t,e,s);return Iy(a!==null),a}return n}function UP(t,e){function n(i,s){const a=uN(t,s,e);return Iy(a!==null),OP(a,s,t.host,t._protocol)}return n}function Oy(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=YU():s=$U():n.getStatus()===402?s=qU(t.bucket):n.getStatus()===403?s=WU(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function dN(t){const e=Oy(t);function n(i,s){let a=e(i,s);return i.getStatus()===404&&(a=GU(t.path)),a.serverResponse=s.serverResponse,a}return n}function PP(t,e,n,i,s){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),i&&(a.pageToken=i),s&&(a.maxResults=s);const r=e.bucketOnlyServerUrl(),o=Dl(r,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new Id(o,l,LP(t,e.bucket),c);return h.urlParams=a,h.errorHandler=Oy(e),h}function VP(t,e,n){const i=e.fullServerUrl(),s=Dl(i,t.host,t._protocol),a="GET",r=t.maxOperationRetryTime,o=new Id(s,a,UP(t,n),r);return o.errorHandler=dN(e),o}function zP(t,e){const n=e.fullServerUrl(),i=Dl(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function r(l,c){}const o=new Id(i,s,r,a);return o.successCodes=[200,204],o.errorHandler=dN(e),o}function BP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function HP(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=BP(null,e)),i}function FP(t,e,n,i,s){const a=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function o(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=o();r["Content-Type"]="multipart/related; boundary="+l;const c=HP(e,i,s),h=DP(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",m=Bi.getBlob(f,i,d);if(m===null)throw eP();const v={name:c.fullPath},b=Dl(a,t.host,t._protocol),S="POST",p=t.maxUploadRetryTime,g=new Id(b,S,MP(t,n),p);return g.urlParams=v,g.headers=r,g.body=m.uploadData(),g.errorHandler=Oy(e),g}class GP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s,a){if(this.sent_)throw $r("cannot .send() more than once");if(xs(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const r in a)a.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,a[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $r("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $r("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $r("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $r("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qP extends GP{initXhr(){this.xhr_.responseType="text"}}function Od(){return new qP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof At?this._location=n:this._location=At.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new At(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lN(this._location.path)}get storage(){return this._service}get parent(){const e=EP(this._location.path);if(e===null)return null;const n=new At(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iP(e)}}function $P(t,e,n){t._throwIfRoot("uploadBytes");const i=FP(t.storage,t._location,cN(),new Bi(e,!0),n);return t.storage.makeRequestWithTokens(i,Od).then(s=>({metadata:s,ref:t}))}function YP(t){const e={prefixes:[],items:[]};return hN(t,e).then(()=>e)}async function hN(t,e,n){const s=await WP(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await hN(t,e,s.nextPageToken)}function WP(t,e){e!=null&&typeof e.maxResults=="number"&&Ym("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=PP(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Od)}function KP(t){t._throwIfRoot("getDownloadURL");const e=VP(t.storage,t._location,cN());return t.storage.makeRequestWithTokens(e,Od).then(n=>{if(n===null)throw tP();return n})}function XP(t){t._throwIfRoot("deleteObject");const e=zP(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Od)}function QP(t,e){const n=CP(t._location.path,e),i=new At(t._location.bucket,n);return new ea(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){return/^[A-Za-z]+:\/\//.test(t)}function JP(t,e){return new ea(t,e)}function fN(t,e){if(t instanceof Dy){const n=t;if(n._bucket==null)throw JU();const i=new ea(n,n._bucket);return e!=null?fN(i,e):i}else return e!==void 0?QP(t,e):t}function e8(t,e){if(e&&ZP(e)){if(t instanceof Dy)return JP(t,e);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}else return fN(t,e)}function Yb(t,e){const n=e==null?void 0:e[nN];return n==null?null:At.makeFromBucketSpec(n,t)}function t8(t,e,n,i={}){t.host=`${e}:${n}`;const s=xs(e);s&&(Og(`https://${t.host}/b`),Dg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:QT(a,t.app.options.projectId))}class Dy{constructor(e,n,i,s,a,r=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=r,this._bucket=null,this._host=tN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HU,this._maxUploadRetryTime=FU,this._requests=new Set,s!=null?this._bucket=At.makeFromBucketSpec(s,this._host):this._bucket=Yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=At.makeFromBucketSpec(this._url,e):this._bucket=Yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ym("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ym("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new sP(iN());{const r=pP(e,this._appId,i,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const Wb="@firebase/storage",Kb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="storage";function n8(t,e,n){return t=qe(t),$P(t,e,n)}function i8(t){return t=qe(t),YP(t)}function Xb(t){return t=qe(t),KP(t)}function s8(t){return t=qe(t),XP(t)}function tf(t,e){return t=qe(t),e8(t,e)}function a8(t=Pg(),e){t=qe(t);const i=yd(t,mN).getImmediate({identifier:e}),s=WT("storage");return s&&r8(i,...s),i}function r8(t,e,n,i={}){t8(t,e,n,i)}function o8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Dy(n,i,s,e,ra)}function l8(){Ws(new fs(mN,o8,"PUBLIC").setMultipleInstances(!0)),Gn(Wb,Kb,""),Gn(Wb,Kb,"esm2020")}l8();const c8=Ug(JC),nf=a8(c8),Qb={uploadGalleryImage:async t=>{const n=`${Date.now()}_${t.name}`,i=tf(nf,`gallery/${n}`);return await n8(i,t),await Xb(i)},deleteGalleryImage:async t=>{try{const n=decodeURIComponent(t).match(/\/o\/(.+?)\?/);if(n&&n[1]){const i=n[1],s=tf(nf,i);await s8(s)}else throw new Error("Invalid image URL format")}catch(e){throw console.error("Error deleting image:",e),e}},listGalleryImages:async()=>{const t=tf(nf,"gallery/"),n=(await i8(t)).items.map(s=>Xb(s));return await Promise.all(n)}},Tn=({icon:t,title:e,description:n,isDarkMode:i})=>u.jsxs("div",{className:`mb-6 flex items-start gap-4 p-5 rounded-2xl border-l-4 border-gold shadow-sm transition-colors ${i?"bg-black/40 border-gold/50":"bg-gray-50 border-gold"}`,children:[u.jsx("div",{className:"text-gold text-2xl mt-1",children:u.jsx("i",{className:`fa-solid ${t}`})}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-sm font-bold uppercase tracking-widest font-body ${i?"text-white":"text-gray-800"}`,children:e}),u.jsx("p",{className:`text-xs mt-1 leading-relaxed ${i?"text-gray-400":"text-gray-500"}`,children:n})]})]}),an=({label:t,value:e,onChange:n,placeholder:i,isDarkMode:s})=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-[10px] uppercase font-bold font-body ${s?"text-gray-400":"text-gray-500"}`,children:t}),u.jsx("input",{type:"text",value:e,onChange:n,className:`w-full border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${s?"bg-black/20 border-white/10 text-white focus:border-gold focus:ring-1 focus:ring-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold"}`,placeholder:i})]}),u8=({content:t,onUpdateContent:e,rsvps:n,notes:i,onAddNote:s,onDeleteNote:a,onSendReminder:r,onBatchReminders:o,onDeleteRSVP:l,guestbookEntries:c,onDeleteGuestbookEntry:h,onClose:f,isDarkMode:d})=>{var Ul;const[m,v]=E.useState("content"),[b,S]=E.useState(""),[p,g]=E.useState(""),[y,w]=E.useState(!1),[C,D]=E.useState(null),[A,N]=E.useState(null),[I,M]=E.useState(null),[ae,je]=E.useState(""),[$e,Gt]=E.useState("all"),[Ze,L]=E.useState("name-asc"),[j,B]=E.useState(new Set),[te,T]=E.useState(null),[_,z]=E.useState(null),[F,G]=E.useState(!1),[Y,J]=E.useState(0),[q,ne]=E.useState(!1),le=E.useMemo(()=>{const x=n.reduce((bt,xn)=>bt+(xn.status===ie.ATTENDING?1+(xn.plusOne?1:0):0),0),H=n.filter(bt=>bt.status===ie.ATTENDING).length,Q=n.filter(bt=>bt.status===ie.NOT_ATTENDING).length,dt=n.filter(bt=>bt.status===ie.UNDECIDED).length,xt=n.filter(bt=>bt.status===ie.ATTENDING&&bt.plusOne).length;return{totalGuests:x,attendingCount:H,declinedCount:Q,pendingCount:dt,plusOneCount:xt}},[n]),O=E.useMemo(()=>{let x=n.filter(H=>{var xt;const Q=H.name.toLowerCase().includes(ae.toLowerCase())||((xt=H.email)==null?void 0:xt.toLowerCase().includes(ae.toLowerCase()))||!1,dt=$e==="all"||H.status===$e;return Q&&dt});return x.sort((H,Q)=>{switch(Ze){case"name-asc":return H.name.localeCompare(Q.name);case"name-desc":return Q.name.localeCompare(H.name);case"recent":return new Date(Q.timestamp||0).getTime()-new Date(H.timestamp||0).getTime();case"status":{const dt={[ie.ATTENDING]:0,[ie.UNDECIDED]:1,[ie.NOT_ATTENDING]:2};return dt[H.status]-dt[Q.status]}default:return 0}}),x},[n,ae,$e,Ze]),P=E.useCallback((x,H="success")=>{T({show:!0,message:x,type:H}),setTimeout(()=>T(null),3e3)},[]),Z=E.useCallback(()=>{const x=["Name","Email","Status","Plus One","Notes","Date"],H=O.map(xn=>[xn.name,xn.email,xn.status,xn.plusOne?"Yes":"No",xn.notes||"",xn.timestamp||""]),Q=[x,...H].map(xn=>xn.map(gN=>`"${gN}"`).join(",")).join(`
`),dt=new Blob([Q],{type:"text/csv"}),xt=URL.createObjectURL(dt),bt=document.createElement("a");bt.href=xt,bt.download=`guest-list-${new Date().toISOString().split("T")[0]}.csv`,bt.click(),URL.revokeObjectURL(xt),P("Guest list exported successfully!","success")},[O,P]),pe=E.useCallback(()=>{j.size===O.length?B(new Set):B(new Set(O.map(x=>x.id)))},[O,j]),X=E.useCallback(x=>{const H=new Set(j);H.has(x)?H.delete(x):H.add(x),B(H)},[j]),vt=E.useCallback(()=>{j.size!==0&&confirm(`Delete ${j.size} selected guests?`)&&(j.forEach(x=>l(x)),B(new Set),P(`${j.size} guests deleted`,"success"))},[j,l,P]),qt=E.useCallback(()=>{if(j.size===0)return;const x=n.filter(H=>j.has(H.id));M({show:!0,recipients:x,subject:"Update: Louie & Florie's Wedding",message:`Hi!

We're reaching out with some updates about our wedding...

Best,
Louie & Florie`})},[j,n]),ce=(x,H)=>{e({...t,[x]:H})},$t=(x,H,Q,dt)=>{const xt=[...t[x]];xt[H]={...xt[H],[Q]:dt},ce(x,xt)},Kn=(x,H)=>{const Q=[...t[x]||[],H];ce(x,Q)},sn=(x,H,Q)=>{D({show:!0,field:x,index:H,itemName:Q})},Dd=()=>{if(!C)return;const{field:x,index:H}=C,Q=t[x];if(Array.isArray(Q)){const dt=Q.filter((xt,bt)=>bt!==H);ce(x,dt)}D(null)},kd=(x,H,Q)=>{sn(x,H,Q)},jd=()=>{_&&(l(_.guestId),P(`${_.guestName} deleted from list`,"success"),z(null))},kl=()=>{if(!p.trim())return;const x={id:Date.now().toString(),text:p,completed:!1};ce("checklist",[...t.checklist||[],x]),g("")},Md=x=>{const H=(t.checklist||[]).map(Q=>Q.id===x?{...Q,completed:!Q.completed}:Q);ce("checklist",H)},jl=x=>{const H=(t.checklist||[]).filter(Q=>Q.id!==x);ce("checklist",H)},Ld=()=>{w(!0),setTimeout(()=>w(!1),3e3)},Ml=async x=>{if(!(!x||x.length===0)){G(!0),J(0);try{const H=[];for(let Q=0;Q<x.length;Q++){const dt=x[Q];if(!dt.type.startsWith("image/")){P(`${dt.name} is not an image file`,"error");continue}const xt=await Qb.uploadGalleryImage(dt);H.push(xt),J((Q+1)/x.length*100)}if(H.length>0){const Q=[...t.galleryImages||[],...H];ce("galleryImages",Q),P(`Successfully uploaded ${H.length} image(s)!`,"success")}}catch(H){console.error("Upload error:",H),P("Failed to upload images. Please try again.","error")}finally{G(!1),J(0)}}},ca=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?ne(!0):x.type==="dragleave"&&ne(!1)},Ll=x=>{x.preventDefault(),x.stopPropagation(),ne(!1),x.dataTransfer.files&&x.dataTransfer.files.length>0&&Ml(x.dataTransfer.files)},Dr=async(x,H)=>{try{await Qb.deleteGalleryImage(x);const Q=t.galleryImages.filter((dt,xt)=>xt!==H);ce("galleryImages",Q),P("Image deleted successfully","success")}catch(Q){console.error("Delete error:",Q),P("Failed to delete image","error")}},Un={...t,venues:t.venues||[],socialLinks:Array.isArray(t.socialLinks)?t.socialLinks:[],checklist:t.checklist||[],openingScreen:t.openingScreen||{}};return u.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 backdrop-blur-xl relative overflow-hidden",children:[u.jsx(_t,{children:(te==null?void 0:te.show)&&u.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-24 left-1/2 -translate-x-1/2 px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest ${te.type==="success"?"bg-green-600 text-white":te.type==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:[u.jsx("i",{className:`fa-solid ${te.type==="success"?"fa-circle-check":te.type==="error"?"fa-circle-xmark":"fa-circle-info"}`})," ",te.message]})}),u.jsx(_t,{children:y&&u.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-1/2 -translate-x-1/2 bg-green-600 text-white px-8 py-3 rounded-full shadow-2xl z-[60] flex items-center gap-3 font-bold uppercase text-[10px] tracking-widest",children:[u.jsx("i",{className:"fa-solid fa-circle-check"})," Changes Published Successfully"]})}),u.jsx(_t,{children:(C==null?void 0:C.show)&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>D(null),children:u.jsx(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:`${d?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-md w-full shadow-2xl border`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx("i",{className:"fa-solid fa-trash-can text-red-500 text-xl md:text-2xl"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900 mb-3",children:"Confirm Deletion"}),u.jsx("p",{className:"text-sm md:text-base text-gray-500 mb-2 font-body",children:"Are you sure you want to delete:"}),u.jsxs("p",{className:"text-gold font-bold text-base md:text-lg mb-6 font-body",children:['"',C.itemName,'"']}),u.jsx("p",{className:"text-[10px] md:text-sm text-gray-400 mb-8",children:"This action cannot be undone."}),u.jsxs("div",{className:"flex gap-3 md:gap-4",children:[u.jsx("button",{onClick:()=>D(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:Dd,className:"flex-1 bg-red-500 text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete"})]})]})})})}),u.jsx(_t,{children:(_==null?void 0:_.show)&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>z(null),children:u.jsx(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:`${d?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-md w-full shadow-2xl border`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors",children:u.jsx("i",{className:"fa-solid fa-user-minus text-red-500 text-xl md:text-2xl"})}),u.jsx("h3",{className:`text-xl md:text-2xl font-serif mb-3 transition-colors ${d?"text-white":"text-gray-900"}`,children:"Remove Guest"}),u.jsx("p",{className:`text-sm md:text-base mb-2 font-body transition-colors ${d?"text-gray-400":"text-gray-500"}`,children:"Are you sure you want to remove:"}),u.jsxs("p",{className:"text-gold font-bold text-base md:text-lg mb-6 font-body",children:['"',_.guestName,'"']}),u.jsx("p",{className:`text-[10px] md:text-sm mb-8 transition-colors ${d?"text-gray-500":"text-gray-400"}`,children:"This action will delete their RSVP and cannot be reversed."}),u.jsxs("div",{className:"flex gap-3 md:gap-4",children:[u.jsx("button",{onClick:()=>z(null),className:`flex-1 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest transition-all ${d?"bg-white/5 text-gray-300 hover:bg-white/10":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Keep Guest"}),u.jsx("button",{onClick:jd,className:"flex-1 bg-red-500 text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-red-600 transition-all shadow-lg shadow-red-500/30",children:"Delete Now"})]})]})})})}),u.jsx(_t,{children:(A==null?void 0:A.show)&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>N(null),children:u.jsx(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:`${d?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border`,children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-pen text-gold text-lg md:text-xl"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Edit Image URL"}),u.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Image #",A.index+1]})]})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsx(an,{label:"Image URL",value:A.newUrl,onChange:x=>N({...A,newUrl:x.target.value}),placeholder:"https://images.unsplash.com/..."}),A.newUrl&&A.newUrl!==A.currentUrl&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 md:p-4",children:u.jsxs("p",{className:"text-[10px] md:text-xs text-blue-800 font-body",children:[u.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),'Press "Save Changes" to update the image URL']})})]}),u.jsxs("div",{className:"flex gap-3 md:gap-4",children:[u.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:()=>{if(A.newUrl&&A.newUrl.trim()!==""&&A.newUrl!==A.currentUrl){const x=[...Un.galleryImages];x[A.index]=A.newUrl,ce("galleryImages",x)}N(null)},disabled:!A.newUrl||A.newUrl.trim()===""||A.newUrl===A.currentUrl,className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 transition-all shadow-lg shadow-gold/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})]})})})}),u.jsx(_t,{children:(I==null?void 0:I.show)&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>M(null),children:u.jsxs(U.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},onClick:x=>x.stopPropagation(),className:`${d?"bg-[#262626] border-white/10":"bg-white border-gold/20"} rounded-3xl p-6 md:p-10 max-w-2xl w-full shadow-2xl border flex flex-col max-h-[90vh]`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 shrink-0",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/10 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"fa-solid fa-paper-plane text-gold text-lg md:text-xl"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl md:text-2xl font-serif text-gray-900",children:"Send Email"}),u.jsxs("p",{className:"text-xs md:text-sm text-gray-400",children:["Targeting ",I.recipients.length," guests"]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6 md:mb-8 overflow-y-auto pr-2",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 md:p-4 border border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 cursor-pointer",onClick:()=>{const x=document.getElementById("recipient-list");x&&x.classList.toggle("hidden")},children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body",children:"Recipients"}),u.jsx("i",{className:"fa-solid fa-chevron-down text-gray-400 text-xs"})]}),u.jsx("div",{id:"recipient-list",className:"hidden flex flex-wrap gap-2 transition-all",children:I.recipients.map(x=>u.jsx("span",{className:`text-[10px] px-2 py-1 rounded border ${d?"bg-white/10 border-white/10 text-gray-300":"bg-white border-gray-200 text-gray-600"}`,children:x.name},x.id))}),I.recipients.length>0&&u.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[I.recipients.slice(0,3).map(x=>x.name).join(", ")," ",I.recipients.length>3&&`+ ${I.recipients.length-3} others`]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Subject Line"}),u.jsx("input",{type:"text",value:I.subject,onChange:x=>M({...I,subject:x.target.value}),className:`w-full border p-3 md:p-4 rounded-xl outline-none transition-all text-sm mb-2 ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 font-body mb-2 block",children:"Message Body"}),u.jsx("textarea",{rows:6,value:I.message,onChange:x=>M({...I,message:x.target.value}),className:`w-full border p-3 md:p-4 rounded-xl outline-none transition-all text-sm resize-none font-body leading-relaxed ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]})]}),u.jsxs("div",{className:"flex gap-3 md:gap-4 shrink-0",children:[u.jsx("button",{onClick:()=>M(null),className:"flex-1 bg-gray-100 text-gray-700 px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),u.jsx("button",{onClick:()=>{o(I.recipients.map(x=>x.id)),P(`Sent ${I.recipients.length} emails successfully!`,"success"),M(null)},className:"flex-1 bg-gold text-white px-4 md:px-6 py-3 rounded-xl font-bold uppercase text-xs tracking-widest hover:bg-gold/90 shadow-lg shadow-gold/30 transition-all",children:"Send"})]})]})})}),u.jsxs("div",{className:`flex flex-col h-full ${d?"bg-[#1a1a1a]":"bg-[#fcfaf7]"}`,children:[u.jsxs("div",{className:`backdrop-blur-md border-b p-4 md:p-8 flex justify-between items-center shrink-0 transition-colors ${d?"bg-[#1a1a1a]/80 border-white/5":"bg-white/80 border-gray-100"}`,children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-xl md:text-3xl font-serif leading-tight ${d?"text-white":"text-gray-900"}`,children:t.adminPanelTitle||"Wedding CMS"}),u.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-gold font-bold mt-1",children:t.adminPanelSubtitle||"Digital Experience Architect"})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[u.jsxs("button",{onClick:Ld,className:"bg-gold text-white px-3 md:px-6 py-2 md:py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:scale-105 transition-all flex items-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-cloud-arrow-up"}),u.jsx("span",{className:"hidden sm:inline",children:"Publish"})]}),u.jsx("button",{onClick:f,className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center transition-all group ${d?"bg-white/5 hover:bg-white/10":"bg-gray-100 hover:bg-gray-200"}`,children:u.jsx("i",{className:`fa-solid fa-xmark group-hover:text-red-500 transition-colors ${d?"text-gray-500":"text-gray-400"}`})})]})]}),u.jsxs("div",{className:`w-full max-w-[95vw] h-full ${d?"bg-[#1a1a1a]":"bg-[#fcfaf7]"} overflow-hidden flex flex-col md:flex-row transition-colors duration-300`,children:[u.jsxs("div",{className:`hidden md:flex md:w-80 ${d?"bg-[#262626] border-white/5":"bg-white border-gray-100"} border-r p-10 flex-col transition-colors duration-300 shadow-xl z-10`,children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:`text-2xl font-serif mb-2 ${d?"text-white":"text-gray-900"}`,children:"Admin Panel"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:`text-[10px] uppercase tracking-widest font-bold ${d?"text-gray-400":"text-gray-500"}`,children:"System Online"})]})]}),u.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"content",label:"Wedding Details",icon:"fa-gem"},{id:"guests",label:"Guest List",icon:"fa-users"},{id:"lists",label:"Venue & Events",icon:"fa-location-dot"},{id:"notes",label:"Checklist & Notes",icon:"fa-clipboard-list"},{id:"guestbook",label:"Guestbook",icon:"fa-book-open"}].map(x=>u.jsxs("button",{onClick:()=>v(x.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl transition-all font-bold text-xs uppercase tracking-widest ${m===x.id?"bg-gold text-white shadow-lg shadow-gold/20 translate-x-1":d?"text-gray-400 hover:bg-white/5 hover:text-gold":"text-gray-500 hover:bg-gray-50 hover:text-gold"}`,children:[u.jsx("i",{className:`fa-solid ${x.icon} w-5`}),x.label]},x.id))}),u.jsxs("button",{onClick:f,className:`mt-10 flex items-center gap-4 px-6 py-4 rounded-2xl transition-all font-bold text-xs uppercase tracking-widest ${d?"text-gray-500 hover:bg-red-500/10 hover:text-red-400":"text-gray-400 hover:bg-red-50 hover:text-red-600"}`,children:[u.jsx("i",{className:"fa-solid fa-right-from-bracket w-5"}),"Logout"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 custom-scrollbar",children:u.jsx("div",{className:"max-w-6xl mx-auto pb-20",children:u.jsxs(_t,{mode:"wait",children:[m==="content"&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-camera-retro",title:"Ceremony Media",description:"Manage your wedding's primary visual and audio assets.",isDarkMode:d}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsx(an,{label:"Music URL (MP3)",value:t.musicUrl,onChange:x=>ce("musicUrl",x.target.value),placeholder:"Direct link to mp3",isDarkMode:d}),u.jsx(an,{label:"Hero Background Image URL",value:t.heroImageUrl,onChange:x=>ce("heroImageUrl",x.target.value),placeholder:"https://unsplash.com/...",isDarkMode:d})]})]}),u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-gem",title:"Wedding Foundation",description:"Update the key details that anchor your entire website.",isDarkMode:d}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[u.jsx(an,{label:"Hero Section Title",value:t.heroTitle,onChange:x=>ce("heroTitle",x.target.value),isDarkMode:d}),u.jsx(an,{label:"Seal Initials (SL/FL)",value:(Ul=t.openingScreen)==null?void 0:Ul.sealInitials,onChange:x=>ce("openingScreen",{...t.openingScreen,sealInitials:x.target.value}),isDarkMode:d}),u.jsx(an,{label:"Admin Panel Header Title",value:t.adminPanelTitle,onChange:x=>ce("adminPanelTitle",x.target.value),isDarkMode:d}),u.jsx(an,{label:"Admin Panel Header Subtitle",value:t.adminPanelSubtitle,onChange:x=>ce("adminPanelSubtitle",x.target.value),isDarkMode:d})]})]}),u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-music",title:"Background Music",description:"Choose from curated romantic tracks or add your own custom music URL.",isDarkMode:d}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] uppercase font-bold font-body mb-4 block ${d?"text-gray-400":"text-gray-500"}`,children:"Curated Wedding Tracks"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Romantic Piano",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",icon:"fa-piano"},{name:"Classical Romance",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",icon:"fa-violin"},{name:"Acoustic Love",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",icon:"fa-guitar"},{name:"Elegant Strings",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",icon:"fa-music"}].map(x=>u.jsx("button",{onClick:()=>ce("musicUrl",x.url),className:`p-4 rounded-xl border-2 transition-all text-left group hover:border-gold hover:bg-gold/5 ${t.musicUrl===x.url?"border-gold bg-gold/10":d?"border-white/10 bg-white/5":"border-gray-200 bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center transition-all ${t.musicUrl===x.url?"bg-gold text-white":d?"bg-white/10 text-gray-400 group-hover:bg-gold/20 group-hover:text-gold":"bg-white text-gray-400 group-hover:bg-gold/20 group-hover:text-gold"}`,children:u.jsx("i",{className:`fa-solid ${x.icon}`})}),u.jsxs("div",{children:[u.jsx("div",{className:`font-bold text-sm ${d?"text-white":"text-gray-800"}`,children:x.name}),u.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:"Preview Available"})]}),t.musicUrl===x.url&&u.jsx("i",{className:"fa-solid fa-check text-gold ml-auto"})]})},x.url))})]}),u.jsxs("div",{children:[u.jsx("label",{className:`text-[10px] uppercase font-bold font-body mb-2 block ${d?"text-gray-400":"text-gray-500"}`,children:"Custom Music URL"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("input",{type:"text",value:t.musicUrl,onChange:x=>ce("musicUrl",x.target.value),placeholder:"https://your-music-url.com/song.mp3",className:`flex-1 border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${d?"bg-black/20 border-white/10 text-white focus:border-gold focus:ring-1 focus:ring-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold"}`}),u.jsxs("button",{onClick:()=>{if(t.musicUrl){const x=new Audio(t.musicUrl);x.volume=.5,x.play().catch(()=>P("Could not play audio","error")),setTimeout(()=>x.pause(),5e3)}},className:"w-full sm:w-auto px-6 py-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-sm font-bold",title:"Preview 5 seconds",children:[u.jsx("i",{className:"fa-solid fa-play"})," Preview"]})]}),u.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[u.jsx("i",{className:"fa-solid fa-info-circle mr-1"}),"Supports MP3, OGG, and WAV formats. Use a direct file URL."]})]}),t.musicUrl&&u.jsxs("div",{className:`border rounded-xl p-4 md:p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 ${d?"bg-gold/10 border-gold/20":"bg-gold/5 border-gold/20"}`,children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gold/20 rounded-full flex items-center justify-center shrink-0",children:u.jsx("i",{className:"fa-solid fa-music text-gold text-lg md:text-xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`text-[10px] uppercase tracking-widest font-bold mb-1 ${d?"text-gray-400":"text-gray-500"}`,children:"Currently Selected"}),u.jsx("div",{className:`text-xs md:text-sm font-mono truncate ${d?"text-gold":"text-gray-800"}`,children:t.musicUrl})]}),u.jsxs("button",{onClick:()=>ce("musicUrl",""),className:`w-full sm:w-auto px-4 py-2 rounded-lg transition-all text-[10px] font-bold uppercase ${d?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:[u.jsx("i",{className:"fa-solid fa-trash mr-2"}),"Remove"]})]})]})]}),u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-map-marked-alt",title:"Venue Orchestration",description:"Manage ceremony and reception locations.",isDarkMode:d}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[u.jsx(an,{label:"Couple Names",value:t.coupleNames,onChange:x=>ce("coupleNames",x.target.value),isDarkMode:d}),u.jsx(an,{label:"Public Date String",value:t.weddingDate,onChange:x=>ce("weddingDate",x.target.value),isDarkMode:d}),u.jsx(an,{label:"Wedding Time",value:t.weddingTime,onChange:x=>ce("weddingTime",x.target.value),placeholder:"3:00 PM",isDarkMode:d}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:`text-[10px] uppercase font-bold font-body ${d?"text-gray-400":"text-gray-500"}`,children:"Countdown Timer (Asia/Manila Time)"}),u.jsx("input",{type:"datetime-local",value:t.countdownDate.substring(0,16),onChange:x=>ce("countdownDate",x.target.value),className:`w-full border p-4 rounded-xl outline-none transition-all text-sm shadow-sm ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-white border-gray-200 text-gray-900 focus:border-gold"}`})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(an,{label:"Footer Text",value:t.footerText||"",onChange:x=>ce("footerText",x.target.value),placeholder:"Handcrafted with love for the celebration of a lifetime",isDarkMode:d})})]})]})]},"content-tab"),m==="lists"&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[u.jsx(Tn,{icon:"fa-clock",title:"Timeline Orchestrator",description:"Manage the moments of your celebration.",isDarkMode:d}),u.jsx("button",{onClick:()=>Kn("timelineItems",{time:"0:00 PM",event:"New Event",description:"Detail"}),className:"w-full sm:w-auto bg-gold text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-gold/20",children:"Add Event"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Un.timelineItems.map((x,H)=>u.jsxs("div",{className:`p-4 md:p-6 border rounded-2xl relative group transition-colors ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[u.jsx("button",{onClick:()=>kd("timelineItems",H,x.event||"Event"),className:`absolute top-4 right-4 transition-all opacity-100 sm:opacity-0 group-hover:opacity-100 ${d?"text-white/20 hover:text-red-400":"text-gray-300 hover:text-red-500"}`,children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsx("input",{value:x.time,onChange:Q=>$t("timelineItems",H,"time",Q.target.value),className:`w-full mb-2 font-bold rounded px-3 py-2 outline-none focus:border-gold text-sm ${d?"bg-black/20 border-white/10 text-gold":"bg-white border-gray-200 text-gold"}`}),u.jsx("input",{value:x.event,onChange:Q=>$t("timelineItems",H,"event",Q.target.value),className:`w-full mb-3 text-lg font-cursive rounded px-3 py-2 outline-none focus:border-gold ${d?"bg-black/20 border-white/10 text-white":"bg-white border-gray-200 text-gray-800"}`}),u.jsx("textarea",{value:x.description,onChange:Q=>$t("timelineItems",H,"description",Q.target.value),className:`w-full text-xs rounded px-3 py-2 outline-none focus:border-gold resize-none ${d?"bg-black/20 border-white/10 text-gray-400":"bg-white border-gray-200 text-gray-600"}`,rows:2})]},H))})]}),u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[u.jsxs("div",{className:"shrink-0",children:[u.jsx(Tn,{icon:"fa-images",title:"Gallery Curator",description:"Upload photos or link to external albums.",isDarkMode:d}),u.jsxs("div",{className:`mt-2 text-xs font-body ${d?"text-gray-500":"text-gray-400"}`,children:[u.jsx("i",{className:"fa-solid fa-image mr-2"}),Un.galleryImages.length," ",Un.galleryImages.length===1?"image":"images"," in gallery"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:flex gap-3 w-full md:w-auto items-end",children:[u.jsx("div",{className:"flex-grow",children:u.jsx(an,{label:"Google Photos Shared Link",value:t.googlePhotosLink,onChange:x=>ce("googlePhotosLink",x.target.value),placeholder:"https://photos.app.goo.gl/...",isDarkMode:d})}),u.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:u.jsxs("button",{onClick:()=>ce("googlePhotosLinkEnabled",!(t.googlePhotosLinkEnabled??!0)),className:`flex-1 sm:flex-none px-4 py-4 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all sm:h-[58px] flex items-center justify-center gap-2 ${t.googlePhotosLinkEnabled!==!1?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,title:t.googlePhotosLinkEnabled!==!1?"Album link is visible to guests":"Album link is hidden from guests",children:[u.jsx("i",{className:`fa-solid ${t.googlePhotosLinkEnabled!==!1?"fa-lock-open":"fa-lock"}`}),u.jsx("span",{className:"sm:hidden lg:inline",children:t.googlePhotosLinkEnabled!==!1?"Unlocked":"Locked"})]})})]})]}),u.jsxs("div",{className:`relative mb-8 border-2 border-dashed rounded-2xl p-8 text-center transition-all ${q?"border-gold bg-gold/5":d?"border-white/10 hover:border-gold/50":"border-gray-200 hover:border-gold/50"} ${F?"opacity-50 pointer-events-none":""}`,onDragEnter:ca,onDragLeave:ca,onDragOver:ca,onDrop:Ll,children:[u.jsx("input",{type:"file",id:"gallery-upload",multiple:!0,accept:"image/*",onChange:x=>Ml(x.target.files),className:"hidden",disabled:F}),F?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gold/20 rounded-full flex items-center justify-center mx-auto",children:u.jsx("i",{className:"fa-solid fa-spinner fa-spin text-gold text-2xl"})}),u.jsx("p",{className:`text-sm font-bold ${d?"text-white":"text-gray-700"}`,children:"Uploading to Firebase Storage..."}),u.jsx("div",{className:`w-full rounded-full h-2 max-w-xs mx-auto ${d?"bg-white/10":"bg-gray-200"}`,children:u.jsx("div",{className:"bg-gold h-2 rounded-full transition-all duration-300",style:{width:`${Y}%`}})}),u.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(Y),"%"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${d?"bg-white/5":"bg-gray-100"}`,children:u.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-gray-400 text-2xl"})}),u.jsx("h3",{className:`text-lg font-serif mb-2 ${d?"text-white":"text-gray-800"}`,children:"Upload Images"}),u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop images here, or click to browse"}),u.jsxs("label",{htmlFor:"gallery-upload",className:"inline-block bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/20 hover:bg-gold/90 cursor-pointer transition-all",children:[u.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Select Images"]}),u.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supports JPG, PNG, WebP  Max 10MB per file"})]})]}),Un.galleryImages.length===0?u.jsxs("div",{className:`text-center py-20 border-2 border-dashed rounded-2xl ${d?"border-white/5":"border-gray-200"}`,children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${d?"bg-white/5":"bg-gray-100"}`,children:u.jsx("i",{className:"fa-solid fa-image text-gray-400 text-2xl"})}),u.jsx("h3",{className:`text-lg font-serif mb-2 ${d?"text-gray-500":"text-gray-600"}`,children:"No Images Yet"}),u.jsx("p",{className:"text-sm text-gray-400 mb-6",children:'Click "Add Photo" to start building your gallery'})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Un.galleryImages.map((x,H)=>u.jsxs("div",{className:`relative group aspect-square rounded-xl overflow-hidden shadow-sm border-2 transition-all ${d?"border-white/5 hover:border-gold/30":"border-gray-100 hover:border-gold/30"}`,children:[u.jsx("img",{src:x,className:"w-full h-full object-cover",alt:"Gallery preview",loading:"lazy"}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all flex flex-col p-3 justify-between",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("span",{className:"text-white text-xs bg-black/50 px-2 py-1 rounded font-body",children:["#",H+1]}),u.jsx("button",{onClick:()=>Dr(x,H),className:"text-white hover:text-red-400 bg-black/50 w-8 h-8 rounded-full flex items-center justify-center transition-all",children:u.jsx("i",{className:"fa-solid fa-trash-can"})})]}),u.jsx("div",{className:"space-y-2",children:u.jsxs("button",{onClick:Q=>{Q.stopPropagation(),N({show:!0,index:H,currentUrl:x,newUrl:x})},className:`w-full px-3 py-2 rounded text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-all shadow-sm ${d?"bg-white/10 hover:bg-white/20 text-white":"bg-white/90 hover:bg-white text-gray-800"}`,children:[u.jsx("i",{className:"fa-solid fa-pen"})," Edit URL"]})})]})]},H))})]})]},"lists-tab"),m==="guests"&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:[u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} rounded-3xl p-6 md:p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-chart-pie",title:"Guest Analytics",description:"Live statistics of your wedding attendance.",isDarkMode:d}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[{label:"Total Souls",value:le.totalGuests,color:"text-gold",icon:"fa-users",bg:"bg-gold/10"},{label:"Attending",value:le.attendingCount,color:"text-green-500",icon:"fa-heart",bg:d?"bg-green-500/10":"bg-green-50"},{label:"Declined",value:le.declinedCount,color:"text-red-400",icon:"fa-heart-crack",bg:d?"bg-red-500/10":"bg-red-50"},{label:"Pending",value:le.pendingCount,color:"text-gray-400",icon:"fa-question",bg:d?"bg-white/5":"bg-gray-50"},{label:"Plus Ones",value:le.plusOneCount,color:"text-blue-500",icon:"fa-user-plus",bg:d?"bg-blue-500/10":"bg-blue-50"}].map(x=>u.jsxs("div",{className:`p-6 ${x.bg} rounded-2xl border flex flex-col items-center transition-all hover:scale-105 ${d?"border-white/5":"border-gray-100"}`,children:[u.jsx("i",{className:`fa-solid ${x.icon} ${x.color} mb-3 text-xl`}),u.jsx("div",{className:`text-3xl font-serif-sc mb-1 ${d?"text-white":"text-gray-900"}`,children:x.value}),u.jsx("div",{className:"text-[10px] uppercase tracking-widest font-bold text-gray-500",children:x.label})]},x.label))})]}),u.jsxs("div",{className:`${d?"bg-[#262626] border-white/5":"bg-white border-gray-100"} rounded-3xl p-10 shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-users-gear",title:"Guest List Management",description:"Advanced search, filter, and bulk operations.",isDarkMode:d}),u.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx("i",{className:`fa-solid fa-search absolute left-4 top-1/2 transform -translate-y-1/2 ${d?"text-white/30":"text-black/50"}`}),u.jsx("input",{type:"text",placeholder:"Search by name or email...",value:ae,onChange:x=>je(x.target.value),className:`w-full pl-12 pr-10 py-3 rounded-xl outline-none transition-all text-sm ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),ae&&u.jsx("button",{onClick:()=>je(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gold",children:u.jsx("i",{className:"fa-solid fa-xmark"})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2",children:[u.jsxs("select",{value:$e,onChange:x=>Gt(x.target.value),className:`flex-1 md:flex-none px-3 md:px-4 py-3 rounded-xl outline-none text-xs md:text-sm transition-colors ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-100 text-gray-900 focus:border-gold"}`,children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:ie.ATTENDING,children:"Attending"}),u.jsx("option",{value:ie.NOT_ATTENDING,children:"Declined"}),u.jsx("option",{value:ie.UNDECIDED,children:"Pending"})]}),u.jsxs("select",{value:Ze,onChange:x=>L(x.target.value),className:`flex-1 md:flex-none px-3 md:px-4 py-3 rounded-xl outline-none text-xs md:text-sm transition-colors ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-100 text-gray-900 focus:border-gold"}`,children:[u.jsx("option",{value:"name-asc",children:"Name A-Z"}),u.jsx("option",{value:"name-desc",children:"Name Z-A"}),u.jsx("option",{value:"recent",children:"Recent First"}),u.jsx("option",{value:"status",children:"By Status"})]}),u.jsxs("button",{onClick:Z,className:"col-span-2 md:col-span-1 px-4 md:px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all flex items-center justify-center gap-2 text-xs md:text-sm font-bold shadow-lg shadow-green-500/20",children:[u.jsx("i",{className:"fa-solid fa-download"}),u.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),u.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),j.size>0&&u.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`border rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 ${d?"bg-gold/10 border-gold/30 text-white":"bg-gold/10 border-gold/30 text-gray-900"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("i",{className:"fa-solid fa-check-double text-gold"}),u.jsxs("span",{className:"font-bold text-xs md:text-sm",children:[j.size," guest",j.size>1?"s":""," selected"]})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap w-full md:w-auto",children:[u.jsxs("button",{onClick:qt,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-paper-plane"}),u.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),u.jsxs("button",{onClick:vt,className:"flex-1 md:flex-none px-3 md:px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-trash"}),u.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),u.jsx("button",{onClick:()=>B(new Set),className:`flex-1 md:flex-none px-3 md:px-4 py-2 rounded-lg transition-all text-[10px] md:text-xs font-bold uppercase ${d?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Clear"})]})]}),le.pendingCount>0&&u.jsxs("div",{className:`border rounded-xl p-3 md:p-4 mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-3 ${d?"bg-yellow-500/10 border-yellow-500/20 text-yellow-500":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("i",{className:"fa-solid fa-clock"}),u.jsxs("span",{className:"text-xs md:text-sm",children:[le.pendingCount," guest",le.pendingCount>1?"s":""," haven't responded yet"]})]}),u.jsxs("button",{onClick:()=>{const x=n.filter(H=>H.status===ie.UNDECIDED);M({show:!0,recipients:x,subject:"Quick Reminder: Louie & Florie's Wedding",message:`Hi!

We hope you're doing well. We're finalizing our wedding numbers and wanted to check if you'll be able to join us.

Please let us know by visiting our website.

Best,
Louie & Florie`})},className:"w-full md:w-auto px-4 md:px-6 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all flex items-center justify-center gap-2 text-[10px] md:text-xs font-bold uppercase",children:[u.jsx("i",{className:"fa-solid fa-paper-plane"})," Follow Up All"]})]}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:`border-b text-left transition-colors ${d?"border-white/5":"border-gray-100"}`,children:[u.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:u.jsx("input",{type:"checkbox",checked:j.size===O.length&&O.length>0,onChange:pe,className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer transition-colors ${d?"bg-black/40 border-white/20":""}`})}),u.jsx("th",{className:"pb-4 pl-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Guest"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Status"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black",children:"Email"}),u.jsx("th",{className:"pb-4 text-[10px] uppercase tracking-widest text-gray-400 font-black text-right",children:"Actions"})]})}),u.jsxs("tbody",{children:[O.map(x=>u.jsxs("tr",{className:`border-b transition-colors ${d?"border-white/5 hover:bg-white/5":"border-gray-50 hover:bg-gray-50"}`,children:[u.jsx("td",{className:"py-5 pl-4",children:u.jsx("input",{type:"checkbox",checked:j.has(x.id),onChange:()=>X(x.id),className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer transition-colors ${d?"bg-black/40 border-white/20":""}`})}),u.jsxs("td",{className:"py-5 pl-4",children:[u.jsx("div",{className:`font-bold ${d?"text-white":"text-gray-800"}`,children:x.name}),x.plusOne&&u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[u.jsx("i",{className:"fa-solid fa-user-plus text-[10px]"})," +1 Guest"]})]}),u.jsx("td",{className:"py-5",children:u.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${x.status===ie.ATTENDING?"bg-green-100 text-green-600":x.status===ie.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.status===ie.ATTENDING?"Accepted":x.status===ie.NOT_ATTENDING?"Declined":"Pending"})}),u.jsx("td",{className:`py-5 text-sm font-body ${d?"text-gray-400":"text-gray-500"}`,children:x.email}),u.jsx("td",{className:"py-5 text-right",children:u.jsxs("div",{className:"flex gap-2 items-center justify-end",children:[x.notes&&u.jsxs("div",{className:"text-xs italic max-w-xs truncate mr-2 text-gray-500",title:x.notes,children:['"',x.notes,'"']}),u.jsx("button",{onClick:()=>r(x.id),className:`transition-colors p-2 ${d?"text-gray-600 hover:text-gold":"text-gray-300 hover:text-gold"}`,title:"Send Reminder",children:u.jsx("i",{className:"fa-solid fa-bell"})}),u.jsx("button",{onClick:()=>z({show:!0,guestId:x.id,guestName:x.name}),className:`transition-colors p-2 ${d?"text-gray-600 hover:text-red-500":"text-gray-300 hover:text-red-500"}`,title:"Delete Guest",children:u.jsx("i",{className:"fa-solid fa-trash-can"})})]})})]},x.id)),O.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-20 text-center text-gray-300 italic",children:ae||$e!=="all"?"No guests match your filters":"No responses recorded yet."})})]})]})}),u.jsx("div",{className:"md:hidden space-y-4",children:O.length>0?O.map(x=>u.jsxs("div",{className:`p-5 rounded-2xl border transition-colors ${d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:[u.jsx("div",{className:"flex justify-between items-start mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:j.has(x.id),onChange:()=>X(x.id),className:`w-4 h-4 rounded border-gray-300 text-gold focus:ring-gold cursor-pointer ${d?"bg-black/40 border-white/20":""}`}),u.jsxs("div",{children:[u.jsx("div",{className:`font-bold transition-colors ${d?"text-white":"text-gray-800"}`,children:x.name}),u.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${x.status===ie.ATTENDING?"bg-green-100 text-green-600":x.status===ie.NOT_ATTENDING?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.status===ie.ATTENDING?"Accepted":x.status===ie.NOT_ATTENDING?"Declined":"Pending"})]})]})}),x.notes&&u.jsxs("div",{className:`rounded-lg p-3 mb-3 transition-colors ${d?"bg-black/20":"bg-gray-50"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold mb-1",children:"Notes"}),u.jsxs("div",{className:`text-xs italic ${d?"text-gray-400":"text-gray-600"}`,children:['"',x.notes,'"']})]}),u.jsxs("div",{className:`flex gap-2 pt-2 border-t transition-colors ${d?"border-white/5":"border-gray-100"}`,children:[u.jsxs("button",{onClick:()=>r(x.id),className:"flex-1 bg-gold/10 text-gold px-4 py-2 rounded-lg hover:bg-gold/20 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[u.jsx("i",{className:"fa-solid fa-bell"})," Remind"]}),u.jsxs("button",{onClick:()=>z({show:!0,guestId:x.id,guestName:x.name}),className:"flex-1 bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[u.jsx("i",{className:"fa-solid fa-trash-can"})," Delete"]})]})]},x.id)):u.jsxs("div",{className:`rounded-xl p-12 text-center transition-colors ${d?"bg-white/5":"bg-gray-50"}`,children:[u.jsx("i",{className:"fa-solid fa-users-slash text-4xl text-gray-300 mb-4"}),u.jsx("p",{className:"text-gray-400 italic",children:ae||$e!=="all"?"No guests match your filters":"No responses recorded yet."})]})})]}),u.jsxs("div",{className:"mt-6 text-xs text-gray-400 text-center",children:["Showing ",O.length," of ",n.length," total guests"]})]},"guests-tab"),m==="notes"&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-list-check",title:"Planning Checklist",description:"Manage tasks with completion status.",isDarkMode:d}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 mb-8",children:[u.jsx("input",{value:p,onChange:x=>g(x.target.value),placeholder:"Add a new task...",className:`flex-1 border p-4 rounded-xl outline-none transition-all text-sm ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),u.jsx("button",{onClick:kl,className:"w-full sm:w-auto bg-gold text-white px-8 py-4 rounded-xl font-bold text-[10px] uppercase tracking-widest shadow-lg shadow-gold/20 transition-all",children:"Add Task"})]}),u.jsxs("div",{className:"space-y-4",children:[Un.checklist.map(x=>u.jsxs("div",{className:`flex items-center justify-between p-4 md:p-5 rounded-2xl border-2 transition-all duration-300 ${x.completed?d?"bg-green-500/10 border-green-500/20 opacity-60":"bg-green-50 border-green-100 opacity-60":d?"bg-white/5 border-white/5":"bg-gray-50 border-gray-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 md:gap-4 cursor-pointer",onClick:()=>Md(x.id),children:[u.jsx("button",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${x.completed?"bg-green-500 border-green-500 text-white":d?"border-gray-600 bg-black/20 hover:border-gold":"border-gray-300 bg-white hover:border-gold"}`,children:x.completed&&u.jsx("i",{className:"fa-solid fa-check text-[8px] md:text-[10px]"})}),u.jsx("span",{className:`text-xs md:text-sm transition-all select-none ${x.completed?"line-through text-gray-400 italic":d?"text-white font-medium":"text-gray-700 font-medium"}`,children:x.text})]}),u.jsx("button",{onClick:()=>jl(x.id),className:"text-gray-300 hover:text-red-500 transition-colors p-2",children:u.jsx("i",{className:"fa-solid fa-xmark"})})]},x.id)),Un.checklist.length===0&&u.jsx("p",{className:`text-center italic py-10 ${d?"text-gray-600":"text-gray-300"}`,children:"No items in your checklist."})]})]}),u.jsxs("div",{className:"space-y-6 md:space-y-8",children:[u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300`,children:[u.jsx(Tn,{icon:"fa-pen-fancy",title:"Meeting Notes",description:"Keep track of conversations with vendors.",isDarkMode:d}),u.jsx("textarea",{rows:5,value:b,onChange:x=>S(x.target.value),placeholder:"Type notes here...",className:`w-full border p-4 md:p-5 rounded-2xl outline-none transition-all mb-4 md:mb-6 resize-none text-sm leading-relaxed ${d?"bg-black/20 border-white/10 text-white focus:border-gold":"bg-gray-50 border-gray-200 text-gray-900 focus:border-gold"}`}),u.jsx("button",{onClick:()=>{b.trim()&&(s(b),S(""))},className:"w-full bg-gold text-white py-4 md:py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-gold/20 transition-all hover:bg-gold/90",children:"Store Note"})]}),u.jsx("div",{className:"space-y-6",children:i.map(x=>u.jsxs("div",{className:`p-8 rounded-3xl border relative group transition-colors ${d?"bg-white/5 border-white/5":"bg-white border-gray-50"}`,children:[u.jsx("button",{onClick:()=>a(x.id),className:"absolute top-6 right-6 text-gray-200 hover:text-red-500 opacity-0 group-hover:opacity-100",children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsx("div",{className:"text-gold text-[10px] font-black uppercase mb-4 tracking-widest",children:x.date}),u.jsxs("div",{className:`italic font-body whitespace-pre-wrap leading-relaxed ${d?"text-gray-400":"text-gray-600"}`,children:['"',x.content,'"']})]},x.id))})]})]},"notes-tab"),m==="guestbook"&&u.jsx(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-10",children:u.jsxs("div",{className:`${d?"bg-black/40 border-white/5":"bg-white border-gray-100"} p-6 md:p-10 rounded-3xl shadow-sm border transition-colors duration-300 mb-10`,children:[u.jsx(Tn,{icon:"fa-book-open",title:"Guestbook Entries",description:"Manage public messages from your guests.",isDarkMode:d}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map(x=>u.jsxs("div",{className:`p-6 border rounded-2xl relative group transition-all shadow-sm ${d?"bg-black/20 border-white/5 hover:bg-black/30":"bg-gray-50 border-gray-100 hover:bg-white"}`,children:[u.jsx("button",{onClick:()=>h(x.id),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:u.jsx("i",{className:"fa-solid fa-trash-can"})}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h4",{className:"font-serif text-gold text-lg",children:x.name}),u.jsx("span",{className:`text-[9px] uppercase tracking-widest font-bold ${d?"text-gray-500":"text-gray-400"}`,children:new Date(x.date).toLocaleDateString()})]}),u.jsxs("p",{className:`text-sm italic font-body ${d?"text-gray-400":"text-gray-600"}`,children:['"',x.message,'"']})]},x.id)),c.length===0&&u.jsx("div",{className:`col-span-full py-20 text-center italic ${d?"text-gray-600":"text-gray-300"}`,children:"No guestbook entries yet."})]})]})},"guestbook-tab")]})})})]}),u.jsx("div",{className:`md:hidden border-t py-2 px-2 safe-bottom z-[60] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] shrink-0 transition-colors relative ${d?"bg-[#1a1a1a] border-white/5":"bg-white border-gray-100"}`,children:u.jsxs("div",{className:"flex justify-around items-center relative",children:[u.jsx(U.div,{className:"absolute h-1 top-[-8px] bg-gold rounded-full shadow-[0_0_10px_rgba(212,175,55,0.4)]",initial:!1,animate:{left:`${["content","lists","guests","guestbook","notes"].indexOf(m)*20+4}%`,width:"12%"},transition:{type:"spring",stiffness:400,damping:35}}),[{id:"content",label:"Core",icon:"fa-pen-nib"},{id:"lists",label:"Lists",icon:"fa-list-check"},{id:"guests",label:"Guests",icon:"fa-users-gear"},{id:"guestbook",label:"Book",icon:"fa-book-open"},{id:"notes",label:"Notes",icon:"fa-flask"}].map(x=>u.jsxs("button",{onClick:()=>v(x.id),className:`flex flex-col items-center gap-1 transition-all w-full relative group py-2 ${m===x.id?"text-gold":d?"text-gray-500":"text-gray-400"}`,children:[u.jsx(U.div,{className:`p-2 rounded-xl transition-all ${m===x.id?"bg-gold/10":"group-hover:bg-gray-100/50 group-active:scale-90"}`,whileTap:{scale:.9},children:u.jsx("i",{className:`fa-solid ${x.icon} ${m===x.id?"text-lg":"text-base opacity-70"}`})}),u.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest transition-all ${m===x.id?"opacity-100 translate-y-0":"opacity-40 translate-y-0.5"}`,children:x.label})]},x.id))]})})]})]})},d8=({content:t,rsvps:e,initialName:n,onClose:i,onUpdateRSVP:s,isDarkMode:a})=>{const[r,o]=E.useState(n||""),[l,c]=E.useState(null),[h,f]=E.useState(!1),[d,m]=E.useState(null);E.useEffect(()=>{n&&v(n)},[n]);const v=N=>{const I=N||r,M=e.find(ae=>ae.name.toLowerCase().includes(I.toLowerCase().trim()));M?c(M):N||alert("No RSVP found for that name. Have you responded yet?")},b=N=>{m(N),f(!0)},S=N=>{if(N.includes("/maps/embed"))return N;if(N.includes("maps.app.goo.gl")||N.includes("goo.gl"))return`https://www.google.com/maps?q=${encodeURIComponent((d==null?void 0:d.name)||"")}&output=embed`;if(N.includes("google.com/maps")){const I=N.match(/place\/([^\/]+)/);if(I)return`https://www.google.com/maps?q=${encodeURIComponent(I[1].replace(/\+/g," "))}&output=embed`;const M=N.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(M)return`https://www.google.com/maps?q=${M[1]},${M[2]}&output=embed`}return N},p=()=>{var Ze;const N=new Date(t.countdownDate),I=N.toISOString().replace(/-|:|\.\d\d\d/g,""),M=new Date(N.getTime()+6*60*60*1e3).toISOString().replace(/-|:|\.\d\d\d/g,""),ae=encodeURIComponent(`${t.coupleNames}'s Wedding`),je=(Ze=t.venues)==null?void 0:Ze[0],$e=encodeURIComponent(je?`${je.name}, ${je.address}`:"Venue TBD"),Gt=encodeURIComponent("Join us for a beautiful celebration of love.");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${ae}&dates=${I}/${M}&details=${Gt}&location=${$e}`},g=t.venues||[],[y,w]=E.useState(!1),[C,D]=E.useState(!1),A=async N=>{if(!l)return;w(!0);const I={...l,status:N,timestamp:new Date().toISOString()};try{await s(I),c(I),D(!0),setTimeout(()=>D(!1),3e3)}catch(M){console.error("Failed to update RSVP:",M),alert("Something went wrong. Please try again.")}finally{w(!1)}};return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-xl flex items-center justify-center p-3 md:p-8",children:[u.jsxs(U.div,{initial:{scale:.95,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},className:`w-full max-w-2xl rounded-3xl overflow-hidden shadow-[0_50px_100px_rgba(0,0,0,0.6)] border flex flex-col max-h-[95vh] md:max-h-[90vh] ${a?"bg-[#1a1a1a] border-white/5":"bg-white border-gold/10"}`,children:[u.jsxs("div",{className:`${a?"bg-black/40":"bg-neutral-900"} px-6 py-8 md:p-12 text-white relative shrink-0`,children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-gold via-[#f7e7ce] to-gold"}),u.jsx("button",{onClick:i,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-white/50 hover:text-gold hover:bg-white/10 transition-all z-10",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),u.jsx("br",{}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gold/10 border border-gold/20 flex items-center justify-center text-gold shadow-inner",children:u.jsx("i",{className:"fa-solid fa-unlock-keyhole text-2xl"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl md:text-4xl font-serif mb-1 uppercase tracking-tight",children:"Guest Portal"}),u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3",children:[u.jsx("span",{className:"h-px w-6 bg-gold/50"}),u.jsx("p",{className:"text-gold uppercase tracking-[0.5em] text-[10px] font-black",children:"Private Invitation"}),u.jsx("span",{className:"h-px w-6 bg-gold/50"})]})]})]})]}),u.jsx("div",{className:"p-6 md:p-12 overflow-y-auto custom-scrollbar flex-1",children:l?u.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-10",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start text-center md:text-left gap-6 border-b pb-10 border-gray-100 dark:border-white/5",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gold font-cursive text-3xl mb-1",children:"Welcome"}),u.jsx("h3",{className:`text-4xl font-serif ${a?"text-white":"text-gray-800"}`,children:l.name}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mt-4",children:[u.jsx("span",{className:`text-[10px] uppercase font-black px-5 py-2 rounded-full tracking-widest shadow-sm ${l.status===ie.ATTENDING?"bg-green-600 text-white":l.status===ie.NOT_ATTENDING?"bg-red-600 text-white":"bg-amber-500 text-white"}`,children:l.status.replace("_"," ")}),l.plusOne&&u.jsx("span",{className:"text-[10px] text-gold font-black uppercase tracking-[0.2em] bg-gold/5 px-5 py-2 rounded-full border border-gold/10",children:"Guest Included"})]})]}),u.jsxs("button",{onClick:()=>c(null),className:"text-gray-400 text-[10px] uppercase tracking-widest border border-gray-100 dark:border-white/10 px-6 py-3 rounded-full hover:bg-gold/5 hover:text-gold transition-all font-bold",children:[u.jsx("i",{className:"fa-solid fa-arrow-left-long mr-2"})," Switch User"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-[11px] uppercase font-black text-gray-400 tracking-[0.4em] flex items-center gap-3",children:[u.jsx("span",{className:"w-8 h-px bg-gray-200 dark:bg-white/10"}),"Event Details"]}),u.jsxs("ul",{className:"space-y-6",children:[u.jsxs("li",{className:"flex gap-5 items-center group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-calendar-days text-lg"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Wedding Date"}),u.jsx("span",{className:`font-serif text-lg ${a?"text-gray-200":"text-gray-700"}`,children:t.weddingDate})]})]}),u.jsxs("li",{className:"flex gap-5 items-center group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-clock text-lg"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Ceremony Time"}),u.jsx("span",{className:`font-serif text-lg ${a?"text-gray-200":"text-gray-700"}`,children:t.weddingTime})]})]}),g.length>0?g.map((N,I)=>u.jsxs("li",{className:"flex gap-5 items-start group",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold shadow-sm mt-1 transition-transform group-hover:scale-110 ${a?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-location-dot text-lg"})}),u.jsxs("div",{className:"flex flex-col flex-1",children:[u.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400 font-bold mb-0.5",children:"Location"}),u.jsxs("button",{onClick:()=>b(N),className:`text-left text-sm md:text-base leading-relaxed hover:text-gold transition-colors ${a?"text-gray-300":"text-gray-600"}`,children:[u.jsx("strong",{className:`${a?"text-white":"text-gray-900"}`,children:N.name}),u.jsx("br",{}),u.jsx("span",{className:"opacity-70",children:N.address}),u.jsx("i",{className:"fa-solid fa-map-location-dot ml-2 text-xs text-gold opacity-60"})]})]})]},I)):u.jsxs("li",{className:"flex gap-5 items-center",children:[u.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-gold opacity-50 ${a?"bg-white/5":"bg-gray-50"}`,children:u.jsx("i",{className:"fa-solid fa-map-pin"})}),u.jsx("span",{className:"text-gray-400 text-sm italic",children:"Details to follow."})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:`p-8 rounded-3xl border flex-grow flex flex-col justify-center relative overflow-hidden ${a?"bg-white/5 border-white/5":"bg-gold/5 border-gold/10"}`,children:[u.jsx("div",{className:"absolute -right-4 -top-4 text-gold/5 text-8xl transform rotate-12",children:u.jsx("i",{className:"fa-solid fa-quote-right"})}),u.jsxs("h4",{className:"font-black text-[10px] uppercase tracking-[0.4em] text-gold mb-6 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),"Couple's Note"]}),u.jsx("p",{className:`text-base italic leading-relaxed font-serif relative z-10 ${a?"text-gray-300":"text-gray-600"}`,children:l.status===ie.UNDECIDED?"Your attendance status is still pending. We've reserved a tentative place for you and cannot wait to celebrate together.":l.status===ie.ATTENDING?"We are delighted to confirm your presence. Our finest arrangements are being tailored for your arrival at the venue.":"We have received your regrets. While your presence will be missed, we remain deeply grateful for your warmth and well wishes."})]}),l.status===ie.UNDECIDED&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:`text-[10px] uppercase font-black text-center tracking-[0.2em] mb-4 ${a?"text-gray-500":"text-gray-400"}`,children:"Ready to decide?"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{disabled:y,onClick:()=>A(ie.ATTENDING),className:`py-4 px-2 rounded-xl text-[10px] md:text-[11px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-3 ${a?"bg-green-600/20 text-green-400 border border-green-500/20 hover:bg-green-600/30":"bg-green-50 text-green-700 border border-green-100 hover:bg-green-100"}`,children:[u.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center shrink-0 ${a?"bg-green-400/20":"bg-green-600/10"}`,children:y?u.jsx("i",{className:"fa-solid fa-spinner fa-spin text-[10px]"}):u.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),u.jsx("span",{children:"I'll Be There"})]}),u.jsxs("button",{disabled:y,onClick:()=>A(ie.NOT_ATTENDING),className:`py-4 px-2 rounded-xl text-[10px] md:text-[11px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-3 ${a?"bg-red-600/20 text-red-400 border border-red-500/20 hover:bg-red-600/30":"bg-red-50 text-red-700 border border-red-100 hover:bg-red-100"}`,children:[u.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center shrink-0 ${a?"bg-red-400/20":"bg-red-600/10"}`,children:y?u.jsx("i",{className:"fa-solid fa-spinner fa-spin text-[10px]"}):u.jsx("i",{className:"fa-solid fa-xmark text-[10px]"})}),u.jsx("span",{children:"Declined"})]})]})]}),C&&u.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-green-500 text-white text-[10px] font-black uppercase tracking-widest py-3 rounded-lg text-center shadow-lg",children:[u.jsx("i",{className:"fa-solid fa-circle-check mr-2"}),"RSVP Updated Successfully"]}),l.status===ie.ATTENDING&&u.jsxs("a",{href:p(),target:"_blank",rel:"noopener noreferrer",className:"w-full py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black transition-all text-center flex items-center justify-center gap-4 shadow-xl active:scale-95 group bg-gold text-white hover:bg-[#b8962d]",children:[u.jsx("i",{className:"fa-solid fa-calendar-circle-plus text-lg group-hover:scale-125 transition-transform"}),"Add to Calendar"]})]})]}),u.jsxs("div",{className:"text-center pt-8 border-t border-gray-100 dark:border-white/5",children:[u.jsx("div",{className:"font-cursive text-2xl text-gold mb-2",children:"Louie & Florie"}),u.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-[0.6em] font-medium leading-loose",children:" July 4, 2026  Cebu City "})]})]}):u.jsxs("div",{className:"text-center py-6 md:py-10",children:[u.jsx("h3",{className:`text-2xl font-serif mb-4 tracking-wide ${a?"text-white":"text-gray-800"}`,children:"Verify Invitation"}),u.jsx("p",{className:"text-gray-400 mb-10 text-[11px] uppercase tracking-[0.2em] leading-relaxed max-w-xs mx-auto",children:"Please enter your full name exactly as it appears on your formal invitation."}),u.jsxs("div",{className:"flex flex-col gap-8 max-w-sm mx-auto",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",value:r,onChange:N=>o(N.target.value),placeholder:"Invitation Name",className:`w-full bg-transparent border-b-2 outline-none py-4 px-2 transition-all font-serif text-2xl text-center placeholder:opacity-30 ${a?"border-white/10 text-white focus:border-gold":"border-gray-100 text-gray-800 focus:border-gold"}`}),u.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-gold group-hover:w-full transition-all duration-500"})]}),u.jsx("button",{onClick:()=>v(),className:"bg-gold text-white px-10 py-5 rounded-2xl uppercase tracking-[0.4em] text-[11px] font-black hover:bg-[#b8962d] transition-all shadow-xl shadow-gold/20 hover:scale-[1.02] active:scale-95",children:"Confirm Identity"})]}),u.jsx("p",{className:"mt-12 text-[10px] text-gray-500 italic opacity-60",children:"Having trouble? Please reach out to the couple directly."})]})})]}),h&&d&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1),className:"fixed inset-0 z-[70] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:N=>N.stopPropagation(),className:`w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl ${a?"bg-[#1a1a1a]":"bg-white"}`,children:[u.jsxs("div",{className:`${a?"bg-black/40":"bg-neutral-900"} p-6 flex items-center justify-between`,children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-serif text-white mb-1",children:d.name}),u.jsx("p",{className:"text-white/60 text-sm",children:d.address})]}),u.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),u.jsx("div",{className:"relative w-full h-[500px]",children:u.jsx("iframe",{src:S(d.mapUrl),width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map to ${d.name}`})}),u.jsx("div",{className:`p-4 flex justify-end ${a?"bg-black/20":"bg-gray-50"}`,children:u.jsxs("a",{href:d.mapUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gold text-white px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gold/90 transition-all",children:[u.jsx("i",{className:"fa-solid fa-external-link mr-2"}),"Open in Maps"]})})]})})]})},h8=({count:t=20,type:e="petals"})=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=E.useMemo(()=>n?[]:Array.from({length:t}).map((s,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,size:Math.random()*(e==="sparkles"?4:15)+(e==="sparkles"?2:5),duration:Math.random()*20+20,delay:Math.random()*20,rotate:Math.random()*360})),[t,e,n]);return n?null:u.jsx("div",{className:"fixed inset-0 pointer-events-none z-[1] overflow-hidden",children:i.map(s=>u.jsxs(U.div,{className:"absolute",initial:{x:`${s.x}vw`,y:"-10vh",rotate:s.rotate,opacity:0},animate:{y:"110vh",x:[`${s.x}vw`,`${s.x+(Math.random()*10-5)}vw`],rotate:s.rotate+(Math.random()*360+360),opacity:[0,.4,.4,0]},transition:{duration:s.duration,repeat:1/0,delay:s.delay,ease:"linear"},style:{width:s.size,height:s.size},children:[e==="petals"&&u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-rose-200/40",children:u.jsx("path",{d:"M12 2C12 2 15 7 15 12C15 17 12 22 12 22C12 22 9 17 9 12C9 7 12 2 12 2Z",fill:"currentColor"})}),e==="sparkles"&&u.jsx("div",{className:"w-full h-full bg-gold/30 rounded-full blur-[1px]"}),e==="dust"&&u.jsx("div",{className:"w-full h-full bg-white/20 rounded-full"})]},s.id))})},f8=({content:t,onAdminClick:e,isDarkMode:n})=>{var a,r;const i=(o,l)=>{const c=o.toLowerCase(),h=l.toLowerCase();return c.includes("instagram")||h.includes("instagram")?"fa-brands fa-instagram":c.includes("facebook")||h.includes("facebook")?"fa-brands fa-facebook":c.includes("pinterest")||h.includes("pinterest")?"fa-brands fa-pinterest":c.includes("twitter")||h.includes("twitter")||c.includes("x")?"fa-brands fa-x-twitter":c.includes("tiktok")||h.includes("tiktok")?"fa-brands fa-tiktok":"fa-solid fa-link"},s=Array.isArray(t.socialLinks)?t.socialLinks:[];return u.jsxs("footer",{className:`py-24 border-t text-center relative overflow-hidden transition-colors duration-300 ${n?"bg-[#1a1a1a] border-gray-800":"bg-white border-gray-100"}`,children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-gold/5 rounded-full blur-3xl -z-10"}),u.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[u.jsx("div",{className:"text-5xl md:text-6xl font-serif text-gold mb-8 italic tracking-widest",children:t.coupleNames?t.coupleNames.split("&").map(o=>o.trim().charAt(0)).join(" & "):"A & I"}),u.jsxs("p",{className:"max-w-md mx-auto text-gray-400 uppercase tracking-[0.4em] text-[10px] font-bold mb-12",children:[t.weddingDate," ",u.jsx("span",{className:"mx-3 text-gold/30",children:""})," ",t.venues&&t.venues.length>0?t.venues[0].name:"Location TBD"]}),u.jsx("div",{className:"flex justify-center flex-wrap gap-10 mb-20",children:s.map((o,l)=>u.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-gold transition-all transform hover:scale-125",title:o.label,children:u.jsx("i",{className:`${i(o.label,o.url)} text-xl`})},l))}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-gray-400 font-medium",children:t.footerText||`Handcrafted with love for the ${t.coupleNames?(a=t.coupleNames.split("&")[1])==null?void 0:a.trim():"Couple"}`}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-[9px] uppercase tracking-widest text-gray-300",children:[u.jsxs("span",{children:[" 2026 ",((r=t.openingScreen)==null?void 0:r.brand)||t.coupleNames]}),u.jsx("span",{className:"w-1 h-1 bg-gray-200 rounded-full"}),u.jsxs("button",{onClick:e,className:"hover:text-gold transition-colors font-bold flex items-center gap-1",children:[u.jsx("i",{className:"fa-solid fa-lock text-[8px]"})," Management"]})]})]})]})]})};class sf{static getRSVPConfirmationMailto(e){const n=encodeURIComponent("RSVP Confirmation - Louie & Florie Wedding"),i=e.status===ie.ATTENDING?"Yes":e.status===ie.NOT_ATTENDING?"No":"Maybe",s=encodeURIComponent(`Dear ${e.name},

Thank you for your RSVP!

**Your RSVP Details:**
Name: ${e.name}
Email: ${e.email||"Not provided"}
Attending: ${i}
${e.plusOne?`Plus One: ${e.plusOneName||"Yes"}
`:""}
${e.dietary?`Dietary Restrictions: ${e.dietary}
`:""}
${e.notes?`Message: ${e.notes}
`:""}

We look forward to celebrating with you on July 4, 2026!

**Event Details:**
Date: July 4, 2026
Time: TBD
Venue: TBD

For any questions or changes, please reply to this email.

With love,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${s}`}static getFollowUpReminderMailto(e){const n=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),i=encodeURIComponent(`Dear ${e.name},

We hope this email finds you well!

We noticed you haven't confirmed your attendance for our wedding yet. We'd love to have you celebrate with us on July 4, 2026.

Please let us know if you'll be able to join us by visiting our wedding website:
[Your Website URL]

If you have any questions or need more information, feel free to reach out!

Looking forward to hearing from you.

Warmest regards,
Louie & Florie`);return`mailto:${e.email}?subject=${n}&body=${i}`}static getBatchReminderMailto(e){const n=e.map(a=>a.email).join(","),i=encodeURIComponent("Friendly Reminder - Louie & Florie Wedding RSVP"),s=encodeURIComponent(`Dear Friends and Family,

We hope this email finds you well!

We're reaching out to remind you about our upcoming wedding on July 4, 2026. If you haven't already, please RSVP through our wedding website at your earliest convenience.

We can't wait to celebrate this special day with you!

If you need any additional information, please don't hesitate to reach out.

With love,
Louie & Florie`);return`mailto:?bcc=${n}&subject=${i}&body=${s}`}static sendRSVPConfirmation(e){const n=this.getRSVPConfirmationMailto(e);window.open(n,"_blank")}static sendFollowUpReminder(e){const n=this.getFollowUpReminderMailto(e);window.open(n,"_blank")}static sendBatchReminders(e){const n=this.getBatchReminderMailto(e);window.open(n,"_blank")}}const m8=()=>{const[t,e]=E.useState(!0),[n,i]=E.useState(!1),[s,a]=E.useState(!1),[r,o]=E.useState(!1),[l,c]=E.useState(""),[h,f]=E.useState(""),[d,m]=E.useState(!1),v="admin@simplylouie.com",[b,S]=E.useState(""),[p,g]=E.useState(!0),[y,w]=E.useState(!0),[C,D]=E.useState(()=>{const O=localStorage.getItem("wedding_content");return O?JSON.parse(O):Rj}),[A,N]=E.useState(()=>{const O=localStorage.getItem("wedding_rsvps");return O?JSON.parse(O):[]}),[I,M]=E.useState(()=>{const O=localStorage.getItem("wedding_notes");return O?JSON.parse(O):[]}),[ae,je]=E.useState([]),$e=E.useRef(null),{scrollYProgress:Gt}=zT(),Ze=Ej(Gt,{stiffness:100,damping:30,restDelta:.001});E.useEffect(()=>{var P,Z;if(C.coupleNames==="Florie & Louie"||((P=C.openingScreen)==null?void 0:P.brand)==="Florie & Louie"||C.coupleNames==="Simply Louie"||((Z=C.openingScreen)==null?void 0:Z.brand)==="Simply Louie"){const pe={...C,coupleNames:"Louie & Florie",heroTitle:"Louie & Florie",openingScreen:{...C.openingScreen,title:"Louie & Florie",brand:"Louie & Florie",sealInitials:"LF"},adminPanelTitle:"Louie & Florie CMS"};D(pe),kt.updateContent(pe)}},[C]),E.useEffect(()=>{const O=kt.subscribeToContent(X=>{D(X),localStorage.setItem("wedding_content",JSON.stringify(X))}),P=kt.subscribeToRSVPs(X=>{N(X),localStorage.setItem("wedding_rsvps",JSON.stringify(X))}),Z=kt.subscribeToNotes(X=>{M(X),localStorage.setItem("wedding_notes",JSON.stringify(X))}),pe=kt.subscribeToGuestbook(X=>{je(X)});return()=>{O(),P(),Z(),pe()}},[]),E.useEffect(()=>{localStorage.setItem("wedding_content",JSON.stringify(C)),localStorage.setItem("wedding_rsvps",JSON.stringify(A)),localStorage.setItem("wedding_notes",JSON.stringify(I))},[C,A,I]),E.useEffect(()=>{const O=()=>{m(window.scrollY>400)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const L=()=>{$e.current&&(p?$e.current.play().catch(O=>console.log("Audio play blocked",O)):$e.current.pause(),g(!p))},j=()=>{requestAnimationFrame(()=>{w(O=>!O)})},B=O=>{N(P=>[...P,O]),kt.saveRSVP(O),O.email&&O.status!==ie.UNDECIDED&&sf.sendRSVPConfirmation(O),setTimeout(()=>{S(O.name),a(!0)},2500)},te=O=>(N(P=>P.map(Z=>Z.id===O.id?O:Z)),kt.saveRSVP(O)),T=O=>{D(O),kt.updateContent(O).catch(console.error)},_=O=>{const P=A.find(Z=>Z.id===O);P&&(sf.sendFollowUpReminder(P),N(Z=>Z.map(pe=>pe.id===O?{...pe,reminderSent:!0}:pe)))},z=O=>{const P=A.filter(Z=>O.includes(Z.id));sf.sendBatchReminders(P),N(Z=>Z.map(pe=>O.includes(pe.id)?{...pe,reminderSent:!0}:pe))},F=O=>{N(P=>P.filter(Z=>Z.id!==O)),kt.deleteRSVP(O)},G=O=>{const P={id:Date.now().toString(),content:O,date:new Date().toLocaleDateString()};M(Z=>[P,...Z]),kt.saveNote(P)},Y=O=>{M(P=>P.filter(Z=>Z.id!==O)),kt.deleteNote(O)};E.useEffect(()=>{const O=Qh.onAuthStateChange(P=>{P?(i(!0),o(!1)):i(!1)});return()=>O()},[]);const J=()=>{o(!0),f(""),c("")},q=async O=>{O.preventDefault(),f("");try{await Qh.login(v,l),i(!0),o(!1),window.scrollTo(0,0)}catch(P){console.error("Login error:",P),P.code==="auth/invalid-credential"||P.code==="auth/wrong-password"?f("Incorrect password"):P.code==="auth/user-not-found"?f("Admin account not configured"):P.code==="auth/too-many-requests"?f("Too many failed attempts. Try again later."):f("Authentication failed. Please try again.")}},ne=async()=>{await Qh.logout(),i(!1)},le=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(Ij,{content:C,onComplete:()=>e(!1)}):u.jsxs("div",{className:`min-height-screen transition-colors duration-700 relative overflow-hidden ${y?"bg-[#1a1a1a] text-white/90":"bg-[#fcfaf7] text-gray-800"}`,children:[u.jsx(h8,{count:25,type:"petals"}),u.jsx("audio",{ref:$e,loop:!0,preload:"auto",children:u.jsx("source",{src:C.musicUrl,type:"audio/mpeg"})},C.musicUrl),u.jsx(U.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gold z-[100] origin-left",style:{scaleX:Ze}}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx(Oj,{onAdminClick:J,onGuestDashboardClick:()=>{S(""),a(!0)},isMuted:p,onToggleMusic:L,isDarkMode:y,onToggleTheme:j,hidden:n||s||r}),u.jsx(Dj,{content:C}),u.jsxs("main",{className:"flex-grow",children:[u.jsx(zU,{content:C,isDarkMode:y}),u.jsxs("div",{id:"rsvp",className:`py-20 relative transition-colors duration-300 ${y?"bg-black/20":"bg-champagne/10"}`,children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gold/30 to-transparent"}),u.jsx(BU,{onAddRSVP:B,isDarkMode:y})]})]}),u.jsx(f8,{content:C,onAdminClick:J,isDarkMode:y}),u.jsx(_t,{children:d&&u.jsx(U.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:le,className:"fixed bottom-8 left-8 z-40 w-12 h-12 bg-white text-gold rounded-full shadow-lg border border-gold/20 flex items-center justify-center hover:bg-gold hover:text-white transition-colors duration-300",children:u.jsx("i",{className:"fa-solid fa-arrow-up"})})}),u.jsx(_t,{children:s&&u.jsx(d8,{content:C,rsvps:A,initialName:b,onClose:()=>a(!1),onUpdateRSVP:te,isDarkMode:y})}),u.jsx(_t,{children:r&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>o(!1),children:u.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`p-8 md:p-12 rounded-sm shadow-2xl max-w-md w-full relative border-t-4 border-gold ${y?"bg-[#262626] text-white":"bg-white text-gray-800"}`,onClick:O=>O.stopPropagation(),children:[u.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 transition-colors",children:u.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"fa-solid fa-lock text-3xl text-gold"})}),u.jsx("h3",{className:`text-2xl font-serif ${y?"text-white":"text-gray-800"}`,children:"Admin Access"}),u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2",children:"Enter Your Password"})]}),u.jsxs("form",{onSubmit:q,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-wider font-bold block mb-2",children:"Password"}),u.jsx("input",{autoFocus:!0,type:"password",value:l,onChange:O=>c(O.target.value),placeholder:"Enter your admin password",required:!0,className:`w-full text-center border-2 py-4 px-4 text-lg outline-none focus:border-gold transition-all rounded-xl font-body bg-transparent placeholder:text-gray-400 ${y?"border-gray-700 text-white":"border-gray-200 text-gray-800"}`})]}),h&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:u.jsxs("p",{className:"text-red-600 text-xs text-center font-bold flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-circle-exclamation"}),h]})}),u.jsxs("button",{type:"submit",className:"w-full bg-gold text-white py-4 rounded-xl text-[10px] uppercase font-bold tracking-[0.2em] hover:bg-[#b8962d] transition-all shadow-lg shadow-gold/20 flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-unlock"}),"Unlock Admin Panel"]}),u.jsx("div",{className:"text-center pt-2",children:u.jsxs("p",{className:"text-xs text-gray-400",children:[u.jsx("i",{className:"fa-solid fa-shield-halved mr-1"}),"Secured with Firebase Authentication"]})})]})]})})}),u.jsx(_t,{children:n&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 md:p-8",onClick:()=>i(!1),children:u.jsx(U.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"w-full max-w-[90vw] h-[90vh] rounded-3xl shadow-2xl relative overflow-hidden",onClick:O=>O.stopPropagation(),children:u.jsx(u8,{content:C,onUpdateContent:T,rsvps:A,notes:I,onAddNote:G,onDeleteNote:Y,onSendReminder:_,onBatchReminders:z,onDeleteRSVP:F,guestbookEntries:ae,onDeleteGuestbookEntry:O=>kt.deleteGuestbookEntry(O),onClose:ne,isDarkMode:y})})},"admin-modal")})]})]})},pN=document.getElementById("root");if(!pN)throw new Error("Could not find root element to mount to");const p8=pR.createRoot(pN);p8.render(u.jsx(MN.StrictMode,{children:u.jsx(m8,{})}));
